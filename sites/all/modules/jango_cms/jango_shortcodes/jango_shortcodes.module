<?php

function _jango_shortcodes_body_class($class = '') {
  static $classes;
  $classes = empty($classes) ? array() : $classes;
  $classes[] = $class;
  return $classes;
}

/**
 * Implementation of hook_menu().
 */
function jango_shortcodes_menu() {
//  variable_set('nd_visualshortcodes_extra_css', drupal_get_path('module', 'jango_shortcodes') . '/css/jango_shortcodes.css');
  variable_set('nd_visualshortcodes_extra_css', '');
  $fonts = array('' => t('Default'), 'font-second' => 'Lato');
  variable_set('nd_visualshortcodes_fonts', $fonts);
  $items = array();
  $items['admin/ajax/jango_shortcodes/icons_autocomplete'] = array(
    'page callback' => 'jango_shortcodes_ajax_icons_autocomplete',
    'access arguments' => array('administer nd visualshortcodes'),
    'type' => MENU_CALLBACK,
  );
  $items['admin/ajax/jango_shortcodes/feature_icons_autocomplete'] = array(
    'page callback' => 'jango_shortcodes_ajax_feature_icons_autocomplete',
    'access arguments' => array('administer nd visualshortcodes'),
    'type' => MENU_CALLBACK,
  );
  $items['admin/ajax/jango_shortcodes/custom_line_icons_autocomplete'] = array(
    'page callback' => 'jango_shortcodes_ajax_custom_line_icons_autocomplete',
    'access arguments' => array('administer nd visualshortcodes'),
    'type' => MENU_CALLBACK,
  );
  $items['admin/ajax/jango_shortcodes/social_icons_autocomplete'] = array(
    'page callback' => 'jango_shortcodes_ajax_social_icons_autocomplete',
    'access arguments' => array('administer nd visualshortcodes'),
    'type' => MENU_CALLBACK,
  );
  return $items;
}

function jango_shortcodes_ajax_icons_autocomplete($str) {
  $simplelineicons = array(
    'icon-user',
    'icon-user-female',
    'icon-users',
    'icon-user-follow',
    'icon-user-following',
    'icon-user-unfollow',
    'icon-trophy',
    'icon-speedometer',
    'icon-social-youtube',
    'icon-social-twitter',
    'icon-social-tumblr',
    'icon-social-facebook',
    'icon-social-dropbox',
    'icon-social-dribbble',
    'icon-shield',
    'icon-screen-tablet',
    'icon-screen-smartphone',
    'icon-screen-desktop',
    'icon-plane',
    'icon-notebook',
    'icon-moustache',
    'icon-mouse',
    'icon-magnet',
    'icon-magic-wand',
    'icon-hourglass',
    'icon-graduation',
    'icon-ghost',
    'icon-game-controller',
    'icon-fire',
    'icon-eyeglasses',
    'icon-envelope-open',
    'icon-envelope-letter',
    'icon-energy',
    'icon-emoticon-smile',
    'icon-disc',
    'icon-cursor-move',
    'icon-crop',
    'icon-credit-card',
    'icon-chemistry',
    'icon-bell',
    'icon-badge',
    'icon-anchor',
    'icon-action-redo',
    'icon-action-undo',
    'icon-bag',
    'icon-basket',
    'icon-basket-loaded',
    'icon-book-open',
    'icon-briefcase',
    'icon-bubbles',
    'icon-calculator',
    'icon-call-end',
    'icon-call-in',
    'icon-call-out',
    'icon-compass',
    'icon-cup',
    'icon-diamond',
    'icon-direction',
    'icon-directions',
    'icon-docs',
    'icon-drawer',
    'icon-drop',
    'icon-earphones',
    'icon-earphones-alt',
    'icon-feed',
    'icon-film',
    'icon-folder-alt',
    'icon-frame',
    'icon-globe',
    'icon-globe-alt',
    'icon-handbag',
    'icon-layers',
    'icon-map',
    'icon-picture',
    'icon-pin',
    'icon-playlist',
    'icon-present',
    'icon-printer',
    'icon-puzzle',
    'icon-speech',
    'icon-vector',
    'icon-wallet',
    'icon-arrow-down',
    'icon-arrow-left',
    'icon-arrow-right',
    'icon-arrow-up',
    'icon-bar-chart',
    'icon-bulb',
    'icon-calendar',
    'icon-control-end',
    'icon-control-forward',
    'icon-control-pause',
    'icon-control-play',
    'icon-control-rewind',
    'icon-control-start',
    'icon-cursor',
    'icon-dislike',
    'icon-equalizer',
    'icon-graph',
    'icon-grid',
    'icon-home',
    'icon-like',
    'icon-list',
    'icon-login',
    'icon-logout',
    'icon-loop',
    'icon-microphone',
    'icon-music-tone',
    'icon-music-tone-alt',
    'icon-note',
    'icon-pencil',
    'icon-pie-chart',
    'icon-question',
    'icon-rocket',
    'icon-share',
    'icon-share-alt',
    'icon-shuffle',
    'icon-size-actual',
    'icon-size-fullscreen',
    'icon-support',
    'icon-tag',
    'icon-trash',
    'icon-umbrella',
    'icon-wrench',
    'icon-ban',
    'icon-bubble',
    'icon-camcorder',
    'icon-camera',
    'icon-check',
    'icon-clock',
    'icon-close',
    'icon-cloud-download',
    'icon-cloud-upload',
    'icon-doc',
    'icon-envelope',
    'icon-eye',
    'icon-flag',
    'icon-folder',
    'icon-heart',
    'icon-info',
    'icon-key',
    'icon-link',
    'icon-lock',
    'icon-lock-open',
    'icon-magnifier',
    'icon-magnifier-add',
    'icon-magnifier-remove',
    'icon-paper-clip',
    'icon-paper-plane',
    'icon-plus',
    'icon-pointer',
    'icon-power',
    'icon-refresh',
    'icon-reload',
    'icon-settings',
    'icon-star',
    'icon-symbol-female',
    'icon-symbol-male',
    'icon-target',
    'icon-volume-1',
    'icon-volume-2',
    'icon-volume-off',
    'fa fa-support'
  );

  $glyfon_icons = array(
    'glyphicon glyphicon-asterisk',
    'glyphicon glyphicon-plus',
    'glyphicon glyphicon-euro',
    'glyphicon glyphicon-minus',
    'glyphicon glyphicon-cloud',
    'glyphicon glyphicon-envelope',
    'glyphicon glyphicon-pencil',
    'glyphicon glyphicon-glass',
    'glyphicon glyphicon-music',
    'glyphicon glyphicon-search',
    'glyphicon glyphicon-heart',
    'glyphicon glyphicon-star',
    'glyphicon glyphicon-star-empty',
    'glyphicon glyphicon-user',
    'glyphicon glyphicon-film',
    'glyphicon glyphicon-th-large',
    'glyphicon glyphicon-th',
    'glyphicon glyphicon-th-list',
    'glyphicon glyphicon-ok',
    'glyphicon glyphicon-remove',
    'glyphicon glyphicon-zoom-in',
    'glyphicon glyphicon-zoom-out',
    'glyphicon glyphicon-off',
    'glyphicon glyphicon-signal',
    'glyphicon glyphicon-cog',
    'glyphicon glyphicon-trash',
    'glyphicon glyphicon-home',
    'glyphicon glyphicon-file',
    'glyphicon glyphicon-time',
    'glyphicon glyphicon-road',
    'glyphicon glyphicon-download-alt',
    'glyphicon glyphicon-download',
    'glyphicon glyphicon-upload',
    'glyphicon glyphicon-inbox',
    'glyphicon glyphicon-play-circle',
    'glyphicon glyphicon-repeat',
    'glyphicon glyphicon-refresh',
    'glyphicon glyphicon-list-alt',
    'glyphicon glyphicon-lock',
    'glyphicon glyphicon-flag',
    'glyphicon glyphicon-headphones',
    'glyphicon glyphicon-volume-off',
    'glyphicon glyphicon-volume-down',
    'glyphicon glyphicon-volume-up',
    'glyphicon glyphicon-qrcode',
    'glyphicon glyphicon-barcode',
    'glyphicon glyphicon-tag',
    'glyphicon glyphicon-tags',
    'glyphicon glyphicon-book',
    'glyphicon glyphicon-bookmark',
    'glyphicon glyphicon-print',
    'glyphicon glyphicon-camera',
    'glyphicon glyphicon-font',
    'glyphicon glyphicon-bold',
    'glyphicon glyphicon-italic',
    'glyphicon glyphicon-text-height',
    'glyphicon glyphicon-text-width',
    'glyphicon glyphicon-align-left',
    'glyphicon glyphicon-align-center',
    'glyphicon glyphicon-align-right',
    'glyphicon glyphicon-align-justify',
    'glyphicon glyphicon-list',
    'glyphicon glyphicon-indent-left',
    'glyphicon glyphicon-indent-right',
    'glyphicon glyphicon-facetime-video',
    'glyphicon glyphicon-picture',
    'glyphicon glyphicon-map-marker',
    'glyphicon glyphicon-adjust',
    'glyphicon glyphicon-tint',
    'glyphicon glyphicon-edit',
    'glyphicon glyphicon-share',
    'glyphicon glyphicon-check',
    'glyphicon glyphicon-move',
    'glyphicon glyphicon-step-backward',
    'glyphicon glyphicon-fast-backward',
    'glyphicon glyphicon-backward',
    'glyphicon glyphicon-play',
    'glyphicon glyphicon-pause',
    'glyphicon glyphicon-stop',
    'glyphicon glyphicon-forward',
    'glyphicon glyphicon-fast-forward',
    'glyphicon glyphicon-step-forward',
    'glyphicon glyphicon-eject',
    'glyphicon glyphicon-chevron-left',
    'glyphicon glyphicon-chevron-right',
    'glyphicon glyphicon-plus-sign',
    'glyphicon glyphicon-minus-sign',
    'glyphicon glyphicon-remove-sign',
    'glyphicon glyphicon-ok-sign',
    'glyphicon glyphicon-question-sign',
    'glyphicon glyphicon-info-sign',
    'glyphicon glyphicon-screenshot',
    'glyphicon glyphicon-remove-circle',
    'glyphicon glyphicon-ok-circle',
    'glyphicon glyphicon-ban-circle',
    'glyphicon glyphicon-arrow-left',
    'glyphicon glyphicon-arrow-right',
    'glyphicon glyphicon-arrow-up',
    'glyphicon glyphicon-arrow-down',
    'glyphicon glyphicon-share-alt',
    'glyphicon glyphicon-resize-full',
    'glyphicon glyphicon-resize-small',
    'glyphicon glyphicon-exclamation-sign',
    'glyphicon glyphicon-gift',
    'glyphicon glyphicon-leaf',
    'glyphicon glyphicon-fire',
    'glyphicon glyphicon-eye-open',
    'glyphicon glyphicon-eye-close',
    'glyphicon glyphicon-warning-sign',
    'glyphicon glyphicon-plane',
    'glyphicon glyphicon-calendar',
    'glyphicon glyphicon-random',
    'glyphicon glyphicon-comment',
    'glyphicon glyphicon-magnet',
    'glyphicon glyphicon-chevron-up',
    'glyphicon glyphicon-chevron-down',
    'glyphicon glyphicon-retweet',
    'glyphicon glyphicon-shopping-cart',
    'glyphicon glyphicon-folder-close',
    'glyphicon glyphicon-folder-open',
    'glyphicon glyphicon-resize-vertical',
    'glyphicon glyphicon-resize-horizontal',
    'glyphicon glyphicon-hdd',
    'glyphicon glyphicon-bullhorn',
    'glyphicon glyphicon-bell',
    'glyphicon glyphicon-certificate',
    'glyphicon glyphicon-thumbs-up',
    'glyphicon glyphicon-thumbs-down',
    'glyphicon glyphicon-hand-right',
    'glyphicon glyphicon-hand-left',
    'glyphicon glyphicon-hand-up',
    'glyphicon glyphicon-hand-down',
    'glyphicon glyphicon-circle-arrow-right',
    'glyphicon glyphicon-circle-arrow-left',
    'glyphicon glyphicon-circle-arrow-up',
    'glyphicon glyphicon-circle-arrow-down',
    'glyphicon glyphicon-globe',
    'glyphicon glyphicon-wrench',
    'glyphicon glyphicon-tasks',
    'glyphicon glyphicon-filter',
    'glyphicon glyphicon-briefcase',
    'glyphicon glyphicon-fullscreen',
    'glyphicon glyphicon-dashboard',
    'glyphicon glyphicon-paperclip',
    'glyphicon glyphicon-heart-empty',
    'glyphicon glyphicon-link',
    'glyphicon glyphicon-phone',
    'glyphicon glyphicon-pushpin',
    'glyphicon glyphicon-usd',
    'glyphicon glyphicon-gbp',
    'glyphicon glyphicon-sort',
    'glyphicon glyphicon-sort-by-alphabet',
    'glyphicon glyphicon-sort-by-alphabet-alt',
    'glyphicon glyphicon-sort-by-order',
    'glyphicon glyphicon-sort-by-order-alt',
    'glyphicon glyphicon-sort-by-attributes',
    'glyphicon glyphicon-sort-by-attributes-alt',
    'glyphicon glyphicon-unchecked',
    'glyphicon glyphicon-expand',
    'glyphicon glyphicon-collapse-down',
    'glyphicon glyphicon-collapse-up',
    'glyphicon glyphicon-log-in',
    'glyphicon glyphicon-flash',
    'glyphicon glyphicon-log-out',
    'glyphicon glyphicon-new-window',
    'glyphicon glyphicon-record',
    'glyphicon glyphicon-save',
    'glyphicon glyphicon-open',
    'glyphicon glyphicon-saved',
    'glyphicon glyphicon-import',
    'glyphicon glyphicon-export',
    'glyphicon glyphicon-send',
    'glyphicon glyphicon-floppy-disk',
    'glyphicon glyphicon-floppy-saved',
    'glyphicon glyphicon-floppy-remove',
    'glyphicon glyphicon-floppy-save',
    'glyphicon glyphicon-floppy-open',
    'glyphicon glyphicon-credit-card',
    'glyphicon glyphicon-transfer',
    'glyphicon glyphicon-cutlery',
    'glyphicon glyphicon-header',
    'glyphicon glyphicon-compressed',
    'glyphicon glyphicon-earphone',
    'glyphicon glyphicon-phone-alt',
    'glyphicon glyphicon-tower',
    'glyphicon glyphicon-stats',
    'glyphicon glyphicon-sd-video',
    'glyphicon glyphicon-hd-video',
    'glyphicon glyphicon-subtitles',
    'glyphicon glyphicon-sound-stereo',
    'glyphicon glyphicon-sound-dolby',
    'glyphicon glyphicon-sound-5-1',
    'glyphicon glyphicon-sound-6-1',
    'glyphicon glyphicon-sound-7-1',
    'glyphicon glyphicon-copyright-mark',
    'glyphicon glyphicon-registration-mark',
    'glyphicon glyphicon-cloud-download',
    'glyphicon glyphicon-cloud-upload',
    'glyphicon glyphicon-tree-conifer',
    'glyphicon glyphicon-tree-deciduous ',
    'glyphicon glyphicon-flag',
    'glyphicon glyphicon-headphones',
    'glyphicon glyphicon-volume-off',
    'glyphicon glyphicon-volume-down',
    'glyphicon glyphicon-volume-up',
    'glyphicon glyphicon-qrcode',
    'glyphicon glyphicon-barcode',
    'glyphicon glyphicon-tag',
    'glyphicon glyphicon-tags',
    'glyphicon glyphicon-book',
    'glyphicon glyphicon-bookmark',
    'glyphicon glyphicon-print',
    'glyphicon glyphicon-camera',
    'glyphicon glyphicon-font',
    'glyphicon glyphicon-bold',
    'glyphicon glyphicon-italic',
    'glyphicon glyphicon-text-height',
    'glyphicon glyphicon-text-width',
    'glyphicon glyphicon-align-left',
    'glyphicon glyphicon-align-center',
    'glyphicon glyphicon-align-right',
    'glyphicon glyphicon-align-justify',
    'glyphicon glyphicon-list',
    'glyphicon glyphicon-indent-left',
    'glyphicon glyphicon-indent-right',
    'glyphicon glyphicon-facetime-video',
    'glyphicon glyphicon-picture',
    'glyphicon glyphicon-map-marker',
    'glyphicon glyphicon-adjust',
    'glyphicon glyphicon-tint',
    'glyphicon glyphicon-edit',
    'glyphicon glyphicon-share',
    'glyphicon glyphicon-check',
    'glyphicon glyphicon-move',
    'glyphicon glyphicon-step-backward',
    'glyphicon glyphicon-fast-backward',
    'glyphicon glyphicon-backward',
    'glyphicon glyphicon-play',
    'glyphicon glyphicon-pause',
    'glyphicon glyphicon-stop',
    'glyphicon glyphicon-forward',
    'glyphicon glyphicon-fast-forward',
    'glyphicon glyphicon-step-forward',
    'glyphicon glyphicon-eject',
    'glyphicon glyphicon-chevron-left',
    'glyphicon glyphicon-chevron-right',
    'glyphicon glyphicon-plus-sign',
    'glyphicon glyphicon-minus-sign',
    'glyphicon glyphicon-remove-sign',
    'glyphicon glyphicon-ok-sign',
    'glyphicon glyphicon-question-sign',
    'glyphicon glyphicon-info-sign',
    'glyphicon glyphicon-screenshot',
    'glyphicon glyphicon-remove-circle',
    'glyphicon glyphicon-ok-circle',
    'glyphicon glyphicon-ban-circle',
    'glyphicon glyphicon-arrow-left',
    'glyphicon glyphicon-arrow-right',
    'glyphicon glyphicon-arrow-up',
    'glyphicon glyphicon-arrow-down',
    'glyphicon glyphicon-share-alt',
    'glyphicon glyphicon-resize-full',
    'glyphicon glyphicon-resize-small',
    'glyphicon glyphicon-exclamation-sign',
    'glyphicon glyphicon-gift',
    'glyphicon glyphicon-leaf',
    'glyphicon glyphicon-fire',
    'glyphicon glyphicon-eye-open',
    'glyphicon glyphicon-eye-close',
    'glyphicon glyphicon-warning-sign',
    'glyphicon glyphicon-plane',
    'glyphicon glyphicon-calendar',
    'glyphicon glyphicon-random',
    'glyphicon glyphicon-comment',
    'glyphicon glyphicon-magnet',
    'glyphicon glyphicon-chevron-up',
    'glyphicon glyphicon-chevron-down',
    'glyphicon glyphicon-retweet',
    'glyphicon glyphicon-shopping-cart',
    'glyphicon glyphicon-folder-close',
    'glyphicon glyphicon-folder-open',
    'glyphicon glyphicon-resize-vertical',
    'glyphicon glyphicon-resize-horizontal',
    'glyphicon glyphicon-hdd',
    'glyphicon glyphicon-bullhorn',
    'glyphicon glyphicon-bell',
    'glyphicon glyphicon-certificate',
    'glyphicon glyphicon-thumbs-up',
    'glyphicon glyphicon-thumbs-down',
    'glyphicon glyphicon-hand-right',
    'glyphicon glyphicon-hand-left',
    'glyphicon glyphicon-hand-up',
    'glyphicon glyphicon-hand-down',
    'glyphicon glyphicon-circle-arrow-right',
    'glyphicon glyphicon-circle-arrow-left',
    'glyphicon glyphicon-circle-arrow-up',
    'glyphicon glyphicon-circle-arrow-down',
    'glyphicon glyphicon-globe',
    'glyphicon glyphicon-wrench',
    'glyphicon glyphicon-tasks',
    'glyphicon glyphicon-filter',
    'glyphicon glyphicon-briefcase',
    'glyphicon glyphicon-fullscreen',
    'glyphicon glyphicon-dashboard',
    'glyphicon glyphicon-paperclip',
    'glyphicon glyphicon-heart-empty',
    'glyphicon glyphicon-link',
    'glyphicon glyphicon-phone',
    'glyphicon glyphicon-pushpin',
    'glyphicon glyphicon-usd',
    'glyphicon glyphicon-gbp',
    'glyphicon glyphicon-sort',
    'glyphicon glyphicon-sort-by-alphabet',
    'glyphicon glyphicon-sort-by-alphabet-alt',
    'glyphicon glyphicon-sort-by-order',
    'glyphicon glyphicon-sort-by-order-alt',
    'glyphicon glyphicon-sort-by-attributes',
    'glyphicon glyphicon-sort-by-attributes-alt',
    'glyphicon glyphicon-unchecked',
    'glyphicon glyphicon-expand',
    'glyphicon glyphicon-collapse-down',
    'glyphicon glyphicon-collapse-up',
    'glyphicon glyphicon-log-in',
    'glyphicon glyphicon-flash',
    'glyphicon glyphicon-log-out',
    'glyphicon glyphicon-new-window',
    'glyphicon glyphicon-record',
    'glyphicon glyphicon-save',
    'glyphicon glyphicon-open',
    'glyphicon glyphicon-saved',
    'glyphicon glyphicon-import',
    'glyphicon glyphicon-export',
    'glyphicon glyphicon-send',
    'glyphicon glyphicon-floppy-disk',
    'glyphicon glyphicon-floppy-saved',
    'glyphicon glyphicon-floppy-remove',
    'glyphicon glyphicon-floppy-save',
    'glyphicon glyphicon-floppy-open',
    'glyphicon glyphicon-credit-card',
    'glyphicon glyphicon-transfer',
    'glyphicon glyphicon-cutlery',
    'glyphicon glyphicon-header',
    'glyphicon glyphicon-compressed',
    'glyphicon glyphicon-earphone',
    'glyphicon glyphicon-phone-alt',
    'glyphicon glyphicon-tower',
    'glyphicon glyphicon-stats',
    'glyphicon glyphicon-sd-video',
    'glyphicon glyphicon-hd-video',
    'glyphicon glyphicon-subtitles',
    'glyphicon glyphicon-sound-stereo',
    'glyphicon glyphicon-sound-dolby',
    'glyphicon glyphicon-sound-5-1',
    'glyphicon glyphicon-sound-6-1',
    'glyphicon glyphicon-sound-7-1',
    'glyphicon glyphicon-copyright-mark',
    'glyphicon glyphicon-registration-mark',
    'glyphicon glyphicon-cloud-download',
    'glyphicon glyphicon-cloud-upload',
    'glyphicon glyphicon-tree-conifer',
    'glyphicon glyphicon-tree-deciduous'
  );

  $font_awesome = nd_visualshortcodes_fontawesome_icons();
  $icons = array_merge($simplelineicons, $font_awesome);
  $icons = array_merge($icons, $glyfon_icons);

  $matches = array();
  foreach ($icons as $icon) {
    if (stripos($icon, $str) !== FALSE) {
      $matches[$icon] = $icon;
    }
  }
  drupal_json_output($matches);
}

function jango_shortcodes_ajax_custom_line_icons_autocomplete($str) {
  $icons = array(
    'c-icon-1',
    'c-icon-2',
    'c-icon-3',
    'c-icon-4',
    'c-icon-5',
    'c-icon-6',
    'c-icon-7',
    'c-icon-8',
    'c-icon-9',
    'c-icon-10',
    'c-icon-11',
    'c-icon-12',
    'c-icon-13',
    'c-icon-14',
    'c-icon-15',
    'c-icon-16',
    'c-icon-17',
    'c-icon-18',
    'c-icon-19',
    'c-icon-20',
    'c-icon-21',
    'c-icon-22',
    'c-icon-23',
    'c-icon-24',
    'c-icon-25',
    'c-icon-26',
    'c-icon-27',
    'c-icon-28',
    'c-icon-29',
    'c-icon-30',
    'c-icon-31',
    'c-icon-32',
    'c-icon-33',
    'c-icon-34',
    'c-icon-35',
    'c-icon-36',
    'c-icon-37',
    'c-icon-38',
    'c-icon-39',
    'c-icon-40',
    'c-icon-41',
    'c-icon-42',
    'c-icon-43',
    'c-icon-44',
    'c-icon-45',
    'c-icon-46',
    'c-icon-47',
    'c-icon-48',
    'c-icon-49'
  );

  $matches = array();
  foreach ($icons as $icon) {
    if (stripos($icon, $str) !== FALSE) {
      $matches[$icon] = $icon;
    }
  }
  drupal_json_output($matches);
}

function jango_shortcodes_ajax_social_icons_autocomplete($str) {
  $icons = array(
    'twitter',
    'facebook',
    'google',
    'pinterest',
    'foursquare',
    'yahoo',
    'skype',
    'yelp',
    'feedburner',
    'linkedin',
    'viadeo',
    'myspace',
    'soundcloud',
    'spotify',
    'grooveshark',
    'lastfm',
    'youtube',
    'vimeo',
    'dailymotion',
    'vine',
    'flickr',
    '500px',
    'instagram',
    'wordpress',
    'tumblr',
    'blogger',
    'technorati',
    'reddit',
    'dribbble',
    'stumbleupon',
    'digg',
    'envato',
    'behance',
    'delicious',
    'deviantart',
    'forrst',
    'playstore',
    'zerply',
    'wikipedia',
    'apple',
    'flattr',
    'github',
    'chimein',
    'friendfeed',
    'newsvine',
    'identica',
    'bebo',
    'zynga',
    'steam',
    'xbox',
    'windows',
    'outlook',
    'coderwall',
    'tripadvisor',
    'appnet',
    'goodreads',
    'tripit',
    'lanyrd',
    'slideshare',
    'buffer',
    'rss',
    'vkontakte',
    'disqus',
    'houzz',
    'mail',
    'patreon',
    'paypal',
    'playstation',
    'smugmug',
    'swarm',
    'triplej',
    'yammer',
    'stackoverflow',
    'drupal',
    'odnoklassniki',
    'android',
    'meetup',
    'persona'
  );

  $matches = array();
  foreach ($icons as $icon) {
    if (stripos($icon, $str) !== FALSE) {
      $matches[$icon] = $icon;
    }
  }
  drupal_json_output($matches);
}

function jango_shortcodes_ajax_feature_icons_autocomplete($str) {
  $icons = array('c-icon-screen-chart', 'c-icon-support', 'c-icon-bulb', 'c-icon-comment', 'c-icon-globe', 'c-icon-sticker', 'c-icon-1', 'c-icon-2', 'c-icon-3', 'c-icon-4', 'c-icon-5', 'c-icon-6', 'c-icon-7', 'c-icon-8', 'c-icon-9', 'c-icon-10', 'c-icon-11', 'c-icon-12', 'c-icon-13', 'c-icon-14', 'c-icon-15', 'c-icon-16', 'c-icon-17', 'c-icon-18', 'c-icon-19', 'c-icon-20', 'c-icon-21', 'c-icon-22', 'c-icon-23', 'c-icon-24', 'c-icon-25', 'c-icon-26', 'c-icon-27', 'c-icon-28', 'c-icon-29', 'c-icon-30', 'c-icon-31', 'c-icon-32', 'c-icon-33', 'c-icon-34', 'c-icon-35', 'c-icon-36', 'c-icon-37', 'c-icon-38', 'c-icon-39', 'c-icon-40', 'c-icon-41', 'c-icon-42', 'c-icon-43', 'c-icon-44', 'c-icon-45', 'c-icon-46', 'c-icon-47', 'c-icon-48', 'c-icon-49', 'c-icon-50');
  $matches = array();
  foreach ($icons as $icon) {
    if (stripos($icon, $str) !== FALSE) {
      $matches[$icon] = $icon;
    }
  }
  drupal_json_output($matches);
}


/**
 * Implementation of hook_shortcode_info() .
 * Using the same formatting as hook_filter_info()`
 */
function jango_shortcodes_shortcode_info() {
  $shortcodes['nd_menu'] = array(
    'title' => t('Menu'),
    'process callback' => 'jango_shortcodes_shortcode_menu',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_menu_settings',
    'icon' => 'fa fa-bars',
    'preview' => FALSE,
  );
  $shortcodes['nd_navigation'] = array(
    'title' => t('Navigation'),
    'process callback' => 'jango_shortcodes_shortcode_navigation',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_navigation_settings',
    'icon' => 'fa fa-bars',
    'preview' => FALSE,
  );
  $shortcodes['nd_view'] = array(
    'title' => t('View'),
    'description' => t('Embed content - rendered View.'),
    'process callback' => 'jango_shortcodes_shortcode_view',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_view_settings',
    'icon' => 'fa fa-sun-o',
    'description_callback' => 'jango_shortcodes_shortcode_view_description',
    'preview' => FALSE,
  );
  $shortcodes['nd_block'] = array(
    'title' => t('Block'),
    'description' => t('Render block.'),
    'process callback' => 'jango_shortcodes_shortcode_block',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_block_settings',
    'icon' => 'fa fa-file',
    'description_callback' => 'jango_shortcodes_shortcode_block_description',
    'preview' => FALSE,
  );
  $shortcodes['nd_node'] = array(
    'title' => t('Node'),
    'description' => t('Render node'),
    'process callback' => 'jango_shortcodes_shortcode_node',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_node_settings',
    'icon' => 'fa fa-file-o',
    'description_callback' => 'jango_shortcodes_shortcode_node_description',
    'preview' => FALSE,
  );
  $shortcodes['nd_container'] = array(
    'title' => t('Container 1170px'),
    'description' => t('Container for content.'),
    'process callback' => 'jango_shortcodes_shortcode_container',
    'icon' => 'fa fa-hdd-o',
  );
  $shortcodes['nd_div'] = array(
    'title' => t('DIV & BG Container'),
    'process callback' => 'jango_shortcodes_shortcode_div',
    'icon' => 'fa fa-folder-o',
  );
  $shortcodes['nd_panel'] = array(
    'title' => t('Panel Box'),
    'process callback' => 'jango_shortcodes_shortcode_panel',
    'process settings callback' => 'jango_shortcodes_shortcode_panel_settings',
    'icon' => 'fa fa-square-o',
    'description_field' => 'title',
  );
  $shortcodes['nd_panel_child'] = array(
    'title' => t('Panel'),
    'process callback' => 'jango_shortcodes_shortcode_panel_child',
    'process settings callback' => 'jango_shortcodes_shortcode_panel_child_settings',
    'icon' => 'fa fa-p-square',
  );
  $shortcodes['row'] = array(
    'title' => t('Row for columns'),
    'description' => t('Container for cols.'),
    'process callback' => 'jango_shortcodes_shortcode_row',
    'process backend callback' => 'nd_visualshortcodes_backend_row',
    'icon' => 'fa fa-th-large',
    'child shortcode' => 'col'
  );
  $shortcodes['col'] = array(
    'title' => t('Column'),
    'description' => t('Column with size settings'),
    'process callback' => 'jango_shortcodes_shortcode_col',
    'process backend callback' => 'nd_visualshortcodes_backend_col',
//    'process settings callback' => 'nd_visualshortcodes_shortcode_col_settings',
    'icon' => 'fa fa-columns'
  );
  $shortcodes['html'] = array(
    'title' => t('HTML'),
    'description' => t('HTML code'),
    'process callback' => 'jango_shortcodes_shortcode_html',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'process settings callback' => 'jango_shortcodes_shortcode_html_settings',
    'icon' => 'fa fa-code',
  );
  $shortcodes['nd_feature'] = array(
    'title' => t('Feature'),
    'description' => t('Feature description'),
    'process callback' => 'jango_shortcodes_shortcode_feature',
    'icon' => 'fa fa-gears',
    'process settings callback' => 'jango_shortcodes_shortcode_feature_settings',
  );
  $shortcodes['nd_title'] = array(
    'title' => t('Title'),
    'process callback' => 'jango_shortcodes_shortcode_title',
    'process settings callback' => 'jango_shortcodes_shortcode_title_settings',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_ul_list'] = array(
    'title' => t('List container'),
    'description' => t('List for any content'),
    'process callback' => 'jango_shortcodes_shortcode_ul_list',
    'process settings callback' => 'jango_shortcodes_shortcode_ul_list_settings',
    'icon' => 'fa fa-list',
    'child shortcode' => 'nd_ul_list_item',
    'description_field' => 'type',
  );
  $shortcodes['nd_ul_list_item'] = array(
    'title' => t('List item'),
    'description' => t('List item'),
    'process callback' => 'jango_shortcodes_shortcode_ul_list_item',
    'icon' => 'fa fa-li'
  );
  $shortcodes['nd_panel_group_list'] = array(
    'title' => t('Panel group list'),
    'description' => t('List for panel'),
    'process callback' => 'jango_shortcodes_shortcode_panel_group_list',
    'process settings callback' => 'jango_shortcodes_shortcode_panel_group_list_settings',
    'icon' => 'fa fa-list',
    'child shortcode' => 'nd_panel_group_list_item',
    'description_field' => 'type',
  );
  $shortcodes['nd_panel_group_list_item'] = array(
    'title' => t('Panel group list item'),
    'description' => t('Panel group list item'),
    'process callback' => 'jango_shortcodes_shortcode_panel_group_list_item',
    'icon' => 'fa fa-li'
  );
  $shortcodes['nd_table'] = array(
    'title' => t('Table'),
    'description' => t('Table container'),
    'process callback' => 'jango_shortcodes_shortcode_table',
    'process settings callback' => 'jango_shortcodes_shortcode_table_settings',
    'icon' => 'fa fa-table',
    'child shortcode' => 'nd_table_row',
  );
  $shortcodes['nd_table_row'] = array(
    'title' => t('Table row'),
    'description' => t('Table row container'),
    'process callback' => 'jango_shortcodes_shortcode_table_row',
    'icon' => 'fa fa-th',
    'child shortcode' => 'nd_table_row_td',
  );
  $shortcodes['nd_table_row_td'] = array(
    'title' => t('Table row cell'),
    'description' => t('Table row cell container'),
    'process callback' => 'jango_shortcodes_shortcode_table_row_td',
    'icon' => 'fa fa-th',
    'child shortcode' => 'html',
  );
  $shortcodes['nd_quote'] = array(
    'title' => t('Quote'),
    'process callback' => 'jango_shortcodes_shortcode_quote',
    'process settings callback' => 'jango_shortcodes_shortcode_quote_settings',
    'icon' => 'fa fa-quote-right',
    'child shortcode' => 'html',
  );
  $shortcodes['nd_video'] = array(
    'title' => t('Video'),
    'process callback' => 'jango_shortcodes_shortcode_video',
    'process settings callback' => 'jango_shortcodes_shortcode_video_settings',
    'icon' => 'fa fa-video-camera',
    'description_field' => 'title',
  );
  $shortcodes['nd_tabs'] = array(
    'title' => t('Tabs container'),
    'process callback' => 'jango_shortcodes_shortcode_tabs',
    'process settings callback' => 'jango_shortcodes_shortcode_tabs_settings',
    'icon' => 'fa fa-folder-open',
    'child shortcode' => 'nd_tab',
    'description_field' => 'type',
  );
  $shortcodes['nd_tab'] = array(
    'title' => t('Tab'),
    'process callback' => 'jango_shortcodes_shortcode_tab',
    'process settings callback' => 'jango_shortcodes_shortcode_tab_settings',
    'icon' => 'fa fa-folder',
    'description_field' => 'title',
  );
  $shortcodes['nd_icon'] = array(
    'title' => t('Icon'),
    'description' => t('Icon with its name'),
    'process callback' => 'jango_shortcodes_shortcode_icon',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-image',
    'process settings callback' => 'jango_shortcodes_shortcode_icon_settings',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_social_icon'] = array(
    'title' => t('Social Icon'),
    'description' => t('Social Icon'),
    'process callback' => 'jango_shortcodes_shortcode_social_icon',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-image',
    'process settings callback' => 'jango_shortcodes_shortcode_social_icon_settings',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_label'] = array(
    'title' => t('Label'),
    'description' => t('Label'),
    'process callback' => 'jango_shortcodes_shortcode_label',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-image',
    'process settings callback' => 'jango_shortcodes_shortcode_label_settings',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_badge'] = array(
    'title' => t('Badge'),
    'description' => t('Badge'),
    'process callback' => 'jango_shortcodes_shortcode_badge',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-image',
    'process settings callback' => 'jango_shortcodes_shortcode_badge_settings',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_button'] = array(
    'title' => t('Button link'),
    'process callback' => 'jango_shortcodes_shortcode_button',
    'process settings callback' => 'jango_shortcodes_shortcode_button_settings',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-bold',
    'description_field' => 'text',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_social_button'] = array(
    'title' => t('Social button link'),
    'process callback' => 'jango_shortcodes_shortcode_signup_with_button',
    'process settings callback' => 'jango_shortcodes_shortcode_signup_with_button_settings',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-bold',
    'description_field' => 'text',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_alert'] = array(
    'title' => t('Alert'),
    'process callback' => 'jango_shortcodes_shortcode_alert',
    'process settings callback' => 'jango_shortcodes_shortcode_alert_settings',
    'icon' => 'fa fa-exclamation',
    'child shortcode' => 'html',
  );
  $shortcodes['nd_product'] = array(
    'title' => t('Product Banner'),
    'process callback' => 'jango_shortcodes_shortcode_product',
    'process settings callback' => 'jango_shortcodes_shortcode_product_settings',
    'icon' => 'fa fa-cart',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_products_filter'] = array(
    'title' => t('Products Filter'),
    'process callback' => 'jango_shortcodes_shortcode_products_filter',
    'process settings callback' => 'jango_shortcodes_shortcode_products_filter_settings',
    'icon' => 'fa fa-search',
    'description_field' => 'title',
    'backend preview' => TRUE,
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
  );
  $shortcodes['nd_progress'] = array(
    'title' => t('Progress Bar'),
    'description' => t('Progress line with title and percents.'),
    'process callback' => 'jango_shortcodes_shortcode_progress',
    'process settings callback' => 'jango_shortcodes_shortcode_progress_settings',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'ic' => 'fa fa-tasks',
    'description_field' => 'title',
  );
  $shortcodes['nd_modal'] = array(
    'title' => t('Modals'),
    'description' => t('Modal windows.'),
    'process callback' => 'jango_shortcodes_shortcode_modal',
    'process settings callback' => 'jango_shortcodes_shortcode_modal_settings',
    'ic' => 'fa fa-tasks',
    'description_field' => 'title',
  );
  $shortcodes['nd_counters'] = array(
    'title' => t('Counter container'),
    'description' => t('Counters container. Jango components.'),
    'process callback' => 'jango_shortcodes_shortcode_counters',
    'process settings callback' => 'jango_shortcodes_shortcode_counters_settings',
    'child shortcode' => 'nd_counter',
    'ic' => 'fa fa-tasks',
    'description_field' => 'title',
  );
  $shortcodes['nd_counter'] = array(
    'title' => t('Counter item'),
    'description' => t('Counter item. Jango components.'),
    'process callback' => 'jango_shortcodes_shortcode_counter',
    'process settings callback' => 'jango_shortcodes_shortcode_counter_settings',
    'ic' => 'fa fa-tasks',
    'description_field' => 'title',
  );
  $shortcodes['nd_accordions'] = array(
    'title' => t('Accordion container'),
    'process callback' => 'jango_shortcodes_shortcode_accordions',
    'process settings callback' => 'jango_shortcodes_shortcode_accordions_settings',
    'child shortcode' => 'nd_accordion',
    'icon' => 'fa fa-bars'
  );
  $shortcodes['nd_accordion'] = array(
    'title' => t('Accordion item'),
    'process callback' => 'jango_shortcodes_shortcode_accordion',
    'process settings callback' => 'jango_shortcodes_shortcode_accordion_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_steps'] = array(
    'title' => t('Step container'),
    'process callback' => 'jango_shortcodes_shortcode_steps',
    'process settings callback' => 'jango_shortcodes_shortcode_steps_settings',
    'child shortcode' => 'nd_step',
    'icon' => 'fa fa-bars'
  );
  $shortcodes['nd_step'] = array(
    'title' => t('Step item'),
    'process callback' => 'jango_shortcodes_shortcode_step',
    'process settings callback' => 'jango_shortcodes_shortcode_step_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_client'] = array(
    'title' => t('Clients'),
    'process callback' => 'jango_shortcodes_shortcode_client',
    'process settings callback' => 'jango_shortcodes_shortcode_client_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_parallax'] = array(
    'title' => t('Parallax block'),
    'process callback' => 'jango_shortcodes_shortcode_parallax',
    'process settings callback' => 'jango_shortcodes_shortcode_parallax_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_testimonials'] = array(
    'title' => t('Testimonials container'),
    'process callback' => 'jango_shortcodes_shortcode_testimonials',
    'process settings callback' => 'jango_shortcodes_shortcode_testimonials_settings',
    'child shortcode' => 'nd_testimonial',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_testimonial'] = array(
    'title' => t('Testimonial item'),
    'process callback' => 'jango_shortcodes_shortcode_testimonial',
    'process settings callback' => 'jango_shortcodes_shortcode_testimonial_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_tabbeds'] = array(
    'title' => t('Tabbed container'),
    'process callback' => 'jango_shortcodes_shortcode_tabbeds',
    'process settings callback' => 'jango_shortcodes_shortcode_tabbeds_settings',
    'child shortcode' => 'nd_tabbed',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_tabbed'] = array(
    'title' => t('Tabbed item'),
    'process callback' => 'jango_shortcodes_shortcode_tabbed',
    'process settings callback' => 'jango_shortcodes_shortcode_tabbed_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_image'] = array(
    'title' => t('Image'),
    'process callback' => 'jango_shortcodes_shortcode_image',
    'process settings callback' => 'jango_shortcodes_shortcode_image_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_services'] = array(
    'title' => t('Services item'),
    'process callback' => 'jango_shortcodes_shortcode_services',
    'process settings callback' => 'jango_shortcodes_shortcode_services_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_breadcrumb'] = array(
    'title' => t('Breadcrumb'),
    'process callback' => 'jango_shortcodes_shortcode_breadcrumb',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-bold',
  );
  $shortcodes['nd_pricing_tables'] = array(
    'title' => t('Pricing tables'),
    'process callback' => 'jango_shortcodes_shortcode_pricing_tables',
    'process settings callback' => 'jango_shortcodes_shortcode_pricing_tables_settings',
    'child shortcode' => 'nd_pricing_table',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_pricing_table'] = array(
    'title' => t('Pricing item'),
    'process callback' => 'jango_shortcodes_shortcode_pricing_table',
    'process settings callback' => 'jango_shortcodes_shortcode_pricing_table_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_content_bar'] = array(
    'title' => t('Content bar'),
    'process callback' => 'jango_shortcodes_shortcode_content_bar',
    'process settings callback' => 'jango_shortcodes_shortcode_content_bar_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_feature_blocks'] = array(
    'title' => t('Feature block container'),
    'process callback' => 'jango_shortcodes_shortcode_feature_blocks',
    'process settings callback' => 'jango_shortcodes_shortcode_feature_blocks_settings',
    'child shortcode' => 'nd_feature_block',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_feature_block'] = array(
    'title' => t('Feature block item'),
    'process callback' => 'jango_shortcodes_shortcode_feature_block',
    'process settings callback' => 'jango_shortcodes_shortcode_feature_block_settings',
    'icon' => 'fa fa-minus',
    'description_field' => 'title',
  );
  $shortcodes['nd_animated_progress_bar'] = array(
    'title' => t('Animated progress bar'),
    'process callback' => 'jango_shortcodes_shortcode_animated_progress_bar',
    'process settings callback' => 'jango_shortcodes_shortcode_animated_progress_bar_settings',
    'description_field' => 'title',
  );
  $shortcodes['nd_twitter'] = array(
    'title' => t('Twitter'),
    'process callback' => 'jango_shortcodes_shortcode_twitter',
//    'process settings callback' => 'jango_shortcodes_shortcode_feature_block_settings',
    'icon' => 'fa fa-twitter',
    'description_field' => 'link',
  );
  $shortcodes['nd_app_showcase'] = array(
    'title' => t('App showcase'),
    'process callback' => 'jango_shortcodes_shortcode_app_showcase',
    'process settings callback' => 'jango_shortcodes_shortcode_app_showcase_settings',
    'description_field' => 'title',
  );
  $shortcodes['nd_heading'] = array(
    'title' => t('Heading'),
    'process callback' => 'jango_shortcodes_shortcode_heading',
    'process settings callback' => 'jango_shortcodes_shortcode_heading_settings',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_dividers'] = array(
    'title' => t('Divider'),
    'process callback' => 'jango_shortcodes_shortcode_dividers',
    'process settings callback' => 'jango_shortcodes_shortcode_dividers_settings',
    'process backend callback' => 'nd_visualshortcodes_backend_nochilds',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_slider'] = array(
    'title' => t('Slider container'),
    'process callback' => 'jango_shortcodes_shortcode_slider',
    'process settings callback' => 'jango_shortcodes_shortcode_slider_settings',
    'child shortcode' => 'nd_slider_item',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_slider_item'] = array(
    'title' => t('Slider item'),
    'process callback' => 'jango_shortcodes_shortcode_slider_item',
    'process settings callback' => 'jango_shortcodes_shortcode_slider_item_settings',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
    'backend preview' => TRUE,
  );
  $shortcodes['nd_gmap'] = array(
    'title' => t('Google map'),
    'process callback' => 'jango_shortcodes_shortcode_nd_gmap',
    'process settings callback' => 'jango_shortcodes_shortcode_nd_gmap_settings',
    'child shortcode' => 'nd_gmap_info',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
  );
  $shortcodes['nd_gmap_info'] = array(
    'title' => t('Google map info'),
    'process callback' => 'jango_shortcodes_shortcode_nd_gmap_info',
    'process settings callback' => 'jango_shortcodes_shortcode_nd_gmap_info_settings',
    'icon' => 'fa fa-h-square',
    'description_field' => 'title',
  );

  return $shortcodes;
}

/**
 * Implements hook_theme().
 */
function jango_shortcodes_theme($existing, $type, $theme, $path) {
  $theme = array(
    'jango_shortcodes_menu' => array(
      'variables' => array(),
      'template' => 'jango-shortcodes-menu'
    ),
    'jango_shortcodes_menu_2' => array(
      'variables' => array(),
      'template' => 'jango-shortcodes-menu-2'
    ),
    'jango_shortcodes_breadcrumbs' => array(
      'variables' => array(),
      'template' => 'jango-shortcodes-breadcrumbs'
    ),
    'jango_shortcodes_navigation' => array(
      'variables' => array(),
      'template' => 'jango-shortcodes-navigation'
    )
  );
  return $theme;
}

function _jango_shortcodes_simple_menu(&$menu) {
  foreach (element_children($menu) as $i) {
    $menu[$i]['#theme'] = 'menu_link__shortcode_simple_menu';
    if (isset($menu[$i]['#below']) && !empty($menu[$i]['#below'])) {
      $menu[$i]['#below'] = _jango_shortcodes_simple_menu($menu[$i]['#below']);
    }
  }
  return $menu;
}

function jango_shortcodes_shortcode_menu($attrs, $text) {
  $menu = isset($attrs['menu']) ? $attrs['menu'] : 'main-menu';
  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $logo = isset($file->uri) ? file_create_url($file->uri) : theme_get_setting('logo');

  $mobile_file = isset($attrs['mobile_fid']) && !empty($attrs['mobile_fid']) ? file_load($attrs['mobile_fid']) : '';
  $mobile_logo = isset($mobile_file->uri) ? file_create_url($mobile_file->uri) : theme_get_setting('logo');

  $type = isset($attrs['type']) ? $attrs['type'] : '';
  if ($type == 'menu-drop-down') {
    $menu_tree = module_exists('i18n_menu') ? i18n_menu_translated_tree($menu) : menu_tree($menu);
    $menu_tree = _jango_shortcodes_simple_menu($menu_tree);
    $menu_tree['#no_tag'] = 1;
    $output = '<div class = "c-layout-sidebar-menu"><ul class = "c-sidebar-menu c-margin-b-30" id = "sidebar-menu-1">' . drupal_render($menu_tree) . '</ul></div>';
  }
  else {
    $attrs['class'] = isset($attrs['font_color']) ? $attrs['font_color'] : '';
    $classes = $type . ' ';
    $classes .= isset($attrs['mobile_color']) ? $attrs['mobile_color'] . ' ' : '';
    
    $body_classes = 'c-layout-header-mobile-fixed';
    if (isset($attrs['header_top']) && $attrs['header_top']) {
      $body_classes .= ' c-layout-header-topbar c-layout-header-topbar-collapse';
    }
    $body_classes .= !isset($attrs['fixed']) || !$attrs['fixed'] ? ' c-header-not-fixed' : ' c-layout-header-fixed';
    if (isset($attrs['fixed']) && $attrs['fixed'] && $attrs['type'] == 'c-layout-header-4') {
      //$attrs['class'] = 'mb-md-0 mb-120';
    }
    _jango_shortcodes_body_class($body_classes);

    $attrs['cart'] = isset($attrs['cart']) ? $attrs['cart'] : FALSE;
    $attrs['cart'] = $attrs['cart'] && module_exists('commerce_cart') ? TRUE : FALSE;

    $variables = array(
      'class' => $classes,
      'menu' => $menu,
      'logo' => $logo,
      'mobile_logo' => $mobile_logo,
      'type' => $type,
      'search' => isset($attrs['search']) ? $attrs['search'] : FALSE,
      'cart' => $attrs['cart'],
      'login' => isset($attrs['login']) ? $attrs['login'] : FALSE,
      'header_top' => isset($attrs['header_top']) ? $attrs['header_top'] : FALSE,
      'header_top_menu' => isset($attrs['header_top_menu']) ? $attrs['header_top_menu'] : '',
      'header_top_class' => isset($attrs['header_top_class']) ? $attrs['header_top_class'] : 'dark',
      'language' => isset($attrs['language']) ? $attrs['language'] : FALSE,
      'header_top_social_menu' => isset($attrs['header_top_social_menu']) ? $attrs['header_top_social_menu'] : '',
      'width' => isset($attrs['width']) ? $attrs['width'] : FALSE,
    );
    $output = strpos($type, 'c-layout-header-6') !== FALSE ? theme('jango_shortcodes_menu_2', $variables) : theme('jango_shortcodes_menu', $variables);
  }
  $attrs_output = _jango_shortcodes_shortcode_attributes($attrs);
  if ($attrs_output) {
    $output = '<div ' . $attrs_output . '>' . $output . '</div>';
  }
  return $output;
}

function jango_shortcodes_shortcode_menu_settings($attrs, $text) {
  $menus = menu_get_menus();
  $form['menu'] = array(
    '#type' => 'select',
    '#title' => t('Menu'),
    '#default_value' => isset($attrs['menu']) ? $attrs['menu'] : '',
    '#options' => $menus,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );
  $form['width'] = array(
    '#type' => 'select',
    '#title' => t('Width'),
    '#default_value' => isset($attrs['width']) ? $attrs['width'] : '',
    '#options' => array('' => t('Default'), '-fluid' => t('Wide')),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );

  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Override Default Logo'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '</div><div class = "col-sm-3">',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );

  $file = isset($attrs['mobile_fid']) && !empty($attrs['mobile_fid']) ? file_load($attrs['mobile_fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['mobile_fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Override Mobile Logo'),
    '#default_value' => isset($attrs['mobile_fid']) ? $attrs['mobile_fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );

  $types = array(
    'menu-drop-down' => t('Simple Menu DropDown List'),
    'c-layout-header-default c-header-transparent-dark' => t('Transparent'),
    'c-layout-header-4 c-bordered c-header-transparent-dark' => t('Transparent - Dark font'),
    'c-layout-header-2 c-header-transparent-dark' => t('White Half Transparent'),
    'c-layout-header-4' => t('White'),
    'c-layout-header-3 c-layout-header-3-custom-menu' => t('Dark'),
    'c-layout-header-5' => t('Dark Wide'),
    'c-layout-header-6' => t('Bottom Menu'),
    'c-layout-header-6 c-navbar-fluid' => t('Bottom Menu Fluid'),
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#options' => $types,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $types = array(
    'c-layout-header-default-mobile' => t('White'),
    'c-layout-header-dark-mobile' => t('Dark')
  );
  $form['mobile_color'] = array(
    '#type' => 'select',
    '#title' => t('Mobile Color'),
    '#default_value' => isset($attrs['mobile_color']) ? $attrs['mobile_color'] : '',
    '#options' => $types,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
        'select[name="type"], .abc' => array('!value' => 'c-layout-header-5'),
      )
    ),
  );
  $form['fixed'] = array(
    '#type' => 'checkbox',
    '#title' => t('Fixed Position'),
    '#default_value' => isset($attrs['fixed']) ? $attrs['fixed'] : FALSE,
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );
  $form['search'] = array(
    '#type' => 'checkbox',
    '#title' => t('Search Form'),
    '#default_value' => isset($attrs['search']) ? $attrs['search'] : FALSE,
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );
  $form['cart'] = array(
    '#type' => 'checkbox',
    '#title' => t('Cart Dropdown'),
    '#default_value' => isset($attrs['cart']) ? $attrs['cart'] : FALSE,
    '#prefix' => '</div><div class = "col-sm-4">',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );
  $form['login'] = array(
    '#type' => 'checkbox',
    '#title' => t('Login Button'),
    '#default_value' => isset($attrs['login']) ? $attrs['login'] : FALSE,
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'menu-drop-down'),
      )
    ),
  );
  $form['header_top'] = array(
    '#type' => 'checkbox',
    '#title' => t('Header Top'),
    '#default_value' => isset($attrs['header_top']) ? $attrs['header_top'] : FALSE,
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
        'select[name="type"], .abc' => array('!value' => 'c-layout-header-5'),
      )
    ),
  );
  $form['header_top_social_menu'] = array(
    '#type' => 'select',
    '#title' => t('Header Top Social Menu'),
    '#options' => $menus,
    '#default_value' => isset($attrs['header_top_social_menu']) ? $attrs['header_top_social_menu'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#states' => array(
      'visible' => array(
        'input[name="header_top"]' => array('checked' => TRUE),
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
      )
    ),
  );
  $form['header_top_menu'] = array(
    '#type' => 'select',
    '#title' => t('Header Top Menu'),
    '#options' => $menus,
    '#default_value' => isset($attrs['header_top_menu']) ? $attrs['header_top_menu'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#states' => array(
      'visible' => array(
        'input[name="header_top"]' => array('checked' => TRUE),
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
      )
    ),
  );
  $form['language'] = array(
    '#type' => 'checkbox',
    '#title' => t('Language Box'),
    '#default_value' => isset($attrs['language']) ? $attrs['language'] : FALSE,
    '#prefix' => '</div><div class = "col-sm-3">',
    '#states' => array(
      'visible' => array(
        'input[name="header_top"]' => array('checked' => TRUE),
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
      )
    ),
  );
  $types = array('light c-solid-bg' => t('White'), 'dark' => t('Dark'));
  $form['header_top_class'] = array(
    '#type' => 'select',
    '#title' => t('Header Top BG Color'),
    '#default_value' => isset($attrs['header_top_class']) ? $attrs['header_top_class'] : '',
    '#options' => $types,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'input[name="header_top"]' => array('checked' => TRUE),
        'select[name="type"]' => array('!value' => 'menu-drop-down'),
      )
    ),
  );
  return $form;
}

function jango_shortcodes_shortcode_navigation($attrs, $text) {
  $menu = isset($attrs['menu']) ? $attrs['menu'] : 'navigations';

  $type = isset($attrs['type']) ? $attrs['type'] : '';
  $color = isset($attrs['color']) ? $attrs['color'] : '';
  $uppercase = isset($attrs['uppercase']) && $attrs['uppercase'] ? 'c-font-uppercase' : '';


  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= 'c-content-ver-nav';

  $variables = array(
    'menu' => $menu,
    'type' => $type,
    'color' => $color,
    'uppercase' => $uppercase
  );
  $output = theme('jango_shortcodes_navigation', $variables);
  $attrs_output = _jango_shortcodes_shortcode_attributes($attrs);
  if ($attrs_output) {
    $output = '<div ' . $attrs_output . '>' . $output . '</div>';
  }
  return $output;
}

function jango_shortcodes_shortcode_navigation_settings($attrs, $text) {
  $menus = menu_get_menus();
  $form['menu'] = array(
    '#type' => 'select',
    '#title' => t('Menu'),
    '#default_value' => isset($attrs['menu']) ? $attrs['menu'] : '',
    '#options' => $menus,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );

  $types = array(
    '' => t('Default'),
    'c-arrow-dot' => t('Circle'),
    'c-arrow-dot c-square' => t('Square')
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('List type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#options' => $types,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );

  $color = array(
    '' => t('Default'),
    'c-theme' => t('Blue'),
    'multicolor' => t('Multicolor')
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Color'),
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#options' => $color,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  $form['uppercase'] = array(
    '#title' => t('Uppercase'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  return $form;
}

function _jango_shortcodes_shortcode_attributes($attrs) {
  if (empty($attrs)) {
    return '';
  }
  $allowed_attributes = array(
    'class' => 'class',
    'href' => 'href',
    'id' => 'id',
    'animation' => 'class',
    'animation_delay' => 'data-wow-delay',
    'data-background' => 'data-background',
    'style' => 'style',
    'extra_style' => 'style',
    'font' => 'class',
    'data_height' => 'data-auto-height',
    'target' => 'target'
  );
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= isset($attrs['extra_classes']) ? ' ' . $attrs['extra_classes'] : '';
  if (isset($attrs['link']) && $attrs['link'] == $_GET['q']) {
    $attrs['class'] .= ' active';
  }

  if (isset($attrs['animation']) && $attrs['animation']) {
    if (isset($attrs['animation_delay'])) {
      $attrs['animation_delay'] = ($attrs['animation_delay'] / 1000) . 's';
    }
    $attrs['class'] .= ' wow animate';
  }

  $output = '';
  $attrs_array = array('class' => '');
  foreach ($attrs as $name => $value) {
    $value = trim($value);
    if (strpos($name, 'style_') === 0) {
      $value_style = str_replace(array('style_', '_'), array('', '-'), $name);
      if (strpos($value_style, 'border-radius') !== FALSE) {
        $value = strpos($value, '%') !== FALSE ? $value : (int) $value . 'px;';
        $value = '-webkit-' . $value_style . ': ' . $value . '; -moz-' . $value_style . ': ' . $value . '; ' . $value_style . ': ' . $value . ';';
      }
      elseif (strpos($name, 'margin') !== FALSE || strpos($name, 'padding') !== FALSE || strpos($name, 'width') !== FALSE || strpos($name, 'height') !== FALSE) {
        $value = strpos($value, '%') !== FALSE || strpos($value, 'vh') !== FALSE ? $value . ';' : (int) $value . 'px;';
        $value = $value_style . ': ' . $value;
      }
      elseif (strpos($name, 'color') !== FALSE) {
        $value = $value_style . ': #' . trim($value, '#') . ';';
      }
      elseif (strpos($value_style, 'image') !== FALSE) {
        $file = file_load($value);
        $filename = isset($file->uri) ? file_create_url($file->uri) : '';
        $value = $value_style . ': url("' . $filename . '");';
      }
      else {
        $value = $value_style . ': ' . $value . ';';
      }
      $name = 'style';
    }
    if (isset($allowed_attributes[$name])) {
      $name = $allowed_attributes[$name];
      if ($value !== '') {
        $attrs_array[$name] = $value . ' ' . (isset($attrs_array[$name]) ? $attrs_array[$name] : '');
      }
    }
    elseif (strpos($name, 'data-') === 0) {
      if ($value !== '') {
        $attrs_array[$name] = (isset($attrs_array[$name]) ? $attrs_array[$name] . ' ' : '') . $value;
      }
    }
  }
  if (isset($attrs['style_background_color']) && strtolower(trim($attrs['style_background_color'], '#')) == '000000') {
    $attrs_array['class'] .= ' text-white';
  }
  if (isset($attrs['style_background_color']) && strtolower(trim($attrs['style_background_color'], '#')) == 'ffffff') {
    $attrs_array['class'] .= ' text-black';
  }
  if (isset($attrs['text_align']) && $attrs['text_align']) {
    $attrs_array['style'] = (isset($attrs_array['style']) ? $attrs_array['style'] : '') . ' text-align:' . $attrs['text_align'] . ';';
  }

  foreach ($attrs_array as $name => $value) {
    if ($value) {
      if ($name == 'id') {
        $value = trim($value);
      } //must be without spaces;
      $output .= " $name = '$value'";
    }
  }
  return $output;
}

function jango_shortcodes_shortcode_view($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $view = '';
  if (strpos($attrs['admin_url'], 'admin/structure/views/view') !== FALSE) {
    $view_name = substr($attrs['admin_url'], strpos($attrs['admin_url'], 'view/') + 5);
    $parts = explode('/', $view_name);
    $view_name = $parts[0];
    $view = isset($parts[2]) ? views_embed_view($view_name, $parts[2]) : views_embed_view($view_name);
  }
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $view . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_view_settings($attrs, $text) {
  $views = views_get_all_views();
  $displays = array();
  foreach ($views as $view) {
    foreach ($view->display as $display) {
      if ($display->display_title != 'Master') {
        $displays['admin/structure/views/view/' . $view->name . '/edit/' . $display->id] = check_plain($view->human_name . ': ' . $display->display_title);
      }
    }
  }
  $form['admin_url'] = array(
    '#title' => t('View'),
    '#type' => 'select',
    '#options' => $displays,
    '#default_value' => isset($attrs['admin_url']) ? $attrs['admin_url'] : '',
    '#attributes' => array('class' => array('form-control'))
  );
  return $form;
}

function jango_shortcodes_shortcode_view_description($attrs, $text) {
  if (strpos($attrs['admin_url'], 'admin/structure/views/view') !== FALSE) {
    $form = jango_shortcodes_shortcode_view_settings($attrs, $text);
    $value = l($form['admin_url']['#options'][$attrs['admin_url']], $attrs['admin_url'], array('attributes' => array('target' => '_blank')));
    return $value;
  }
}

function jango_shortcodes_shortcode_block($attrs, $text) {
  if (strpos($attrs['admin_url'], 'admin/structure/block') !== FALSE) {
    $block_name = substr($attrs['admin_url'], strpos($attrs['admin_url'], '/manage/') + 8);
    $parts = explode('/', $block_name);
    $block = _nikadevs_render_block($parts[0], $parts[1]);
    $block = render($block);
  }
  $attrs_output = _jango_shortcodes_shortcode_attributes($attrs);
  $text = $attrs_output ? '<div ' . $attrs_output . '>' . $block . '</div>' : $block;
  return $text;
}

function jango_shortcodes_shortcode_block_tip($format, $long) {
  $output = array();
  $output[] = '<p><strong>Block:</strong><br/>[block admin_url = "admin/structure/block/manage/jango_cms/gmap/configure"][/block]</br>';
  $output[] = '<strong>admin_url</strong> - URL of the block edit page.</p>';
  return implode(' ', $output);
}

function jango_shortcodes_shortcode_block_settings($attrs, $text) {
  module_load_include('inc', 'block', 'block.admin');
  $current_theme = variable_get('theme_default', 'none');
  $blocks = block_admin_display_prepare_blocks($current_theme);
  usort($blocks, '_sort_blocks');
  $options = array();
  foreach ($blocks as $block) {
    $options['admin/structure/block/manage/' . $block['module'] . '/' . $block['delta'] . '/configure'] = check_plain($block['info']);
  }
  asort($options);
  $form['admin_url'] = array(
    '#title' => t('Block'),
    '#type' => 'select',
    '#options' => $options,
    '#default_value' => isset($attrs['admin_url']) ? $attrs['admin_url'] : '',
    '#attributes' => array('class' => array('form-control'))
  );
  return $form;
}

function jango_shortcodes_shortcode_block_description($attrs, $text) {
  if (strpos($attrs['admin_url'], 'admin/structure/block') !== FALSE) {
    $form = jango_shortcodes_shortcode_block_settings($attrs, $text);
    $value = l($form['admin_url']['#options'][$attrs['admin_url']], $attrs['admin_url'], array('attributes' => array('target' => '_blank')));
    return $value;
  }
}

function jango_shortcodes_shortcode_node($attrs, $text) {
  if (isset($attrs['admin_url']) && strpos($attrs['admin_url'], 'node/') !== FALSE) {
    $node_name = substr($attrs['admin_url'], strpos($attrs['admin_url'], 'node/') + 5);
    $parts = explode('/', $node_name);
    $node = node_load($parts[0]);
    if (isset($node->nid) && $node->nid) {
      $node = node_view($node);
      $output = render($node);
      $attrs = _jango_shortcodes_shortcode_attributes($attrs);
      $text = $attrs ? '<div ' . $attrs . '>' . $output . '</div>' : $output;
      return $text;
    }
  }
}

function jango_shortcodes_shortcode_node_description($attrs, $text) {
  if (strpos($attrs['admin_url'], 'node/') !== FALSE) {
    $node_name = substr($attrs['admin_url'], strpos($attrs['admin_url'], 'node/') + 5);
    $parts = explode('/', $node_name);
    $nid = $parts[0];
    if (is_numeric($nid)) {
      $node = node_load($nid);
      return l($node->title, 'node/' . $nid . '/edit', array('attributes' => array('target' => '_blank')));
    }
  }
}

function jango_shortcodes_shortcode_node_settings($attrs, $text) {
  $form['admin_url'] = array(
    '#title' => t('Node Title'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/nd_visualshortcodes/node_autocomplete',
    '#default_value' => isset($attrs['admin_url']) ? $attrs['admin_url'] : '',
    '#attributes' => array('class' => array('form-control'))
  );
  return $form;
}

function jango_shortcodes_shortcode_container($attrs, $text) {
  $attrs['class'] = 'container ' . (isset($attrs['class']) ? $attrs['class'] : '');
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_div($attrs, $text) {
  $attrs['data_height'] = isset($attrs['data_height']) ? $attrs['data_height'] : '';
  $attrs['class'] = isset($attrs['bg_color']) ? $attrs['bg_color'] . ' ' : '';
  $attrs['class'] .= isset($attrs['vertical_align']) && $attrs['vertical_align'] ? 'home-text ' : '';
  $attrs['class'] .= isset($attrs['bg_full_width']) && $attrs['bg_full_width'] ? 'bg-full-width ' : '';
  if(isset($attrs['bg_full_height']) && $attrs['bg_full_height']) {
    $attrs['style_height'] = '100vh';
  }

  if (isset($attrs['vertical_align']) && $attrs['vertical_align']) {
    $text = '<div class = "home-content">' . $text . '</div>';
  }
  if(isset($attrs['video']) && $attrs['video']) {
    static $video_id = 999;
    $attrs['class'] .= 'full-width-box';
    $attrs['data-stellar-background-ratio'] = isset($attrs['stellar_background_ratio']) ? $attrs['stellar_background_ratio'] : '0.5';
    $attrs['id'] = 'wrap-' . ++$video_id;
    $text = '<a class="player" data-property="{videoURL: \'' . $attrs['video'] . '\', containment:\'#' . $attrs['id'] . '\', autoPlay:true, showControls:true, loop:true, mute:true, startAt:0, opacity:1, addRaster:false}"></a>' . $text;
  }

  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_div_settings($attrs, $text) {
  $form['vertical_align'] = array(
    '#title' => t('Vertical Align'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['vertical_align']) ? $attrs['vertical_align'] : FALSE,
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $auto_height = array(
    '' => t('Default'),
    'true' => t('True'),
    'false' => t('False')
  );
  $form['data_height'] = array(
    '#title' => t('Auto height'),
    '#type' => 'select',
    '#options' => $auto_height,
    '#default_value' => isset($attrs['data_height']) ? $attrs['data_height'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $bg_colors = array(
    ' ' => t('None'),
    'c-bg-white' => t('White'),
    'c-bg-blue' => t('Blue'),
    'c-bg-red' => t('Red'),
    'c-bg-green' => t('Green'),
    'c-bg-yellow' => t('Yellow'),
    'c-bg-purple' => t('Purple'),
    'c-bg-purple-1' => t('Purple Light'),
    'c-bg-black' => t('Black'),
    'c-bg-dark' => t('Dark'),
    'c-bg-grey' => t('Grey'),
    'c-bg-grey-1' => t('Grey Light'),
    'c-bg-theme' => t('Theme Color'),
  );
  $form['bg_color'] = array(
    '#title' => t('Background Color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $form['bg_full_width'] = array(
    '#title' => t('Force FullWidth Background'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bg_full_width']) ? $attrs['bg_full_width'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $form['video'] = array(
    '#type' => 'textfield',
    '#title' => t('Video URL'),
    '#default_value' => isset($attrs['video']) ? $attrs['video'] : '',
    '#states' => array(
      'visible' => array(
        '.background-select' => array('value' => 'video'),
      ),
    ),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  $form['bg_full_height'] = array(
    '#title' => t('Full Height Background'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bg_full_height']) ? $attrs['bg_full_height'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $form['stellar_background_ratio'] = array(
    '#type' => 'textfield',
    '#title' => t('Stellar ratio'),
    '#default_value' => isset($attrs['stellar_background_ratio']) ? $attrs['stellar_background_ratio'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#states' => array(
      'visible' => array(
        'input[type="video"]' => array('!value' => ''),
      ),
    ),
    '#description' => t('Default value: 0.5'),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_row($attrs, $text) {
  $attrs['class'] = 'row ' . (isset($attrs['class']) ? $attrs['class'] : '');
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_col($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= isset($attrs['paddings']) ? ' ' . $attrs['paddings'] : '';
  if (isset($attrs['phone'])) {
    $attrs['class'] .= ' col-xs-' . $attrs['phone'];
  }
  if (isset($attrs['tablet'])) {
    $attrs['class'] .= ' col-sm-' . $attrs['tablet'];
  }
  if (isset($attrs['desktop'])) {
    $attrs['class'] .= ' col-md-' . $attrs['desktop'];
  }
  if (isset($attrs['wide'])) {
    $attrs['class'] .= ' col-lg-' . $attrs['wide'];
  }
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_col_settings($attrs, $text) {
  $form = nd_visualshortcodes_shortcode_col_settings($attrs, $text);
  $paddings = array(
    '' => 'Default',
    'c-bs-grid-reset-space' => t('No Paddings')
  );
  $form['paddings'] = array(
    '#type' => 'select',
    '#title' => t('Paddings'),
    '#options' => $paddings,
    '#default_value' => isset($attrs['paddings']) ? $attrs['paddings'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );
  return $form;
}

function jango_shortcodes_shortcode_html($attrs, $text) {
  $attrs['class'] = isset($attrs['p_classes']) && $attrs['p_classes'] ? $attrs['p_classes'] : '';
  $attrs['class'] .= isset($attrs['p_color']) ? ' ' . $attrs['p_color'] : '';
  // Made a little hack for tables which can't be controled because rendered some WYSIWYG editor, and also list styles
  $text = str_replace(array(
    '<table',
    '<ul>',
    '<ol>'
  ), array(
    '<table class = "table table-bordered table-striped"',
    '<ul class = "c-links c-theme-ul">',
    '<ol class = "c-links c-theme-ul">'
  ), $text);
  $attrs_output = _jango_shortcodes_shortcode_attributes($attrs);
  if ($attrs_output) {
    return '<div ' . $attrs_output . '>' . $text . '</div>';
  }
  return $text;
}

function jango_shortcodes_shortcode_html_preview($attrs, $text) {
  $text = truncate_utf8(strip_tags($text), 800, TRUE, TRUE);
  return $text;
}

function jango_shortcodes_shortcode_html_settings($attrs, $text) {
  $form = nd_visualshortcodes_shortcode_html_settings($attrs, $text);
  $classes = array(
    '' => t('None'),
    'c-text c-font-16 c-font-regular' => t('Grey description text')
  );
  $form['p_classes'] = array(
    '#type' => 'select',
    '#title' => t('Text Options'),
    '#options' => $classes,
    '#default_value' => isset($attrs['p_classes']) ? $attrs['p_classes'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );
  $color = array(
    '' => t('Default'),
    'f-grey' => t('Grey'),
    'f-white' => t('White'),
    'f-black' => t('Black')
  );
  $form['p_color'] = array(
    '#type' => 'select',
    '#title' => t('Text Color'),
    '#options' => $color,
    '#default_value' => isset($attrs['p_color']) ? $attrs['p_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );
  return $form;
}

function jango_shortcodes_shortcode_feature($attrs, $text) {
  $attrs['class'] = isset($attrs['type']) ? 'icon-size-' . $attrs['type'] : '';
  $attrs['type'] = isset($attrs['type']) ? $attrs['type'] : '';
  //$colored = isset($attrs['colored']) && $attrs['colored'] ? ' color' : '';

  $icon = '';
  if(isset($attrs['icon'])) {
    $icon_class = strpos($attrs['icon'], 'icon-') !== false ? 'c-content-line-icon c-theme ' . 'c-' . str_replace('c-', '', $attrs['icon']) : 'icon-font ' . $attrs['icon'];
    $icon = '<div class="' . $icon_class . '"></div>';
  }
  $align = $attrs['type'] == 'alt-features' ? 'align-left' : '';
  if ($icon != '') {
    $text = isset($text) && $text <> '' ? '<div class="' . $attrs['type'] . '-descr ' . $align . '">' . $text . '</div>' : '';
    $text = $icon . (isset($attrs['text']) ? '<h3 class="' . 'c-font-uppercase c-font-bold">' . $attrs['text'] . '</h3>' : '') . $text;
  }
  else {
    $text = (isset($attrs['text']) ? '<h4 class="mt-0 font-alt">' . $attrs['text'] . '</h4>' : '') . $text;
    $text = '<div class="' . $attrs['type'] . '-descr ' . $align . '">' . $text . '</div>';
  }
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_feature_settings($attrs, $text) {
  $form['text'] = array(
    '#title' => t('Text'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['text']) ? $attrs['text'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['icon'] = array(
    '#title' => t('Icon'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $type = array(
    'alt-features' => t('Big Icon'),
    'medium' => t('Medium Icon'),
    'features' => t('Features'),
    'benefit' => t('Benefit'),
    'alt-service' => t('Left Small Icon'),
    'ci' => t('Contact'),
    'round_background' => t('Round Background'),
    'service' => t('Active Background')
  );
  $form['type'] = array(
    '#title' => t('Type'),
    '#type' => 'select',
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'alt-features',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_title($attrs, $text) {
  $attrs['icon_color'] = isset($attrs['icon_color']) && $attrs['icon_color'] ? $attrs['icon_color'] : 'blue';
  $attrs['icon'] = isset($attrs['icon']) && $attrs['icon'] ? $attrs['icon'] : '';
  $attrs['color'] = isset($attrs['color']) && $attrs['color'] ? $attrs['color'] : ' ';
  $attrs['size'] = isset($attrs['size']) && $attrs['size'] ? $attrs['size'] : ' ';
  $attrs['label_align'] = isset($attrs['label_align']) && $attrs['label_align'] ? $attrs['label_align'] : '';

  if (isset($attrs['underline']) && ($attrs['underline'] == 'c-line-center c-theme-bg' || $attrs['underline'] == 'c-line-left c-theme-bg' || $attrs['underline'] == 'c-line-right c-theme-bg')) {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-title-1">';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-content-title-3 c-theme-border') {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-title-3 c-border-' . $attrs['bg_color'] . '">';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-content-title-3 c-theme-border c-right') {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-title-3 c-right c-border-' . $attrs['bg_color'] . '">';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-content-title-4') {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="' . $attrs['underline'] . '">';
    $attrs['color'] .= ' c-line-strike';
  }
  else {
    $class = !isset($attrs['underline']) || $attrs['underline'] == '' ? 1 : 2;
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-title-' . $class . '">';
  }

  $text .= '<h3 class="' . $attrs['label_align'] . ' c-font-uppercase ' . $attrs['color'] . ' c-font-bold ' . $attrs['size'] . '">';
  if (isset($attrs['icon']) && $attrs['icon']) {
    $text .= '<i class="' . $attrs['icon'] . ' ' . $attrs['icon_color'] . '"></i> ';
  }
  $text .= '<span class = "title-wrap">' . $attrs['title'] . '</span></h3>';
  if (isset($attrs['description']) && $attrs['description'] != NULL) {
    $text .= '<p class="' . $attrs['label_align'] . ' c-font-uppercase c-font-17  ' . $attrs['color'] . '">' . $attrs['description'] . '</p>';
  }
  if (isset($attrs['underline']) && $attrs['underline'] && isset($attrs['bg_color']) && $attrs['bg_color']) {
    $text .= '<div class ="' . $attrs['underline'] . ' c-bg-' . $attrs['bg_color'] . ' c-bg-after-' . $attrs['bg_color'] . '"></div>';
  }
  $text .= '</div>';
  return $text;
}

function jango_shortcodes_shortcode_title_settings($attrs, $text) {
  $form['title'] = array(
    '#title' => t('Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $color = array(
    '' => t('Default'),
    'c-theme-font' => t('Theme Color'),
    'c-font-black' => t('Black'),
    'c-font-blue' => t('Blue'),
    'c-font-red' => t('Red'),
    'c-font-green' => t('Green'),
    'c-font-yellow' => t('Yellow'),
    'c-font-purple' => t('Purple'),
    'c-font-black' => t('Black'),
    'c-font-white' => t('White'),
    'c-font-grey' => t('Grey')
  );
  $form['color'] = array(
    '#title' => t('Font Color'),
    '#type' => 'select',
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $line = array(
    '' => t(' - None - '),
    'c-line' => 'Line long',
    'c-line-center c-theme-bg' => 'Line short',
    'c-line-left c-theme-bg' => 'Line short left',
    'c-line-right c-theme-bg' => 'Line short right',
    'c-line c-dot c-dot-center' => 'Line with point',
    'c-line c-dot c-dot-center c-line-short' => 'Line short with point',
    'c-line c-dot c-dot c-dot-left' => 'Line with point left',
    'c-line c-dot c-dot c-dot-right' => 'Line with point right',
    'c-line c-dot c-dot-square' => 'Line with square',
    'c-line c-dot c-dot-square c-dot-left' => 'Line with square left',
    'c-line c-dot c-dot-square c-dot-right' => 'Line with square right',
    'c-content-title-3 c-theme-border' => 'Vertical line left',
    'c-content-title-3 c-theme-border c-right' => 'Vertical line right',
    'c-content-title-4' => t('Middle Line'),
  );
  $form['underline'] = array(
    '#title' => t('Line Type'),
    '#type' => 'select',
    '#options' => $line,
    '#default_value' => isset($attrs['underline']) ? $attrs['underline'] : 'c-theme-bg',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );
  $form['description'] = array(
    '#title' => t('Description'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['description']) ? $attrs['description'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $bg_colors = array(
    '' => t('Transparent'),
    'blue' => t('Blue'),
    'red' => t('Red'),
    'green' => t('Green'),
    'yellow' => t('Yellow'),
    'purple' => t('Purple'),
    'white' => t('White'),
    'black' => t('Black'),
    'theme' => t('Theme')
  );
  $form['icon_color'] = array(
    '#title' => t('Icon Color'),
    '#type' => 'select',
    '#options' => $color,
    '#default_value' => isset($attrs['icon_color']) ? $attrs['icon_color'] : 'blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $text_align = array(
    'c-left' => t('Left'),
    'c-right' => t('Right'),
    'c-center' => t('Center'),
  );
  $form['label_align'] = array(
    '#title' => t('Text Align'),
    '#type' => 'select',
    '#options' => $text_align,
    '#default_value' => isset($attrs['label_align']) ? $attrs['label_align'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['bg_color'] = array(
    '#type' => 'select',
    '#options' => $bg_colors,
    '#title' => t('Underline color'),
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : 'c-accordion-blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  $sizes = array('' => t('Default'), 'c-font-18' => t('18px'), 'c-font-20' => t('20px'));
  $form['size'] = array(
    '#type' => 'select',
    '#options' => $sizes,
    '#title' => t('Font Size'),
    '#default_value' => isset($attrs['size']) ? $attrs['size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_panel($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= 'c-content-panel';
  $attrs['class'] .= isset($attrs['dark']) && $attrs['dark'] ? ' c-bg-dark' : '';
  $title = isset($attrs['title']) ? $attrs['title'] : '';
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '><div class="c-label ' . (isset($attrs['dark']) && $attrs['dark'] ? 'c-bg-dark-1 c-bg-dark-1-font' : '') . '">' . $title . '</div><div class="c-body">' . $text . '</div></div>';

  return $text;
}


function jango_shortcodes_shortcode_panel_settings($attrs, $text) {
  $form['title'] = array(
    '#title' => t('Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $form['dark'] = array(
    '#title' => t('Dark background'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['dark']) ? $attrs['dark'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
  );
  return $form;
}


function jango_shortcodes_shortcode_panel_child($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= ' row';

  $header = '';
  if (isset($attrs['header'])) {
    if ($attrs['with_title']) {
      $header = '<h3 class="panel-title">' . $attrs['header'] . '</h3>';
    }
    else {
      $header = $attrs['header'];
    }

    $header = '<div class="panel-heading">' . $header . '</div>';
  }
  $body = '<div class="panel-body">' . (isset($attrs['body']) ? $attrs['body'] : '') . '</div>';
  $footer = '';
  if (isset($attrs['footer'])) {
    $footer = '<div class="panel-footer">' . $attrs['footer'] . '</div>';
  }

  $type = isset($attrs['type']) ? $attrs['type'] : 'panel-default';
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '><div class="col-md-12"><div class="panel ' . $type . '">' . $header . $body . $text . $footer . '</div></div></div>';
  return $text;
}


function jango_shortcodes_shortcode_panel_child_settings($attrs, $text) {
  $type = array(
    'panel-default' => t('Default'),
    'panel-primary' => t('Primary'),
    'panel-success' => t('Success'),
    'panel-info' => t('Info'),
    'panel-warning' => t('Warning'),
    'panel-danger' => t('Danger')
  );

  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('List Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'panel-default',
    '#attributes' => array('class' => array('form-control')),
  );

  $form['header'] = array(
    '#title' => t('Header'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['header']) ? $attrs['header'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );

  $form['with_title'] = array(
    '#title' => t('With title'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['with_title']) ? $attrs['with_title'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  $form['footer'] = array(
    '#title' => t('Footer'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['footer']) ? $attrs['footer'] : '',
    '#attributes' => array('class' => array('form-control')),
  );

  $form['body'] = array(
    '#title' => t('Body'),
    '#type' => 'textarea',
    '#default_value' => isset($attrs['body']) ? $attrs['body'] : '',
    '#attributes' => array('class' => array('form-control')),
  );

  return $form;
}


function jango_shortcodes_shortcode_ul_list($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');

  $color = (isset($attrs['list_color']) ? 'c-theme ' : '');

  switch ($attrs['ullist_type']) {
    case 'dot' :
      $attrs['class'] .= 'c-content-list-1 ' . $color . 'c-separator-dot';
      $text = '<ul ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</ul>';
      break;
    case 'square' :
      $attrs['class'] .= 'c-content-list-1 ' . $color . ' c-separator-dot c-square';
      $text = '<ul ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</ul>';
      break;
    default:
      $attrs['class'] .= 'c-content-list-1 ' . $color;
      $text = '<ul ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</ul>';
  }
  return $text;
}


function jango_shortcodes_shortcode_ul_list_settings($attrs, $text) {
  $types = array(
    ' ' => t('Default'),
    'dot' => t('Dot'),
    'square' => t('Square')
  );

  $form['ullist_type'] = array(
    '#type' => 'select',
    '#options' => $types,
    '#title' => t('List Type'),
    '#default_value' => isset($attrs['ullist_type']) ? $attrs['ullist_type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $colors = array('' => t('Default'), 'multi' => t('Colored'));
  $form['list_color'] = array(
    '#type' => 'select',
    '#options' => $colors,
    '#title' => t('Color'),
    '#default_value' => isset($attrs['list_color']) ? $attrs['list_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_ul_list_item($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  $attrs['class'] .= isset($attrs['list_item_color']) ? $attrs['list_item_color'] : '';
  return '<li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</li>';
}


function jango_shortcodes_shortcode_ul_list_item_settings($attrs, $text) {

  $colors = array(
    '' => t('Default'),
    'c-bg-before-red' => t('Red'),
    'c-bg-before-blue' => t('Blue'),
    'c-bg-before-green' => t('Green'),
    'c-bg-before-purple' => t('Purple'),
    'c-bg-before-yellow' => t('Yellow')
  );
  $form['list_item_color'] = array(
    '#type' => 'select',
    '#options' => $colors,
    '#title' => t('Color'),
    '#default_value' => isset($attrs['list_item_color']) ? $attrs['list_item_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_panel_group_list($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  $attrs['class'] .= 'list-group';

  $text = '<ul ' . _jango_shortcodes_shortcode_attributes($attrs) . '">' . $text . '</ul>';

  return $text;
}

function jango_shortcodes_shortcode_panel_group_list_item($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  $attrs['class'] .= 'list-group-item';
  return '<li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</li>';
}

function jango_shortcodes_shortcode_quote($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '');
  $attrs['class'] .= isset($attrs['color']) && $attrs['color'] ? ' ' . $attrs['color'] : '';
  $attrs['class'] .= isset($attrs['reversed']) && $attrs['reversed'] ? ' blockquote-reverse' : '';
  $output = '<blockquote ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</blockquote>';
  return $output;
}

function jango_shortcodes_shortcode_quote_settings($attrs, $text) {
  $colors = array(
    '' => t('Default'),
    ' c-border-red' => t('Red'),
    ' c-border-blue' => t('Blue'),
    ' c-theme-border' => t('Green')
  );
  $form['color'] = array(
    '#title' => t('Color'),
    '#type' => 'select',
    '#options' => $colors,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );

  $form['reversed'] = array(
    '#title' => t('Reverse border'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['reversed']) ? $attrs['reversed'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );

  return $form;
}

function jango_shortcodes_shortcode_table($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  $attrs['class'] .= isset($attrs['table_type']) ? 'table ' . $attrs['table_type'] : '';
  if (isset($attrs['caption'])) {
    $caption = '<caption>' . $attrs['caption'] . '</caption>';
  }
  else {
    $caption = '';
  }
  $text = '<table ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $caption . $text . '</tbody></table>';
  if (isset($attrs['responsive']) && $attrs['responsive']) {
    $text = '<div class="table-responsive">' . $text . '</div>';
  }
  return $text;
}

function jango_shortcodes_shortcode_table_settings($attrs, $text) {
  $types = array(
    ' ' => t('Default'),
    'table-striped' => t('Striped'),
    'table-bordered' => t('Bordered'),
    'table-hover' => t('Hover'),
    'table-condensed' => t('Condensed')
  );

  $form['table_type'] = array(
    '#type' => 'select',
    '#options' => $types,
    '#title' => t('List Type'),
    '#default_value' => isset($attrs['table_type']) ? $attrs['table_type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );

  $form['responsive'] = array(
    '#title' => t('Responsive'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['responsive']) ? $attrs['responsive'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  $form['caption'] = array(
    '#title' => t('Table caption'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['caption']) ? $attrs['caption'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_table_row($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  $attrs['class'] .= isset($attrs['type']) ? $attrs['type'] : '';
  global $body_counter;

  if ($attrs['type_position'] == 'header') {
    return '<thead><tr ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</tr></thead>';
  }
  if ($attrs['type_position'] == 'body') {
    $body_counter++;
    if ($body_counter == 1) {
      $text = '<tbody><tr ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</tr>';
    }
    else {
      $text = '<tr ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</tr>';
    }
  }

  return $text;

}

function jango_shortcodes_shortcode_table_row_settings($attrs, $text) {
  $type = array(
    '' => t('Default'),
    'active' => t('Active'),
    'success' => t('Success'),
    'info' => t('Info'),
    'warning' => t('Warning'),
    'danger' => t('Danger')
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
  );

  $type_position = array('body' => t('Body'), 'header' => t('Header'));
  $form['type_position'] = array(
    '#type' => 'select',
    '#options' => $type_position,
    '#title' => t('Place in'),
    '#default_value' => isset($attrs['type_position']) ? $attrs['type_position'] : 'body',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function jango_shortcodes_shortcode_table_row_td($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] . ' ' : '');
  if (isset($attrs['type_scope'])) {
    $scope = ' scope="' . $attrs['type_scope'] . '"';
  }
  else {
    $scope = '';
  }
  if ($attrs['type_cell'] == 'td') {
    $text = '<td ' . _jango_shortcodes_shortcode_attributes($attrs) . $scope . '>' . $text . '</td>';
  }
  if ($attrs['type_cell'] == 'th') {
    $text = '<th ' . _jango_shortcodes_shortcode_attributes($attrs) . $scope . '>' . $text . '</th>';
  }
  return $text;
}

function jango_shortcodes_shortcode_table_row_td_settings($attrs, $text) {
  $type_scope = array(
    '' => t('Default'),
    'col' => t('Col'),
    'row' => t('Row'),
    'colgroup' => t('Colgroup'),
    'rowgroup' => t('Rowgroup'),
  );
  $form['type_scope'] = array(
    '#type' => 'select',
    '#options' => $type_scope,
    '#title' => t('Type Scope'),
    '#default_value' => isset($attrs['type_scope']) ? $attrs['type_scope'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
  );

  $type_cell = array('td' => t('TD'), 'th' => t('TH'));
  $form['type_cell'] = array(
    '#type' => 'select',
    '#options' => $type_cell,
    '#title' => t('Place in'),
    '#default_value' => isset($attrs['type_cell']) ? $attrs['type_cell'] : 'td',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function jango_shortcodes_shortcode_video($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? ' ' . $attrs['class'] : '' . ' embed-responsive embed-responsive-' . $attrs['aspect_ratio'];
  $width = '100%';
  $height = '100%';
  $iframe_attrs = $width . ' ' . $height;
  $attrs['class'] .= ' video';
  $attrs['url'] = isset($attrs['url']) ? $attrs['url'] : '';
  if (strpos($attrs['url'], 'vimeo') !== FALSE) {
    preg_match('|/(\d+)|', $attrs['url'], $matches);
    $video_url = '//player.vimeo.com/video/' . $matches[1] . '?title=0&amp;byline=0&amp;portrait=0&amp;color=FFFFFF';
  }
  else {
    if (strpos($attrs['url'], 'youtube') !== FALSE) {
      if (strpos($attrs['url'], '?v=') !== FALSE) {
        $id = substr($attrs['url'], strpos($attrs['url'], '?v=') + 3);
        $video_url = '//www.youtube.com/embed/' . $id . '?theme=dark&color=white';
      }
      else {
        $video_url = $attrs['url'];
      }
    }
  }
  if (isset($attrs['video_source']) && $attrs['video_source'] == 'internet') {
    $text = '
    <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
      <iframe src="' . $video_url . '" frameborder="0" allowfullscreen></iframe>
    </div>';
  }
  else {
    $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
    $uri = isset($file->uri) ? $file->uri : '';
    if (!$uri) {
      return '';
    }
    if (strpos($file->uri, 'mp4') !== FALSE) {
      $type = 'video/mp4';
    }
    else {
      $type = 'video/webm';
    }
    $file = isset($attrs['vfid']) && !empty($attrs['vfid']) ? file_load($attrs['vfid']) : '';
    $video_uri = isset($file->uri) ? $file->uri : '';
    if (!$video_uri) {
      return '';
    }
    $text = '
    <video poster="' . file_create_url($uri) . '" controls="controls">
      <source type="' . $type . '" src="' . file_create_url($video_uri) . '"></source>
      Your browser doesn\'t support HTML5 video.
    </video>';
  }
  return $text;
}

function jango_shortcodes_shortcode_video_settings($attrs, $text) {
  $video_source = array('local' => t('Local'), 'internet' => t('Internet'));
  $form['video_source'] = array(
    '#title' => t('Video source'),
    '#type' => 'select',
    '#options' => $video_source,
    '#attributes' => array('class' => array('form-control')),
    '#default_value' => isset($attrs['video_source']) ? $attrs['video_source'] : 'internet',
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );
  $states1 = array(
    'visible' => array(
      'select[name="video_source"]' => array('value' => 'local'),
    ),
  );
  $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid'])->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Placeholder'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '</div><div class = "col-sm-9">',
    '#suffix' => '</div></div>',
    '#states' => $states1,
  );
  $v_filename = isset($attrs['vfid']) && !empty($attrs['vfid']) ? file_load($attrs['vfid'])->uri : '';
  $video = $v_filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $v_filename
  )) : '';
  $form['vfid'] = array(
    '#type' => 'textfield',
    '#title' => t('Video'),
    '#default_value' => isset($attrs['vfid']) ? $attrs['vfid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $video . '</div><a href = "#" class = "media-upload button">' . t('Upload Video') . '</a><a href = "#" class = "media-remove button">' . t('Remove Video') . '</a>',
    '#prefix' => '<div class = "row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>',
    '#states' => $states1,
  );
  $states2 = array(
    'visible' => array(
      'select[name="video_source"]' => array('value' => 'internet'),
    ),
  );
  $form['url'] = array(
    '#type' => 'textfield',
    '#title' => t('Video Url'),
    '#default_value' => isset($attrs['url']) ? $attrs['url'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#description' => t('Supports: YouTube or Vimeo in case "Internet" and mp4 or webm in case "Local"'),
    '#prefix' => '<div class = "row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>',
    '#states' => $states2,
  );
  $aspect_ratio = array('16by9' => t('16x9'), '4by3' => t('4x3'));
  $form['aspect_ratio'] = array(
    '#type' => 'select',
    '#options' => $aspect_ratio,
    '#title' => t('Aspect ratio'),
    '#default_value' => isset($attrs['aspect_ratio']) ? $attrs['aspect_ratio'] : '16by9',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_tabs($attrs, $text) {
  global $tab_content;
  global $tabs_counter;

  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= 'c-content-tab-1 c-theme c-margin-t-30';
  // Tab Links
  $tabs_counter = !$tabs_counter ? 1 : $tabs_counter + 1;

  $font_class = isset($attrs['uppercase']) && $attrs['uppercase'] ? ' c-font-uppercase' : '';
  $font_class .= isset($attrs['bold']) && $attrs['bold'] ? ' c-font-bold' : ' c-font-sbold';
  $font_class .= isset($attrs['align']) && $attrs['align'] ? $attrs['align'] : '';

  $class = 'nav nav-tabs ' . (isset($attrs['type']) ? $attrs['type'] : '') . ' ' . $font_class;
  $border_class = isset($attrs['no_paddings']) && $attrs['no_paddings'] ? 'not-bordered' : 'c-bordered';

  switch ($attrs['type']) {
    case 'tabs-below' :
      $tab_class = 'tab-content ' . $border_class . ' c-padding-lg';
      $tabs = '<div class="clearfix"><ul class="' . $class . '">' . $text . '</ul></div>';
      $content = '<div class = "' . $tab_class . '">' . $tab_content . '</div>';
      $text = $content . $tabs;
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'tabs-left' :
      $tab_class = 'tab-content c-padding-sm';
      $tabs = '<div class="row"><div class="col-md-3 col-sm-12 col-xs-12"><ul class="' . $class . '">' . $text . '</ul></div>';
      $content = '<div class="col-md-9 col-sm-12 col-xs-12"><div class = "' . $tab_class . '">' . $tab_content . '</div></div>';
      $text = $tabs . $content;
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div></div>';
      break;
    case 'tabs-right' :
      $tab_class = 'tab-content c-padding-sm';
      $tabs = '<div class="row"><div class="col-md-3 col-sm-12 col-xs-12"><ul class="' . $class . '">' . $text . '</ul></div>';
      $content = '<div class="col-md-9 col-sm-12 col-xs-12"><div class = "' . $tab_class . '">' . $tab_content . '</div></div>';
      $text = $content . $tabs;
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div></div>';
      break;

    default:
      $tabs = '<div class="clearfix"><ul class="' . $class . '">' . $text . '</ul></div>';
      $tab_class = 'tab-content ' . $border_class . ' c-padding-lg';
      $content = '<div class = "' . $tab_class . '">' . $tab_content . '</div>';
      // Create tabs
      $text = $tabs . $content;
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
  }

  // Clear the global variable for next possible tabs
  $tab_content = '';
  return $text;
}

function jango_shortcodes_shortcode_tabs_settings($attrs, $text) {
  $types = array(
    ' top' => t('Top'),
    'tabs-below' => t('Below'),
    'tabs-left' => t('Left'),
    'tabs-right' => t('Right')
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Tabs position'),
    '#options' => $types,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $align = array(
    ' ' => t('Left'),
    ' pull-right' => t(' Right'),
    ' nav-justified' => t(' Justified')
  );
  $form['align'] = array(
    '#type' => 'select',
    '#title' => t('Align'),
    '#options' => $align,
    '#default_value' => isset($attrs['align']) ? $attrs['align'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );

  $form['uppercase'] = array(
    '#title' => t('Uppercase'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : TRUE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $form['bold'] = array(
    '#title' => t('Bold'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bold']) ? $attrs['bold'] : TRUE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $form['no_paddings'] = array(
    '#title' => t('No Padding'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['no_paddings']) ? $attrs['no_paddings'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function jango_shortcodes_shortcode_tab($attrs, $text) {
  global $tab_counter;
  global $tab_content;
  $tab_counter++;
  // Tab Link

  $color = isset($attrs['color']) && $attrs['color'] ? 'class="' . $attrs['color'] . '" ' : '';

  $class = isset($attrs['active']) && $attrs['active'] ? 'class = "active"' : '';
  $output = '<li ' . $class . '><a ' . $color . 'data-toggle="tab" href = "#tab-' . $tab_counter . '" aria-expanded="' . (isset($attrs['active']) && $attrs['active'] ? 'true' : 'false') . '">' . (isset($attrs['title']) ? $attrs['title'] : '') . '</a></li>';
  // Tab Content
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '') . ' tab-pane';
  $attrs['class'] .= isset($attrs['active']) && $attrs['active'] ? ' active' : '';
  $attrs['id'] = 'tab-' . $tab_counter;
  $tab_content .= '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';

  return $output;
}

function jango_shortcodes_shortcode_tab_settings($attrs, $text) {
  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>'
  );

  $form['active'] = array(
    '#title' => t('Active'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['active']) ? $attrs['active'] : FALSE,
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>'
  );

  $color = array(
    '' => t('Default'),
    ' c-border-red' => t('Red'),
    ' c-border-purple' => t('Purple')
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Tab border color'),
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_icon($attrs, $text) {
  $attrs['class'] = (isset($attrs['type']) ? $attrs['type'] . ' ' : '');
  $attrs['class'] .= (isset($attrs['bg_color']) ? $attrs['bg_color'] . ' ' : '');
  if (isset($attrs['icon'])) {
    $attrs['class'] .= $attrs['icon'];
    $output = '<i ' . _jango_shortcodes_shortcode_attributes($attrs) . (isset($attrs['size']) ? ' style = "font-size:' . $attrs['size'] . 'px;"' : '') . '></i>';
  }
  elseif (isset($attrs['custom_icon'])) {
    $attrs['class'] .= 'c-content-line-icon ' . (isset($attrs['custom_icon_size']) ? $attrs['custom_icon_size'] : '');
    $attrs['class'] .= ' ' . $attrs['custom_icon'];
    $output = '<i ' . _jango_shortcodes_shortcode_attributes($attrs) . '></i>';
  }
  $output = isset($attrs['link']) ?  '<a href="' . $attrs['link'] . '" target = "_blank">' . $output . '</a> ' : $output;
  return $output;
}

function jango_shortcodes_shortcode_icon_settings($attrs, $text) {
  $form['icon'] = array(
    '#title' => t('Awesome, SimpleLine, Glyphicon Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['size'] = array(
    '#title' => t('Icon size (px)'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['size']) ? $attrs['size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
  );
  $types = array('' => t('Default'), 'nd-icon-square' => t('Square'));
  $form['type'] = array(
    '#title' => t('Type'),
    '#type' => 'select',
    '#options' => $types,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );
  $bg_colors = array('' => t('None'), 'nd-bg-dark' => t('Dark'), 'nd-bg-grey' => t('Grey'));
  $form['bg_color'] = array(
    '#title' => t('BG Color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );
  $form['link'] = array(
    '#title' => t('Link'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>',
  );
  $form['custom_icon'] = array(
    '#title' => t('Custom Icon'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/custom_line_icons_autocomplete',
    '#default_value' => isset($attrs['custom_icon']) ? $attrs['custom_icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
    '#suffix' => '</div>'
  );

  $custom_icon_size = array(
    '' => t('Default'),
    'c-icon-md' => t('Middle'),
    'c-icon-sm' => t('Small')
  );
  $form['custom_icon_size'] = array(
    '#type' => 'select',
    '#title' => t('Custom icon size'),
    '#options' => $custom_icon_size,
    '#default_value' => isset($attrs['custom_icon_size']) ? $attrs['custom_icon_size'] : ' label',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_social_icon($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '') . 'socicon-btn';
  $attrs['class'] .= (isset($attrs['circle']) && $attrs['circle'] ? ' ' . 'socicon-btn-circle' : '');
  $attrs['class'] .= (isset($attrs['social_icon_size']) ? ' ' . $attrs['social_icon_size'] : '');
  $attrs['class'] .= (isset($attrs['solid']) && $attrs['solid'] ? ' ' . 'socicon-solid' : '');

  if (isset($attrs['solid']) && $attrs['solid']) {
    if (!isset($attrs['social_icon_size'])) {
      $attrs['social_icon_size'] = 'default';
    }
    switch ($attrs['social_icon_size']) {
      case 'socicon-lg' :
        $attrs['class'] .= ' c-theme-bg c-font-white c-bg-red-hover';
        break;
      case 'socicon-sm' :
        $attrs['class'] .= ' c-bg-yellow c-font-white c-theme-bg-on-hover';
        break;
      default:
        $attrs['class'] .= ' c-bg-red c-font-white c-bg-green-hover';
    }
  }
  $attrs['class'] .= (isset($attrs['icon']) ? ' socicon-' . $attrs['icon'] : '') . ' tooltips';
  $tooltips = (isset($attrs['tooltips']) ? ' ' . $attrs['tooltips'] : '');
  $attrs['href'] = isset($attrs['link']) ? ' ' . $attrs['link'] : '#';
  $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' data-original-title="' . $tooltips . '"></a>';
  return $text;
}

function jango_shortcodes_shortcode_social_icon_settings($attrs, $text) {
  $form['icon'] = array(
    '#title' => t('Social icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/social_icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-5">',
    '#suffix' => '</div>'
  );
  $social_icon_size = array(
    '' => t('Default'),
    'socicon-lg' => t('Large'),
    'socicon-sm' => t('Small')
  );
  $form['social_icon_size'] = array(
    '#type' => 'select',
    '#title' => t('Custom icon size'),
    '#options' => $social_icon_size,
    '#default_value' => isset($attrs['social_icon_size']) ? $attrs['social_icon_size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $form['circle'] = array(
    '#title' => t('Circle'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['circle']) ? $attrs['circle'] : FALSE,
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>'
  );

  $form['solid'] = array(
    '#title' => t('Solid'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['solid']) ? $attrs['solid'] : FALSE,
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>'
  );

  $form['link'] = array(
    '#title' => t('Link'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );


  $form['tooltips'] = array(
    '#type' => 'textfield',
    '#title' => t('Tooltip'),
    '#default_value' => isset($attrs['tooltips']) ? $attrs['tooltips'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div></div>'
  );

  $target = array('' => t('Default'), '_blank' => '_blank', '_parent' => '_parent', '_top' => '_top');
  $form['target'] = array(
    '#type' => 'select',
    '#title' => t('Target'),
    '#default_value' => isset($attrs['target']) ? $attrs['target'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#options' => $target,
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_label($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '');
  $attrs['class'] .= $attrs['type'] . $attrs['variants'];
  if ($attrs['bold']) {
    $attrs['class'] .= ' c-font-bold';
  }
  else {
    $attrs['class'] .= ' c-font-slim';
  }
  $output = '<span ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . (isset($attrs['title']) ? $attrs['title'] : '') . '</span>';

  return $output;
}

function jango_shortcodes_shortcode_label_settings($attrs, $text) {

  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-12">',
    '#suffix' => '</div></div>'
  );

  $type = array(
    ' label' => t('Default'),
    'label' => t('Bootstrap'),
    'c-content-label' => t('Oswald')
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Label type'),
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : ' label',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $variants = array(
    ' label-default' => t('Default'),
    ' label-success' => t('Success'),
    ' label-warning' => t('Warning'),
    ' label-danger' => t('Danger'),
    ' label-info' => t('Info'),
    ' label-primary' => t('Primary')
  );
  $form['variants'] = array(
    '#type' => 'select',
    '#title' => t('Variants'),
    '#options' => $variants,
    '#default_value' => isset($attrs['variants']) ? $attrs['variants'] : ' label-default',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $color = array(
    '' => t('Default'),
    ' c-bg-blue' => t('Blue'),
    ' c-bg-red' => t('Red'),
    ' c-bg-green' => t('Green'),
    ' c-bg-yellow' => t('Yellow'),
    ' c-bg-purple' => t('Purple'),
    ' c-bg-dark' => t('Dark'),
    ' c-bg-blue-2' => t('Blue 2'),
    ' c-bg-green-2' => t('Green 2'),
    ' c-bg-yellow-2' => t('Yellow 2'),
    ' c-bg-purple-2' => t('Purple 2'),
    ' c-bg-red-2' => t('Red 2'),
    ' c-bg-dark-2' => t('Dark 2')
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Select color'),
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $size = array(
    '' => t('Default'),
    ' c-label-sm' => t('Small'),
    ' c-label-lg' => t('Large')
  );
  $form['size'] = array(
    '#type' => 'select',
    '#title' => t('Label size'),
    '#options' => $variants,
    '#default_value' => isset($attrs['size']) ? $attrs['size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );

  $form['uppercase'] = array(
    '#title' => t('Uppercase'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : FALSE,
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>'
  );

  $form['bold'] = array(
    '#title' => t('Bold'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bold']) ? $attrs['bold'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );

  return $form;
}

function jango_shortcodes_shortcode_button($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '');
  $attrs['class'] .= ' btn';
  $attrs['class'] .= (isset($attrs['size']) ? ' ' . $attrs['size'] : '');
  $role = '';
  if (!isset($attrs['color'])) {
    $attrs['class'] .= (isset($attrs['variants']) ? ' ' . $attrs['variants'] : '');
    $role = 'role="button"';
  }
  $attrs['class'] .= (isset($attrs['color']) ? ' ' . $attrs['color'] : '');
  $attrs['class'] .= (isset($attrs['button_state']) ? ' ' . $attrs['button_state'] : '');
  $attrs['class'] .= (isset($attrs['block']) && $attrs['block'] ? ' btn-block' : '');
  $attrs['class'] .= (isset($attrs['display']) ? ' ' . $attrs['display'] : '');
  $attrs['class'] .= (isset($attrs['uppercase']) && $attrs['uppercase'] ? ' c-btn-uppercase' : '');
  $attrs['class'] .= (isset($attrs['bold']) && $attrs['bold'] ? ' c-btn-bold' : '');

  $attrs['class'] .= (isset($attrs['border_width']) ? ' ' . $attrs['border_width'] : '');

  $text = isset($attrs['text']) ? $attrs['text'] : '';
  if (isset($attrs['icon']) && $attrs['icon']) {
    if (isset($attrs['icon_position']) && $attrs['icon_position']) {
      $text = '<i class="' . $attrs['icon'] . '"></i> ' . $text;
    }
    else {
      $text = '<i class="' . $attrs['icon'] . '"></i>' . $text;
    }
  }


  if (isset($attrs['button_type'])) {
    switch ($attrs['button_type']) {
      case 'link' :
        $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' href="' . $attrs['link'] . '" ' . $role . '>' . $text . '</a>';
        break;
      case 'input_text' :
        $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' href="' . $attrs['link'] . '" ' . $role . '>' . t($text) . '</a>';
        break;
      case 'input_submit' :
        $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' href="' . $attrs['link'] . '" ' . $role . '>' . t($text) . '</a>';
        break;
      default:
        $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' href="' . $attrs['link'] . '" ' . $role . '>' . t($text) . '</a>';
    }
  }

  return $text;
}

function jango_shortcodes_shortcode_button_settings($attrs, $text) {
  $button_type = array(
    'button' => t('Button'),
    'link' => t('Link'),
    'input_text' => t('Input text'),
    'input_submit' => t('Input submit')
  );
  $form['button_type'] = array(
    '#type' => 'select',
    '#title' => t('Button type'),
    '#options' => $button_type,
    '#default_value' => isset($attrs['button_type']) ? $attrs['button_type'] : 'button',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
  );

  $displays = array(
    '' => t('Default'),
    'c-btn-square' => t('Square'),
    'c-btn-circle' => t('Circle')
  );
  $form['display'] = array(
    '#type' => 'select',
    '#title' => t('Display'),
    '#options' => $displays,
    '#default_value' => isset($attrs['display']) ? $attrs['display'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );

  $sizes = array(
    '' => t('Default'),
    'btn-xlg' => t('Extra large'),
    'btn-lg' => t('Large'),
    'btn-md' => t('Middle'),
    'btn-sm' => t('Small'),
    'btn-xs' => t('Extra small')
  );
  $form['size'] = array(
    '#type' => 'select',
    '#title' => t('Size'),
    '#options' => $sizes,
    '#default_value' => isset($attrs['size']) ? $attrs['size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );

  $color = array(
    '' => t('Default'),
    'c-theme-btn' => t('Theme color'),
    'c-btn-blue' => t('Blue'),
    'c-btn-green' => t('Green'),
    'c-btn-red' => t('Red'),
    'c-btn-yellow' => t('Yellow'),
    'c-btn-purple' => t('Purple'),
    'c-btn-dark' => t('Dark'),
    'c-btn-grey' => t('Grey'),
    'c-btn-blue-1' => t('Blue 1'),
    'c-btn-green-1' => t('Green 1'),
    'c-btn-red-1' => t('Red 1'),
    'c-btn-yellow-1' => t('Yellow 1'),
    'c-btn-purple-1' => t('Purple 1'),
    'c-btn-dark-1' => t('Dark 1'),
    'c-btn-grey-1' => t('Grey 1'),
    'c-btn-blue-2' => t('Blue 2'),
    'c-btn-green-2' => t('Green 2'),
    'c-btn-red-2' => t('Red 2'),
    'c-btn-yellow-2' => t('Yellow 2'),
    'c-btn-purple-2' => t('Purple 2'),
    'c-btn-dark-2' => t('Dark 2'),
    'c-btn-grey-2' => t('Grey 2'),
    'c-btn-white' => t('White'),
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Color'),
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );

  $form['text'] = array(
    '#title' => t('Text'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['text']) ? $attrs['text'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '#',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $variants = array(
    ' btn-default' => t('Default'),
    ' btn-success' => t('Success'),
    ' btn-warning' => t('Warning'),
    ' btn-danger' => t('Danger'),
    ' btn-info' => t('Info'),
    ' btn-primary' => t('Primary'),
    'btn-link' => t('Link')
  );
  $form['variants'] = array(
    '#type' => 'select',
    '#title' => t('Variants'),
    '#options' => $variants,
    '#default_value' => isset($attrs['variants']) ? $attrs['variants'] : ' btn-default',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );

  $form['icon'] = array(
    '#title' => t('Awesome+SimpleLine+Glyphicon Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );

  $icon_position = array('' => t('Backward'), 'beside' => t('Beside'));
  $form['icon_position'] = array(
    '#type' => 'select',
    '#title' => t('Icon position'),
    '#options' => $icon_position,
    '#default_value' => isset($attrs['icon_position']) ? $attrs['icon_position'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );

  $button_state = array(
    '' => t('Default'),
    'active' => t('Active'),
    'disabled' => t('Disabled')
  );
  $form['button_state'] = array(
    '#type' => 'select',
    '#title' => t('Button state'),
    '#options' => $button_state,
    '#default_value' => isset($attrs['button_state']) ? $attrs['button_state'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );

  $form['uppercase'] = array(
    '#title' => t('Uppercase'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : FALSE,
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>'
  );
  $form['bold'] = array(
    '#title' => t('Bold'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bold']) ? $attrs['bold'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>'
  );

  $form['block'] = array(
    '#type' => 'checkbox',
    '#title' => t('Display as block'),
    '#default_value' => isset($attrs['block']) ? $attrs['block'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  $border_width = array(
    '' => t('Default'),
    'c-btn-border-1x' => t('1px'),
    'c-btn-border-2x' => t('2px')
  );
  $form['border_width'] = array(
    '#type' => 'select',
    '#title' => t('Border width'),
    '#options' => $border_width,
    '#default_value' => isset($attrs['border_width']) ? $attrs['border_width'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );

  return $form;
}

function jango_shortcodes_shortcode_signup_with_button($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '');
  $attrs['class'] .= ' btn btn-block btn-social c-btn-square c-btn-uppercase btn-md';
  $attrs['class'] .= (isset($attrs['color']) ? ' ' . $attrs['color'] : '');

  $text = isset($attrs['text']) ? $attrs['text'] : '';
  if (isset($attrs['icon']) && $attrs['icon']) {
    if (isset($attrs['icon_position']) && $attrs['icon_position']) {
      $text = '<i class="' . $attrs['icon'] . '"></i> ' . $text;
    }
    else {
      $text = '<i class="' . $attrs['icon'] . '"></i>' . $text;
    }
  }

  $text = '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . ' href="' . $attrs['link'] . '">' . $text . '</a>';

  return $text;
}

function jango_shortcodes_shortcode_signup_with_button_settings($attrs, $text) {
  $form['icon'] = array(
    '#title' => t('Awesome+SimpleLine+Glyphicon Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );

  $color = array(
    'btn-adn' => t('App.net'),
    'btn-bitbucket' => t('bitbucket'),
    'btn-dropbox' => t('dropbox'),
    'btn-facebook' => t('facebook'),
    'btn-flickr' => t('flickr'),
    'btn-foursquare' => t('foursquare'),
    'btn-github' => t('github'),
    'btn-google' => t('google'),
    'btn-instagram' => t('instagram'),
    'btn-linkedin' => t('linkedin'),
    'btn-microsoft' => t('microsoft'),
    'btn-openid' => t('openid'),
    'btn-pinterest' => t('pinterest'),
    'btn-reddit' => t('reddit'),
    'btn-soundcloud' => t('soundcloud'),
    'btn-tumblr' => t('tumblr'),
    'btn-twitter' => t('twitter'),
    'btn-vimeo' => t('vimeo'),
    'btn-vk' => t('vk'),
    'btn-yahoo' => t('yahoo'),
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Social network'),
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  $form['text'] = array(
    '#title' => t('Text'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['text']) ? $attrs['text'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '#',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function jango_shortcodes_shortcode_alert($attrs, $text) {
  $attrs['class'] = (isset($attrs['class']) ? $attrs['class'] : '');
  $attrs['class'] .= ' alert';
  $attrs['class'] .= (isset($attrs['type']) ? ' ' . $attrs['type'] : '');
  $attrs['class'] .= (isset($attrs['dismissible']) && $attrs['dismissible'] ? ' alert-dismissible' : '');

  if (isset($attrs['dismissible']) && $attrs['dismissible']) {
    $button = '<button class="close" aria-label="Close" data-dismiss="alert" type="button"><span aria-hidden="true">×</span></button>';
  }
  else {
    $button = '';
  }

  if (isset($attrs['text_link']) && $attrs['text_link']) {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' role="alert">' . $attrs['text'] . '<a class="c-font-slim" href="' . $attrs['link'] . '"> ' . $attrs['text_link'] . '</a>' . $button . '</div>';
  }
  else {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' role="alert">' . $attrs['text'] . $button . '</div>';
  }

  return $text;
}

function jango_shortcodes_shortcode_alert_settings($attrs, $text) {
  $type = array(
    'alert-success' => t('Succes'),
    'alert-info' => t('Info'),
    'alert-warning' => t('Warning'),
    'alert-danger' => t('Danger'),
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Type'),
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  $form['text'] = array(
    '#type' => 'textfield',
    '#title' => t('Text'),
    '#default_value' => isset($attrs['text']) ? $attrs['text'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  $form['text_link'] = array(
    '#type' => 'textfield',
    '#title' => t('Text link'),
    '#default_value' => isset($attrs['text_link']) ? $attrs['text_link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div>',
  );
  $form['dismissible'] = array(
    '#title' => t('Dismissible'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['dismissible']) ? $attrs['dismissible'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );

  return $form;
}

function jango_shortcodes_shortcode_products_filter($attrs, $text) {
  $attrs['type'] = isset($attrs['type']) ? $attrs['type'] : '';
  $attrs['title'] = isset($attrs['title']) ? $attrs['title'] : '';
  $attrs['class'] = 'c-margin-b-30';
  switch ($attrs['type']) {
    case 'rating':
      $attrs['class'] .= ' filter-rating-wraper';
      $output = '
        <label class="control-label c-font-uppercase c-font-bold">' . t($attrs['title']) . '</label>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-1" class="c-check" data-stars = "100">
            <label for="checkbox-sidebar-2-1">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span></p>
            </label>
        </div>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-2" class="c-check" data-stars = "80">
            <label for="checkbox-sidebar-2-2">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span></p>
            </label>
        </div>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-3" class="c-check" data-stars = "60">
            <label for="checkbox-sidebar-2-3">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span></p>
            </label>
        </div>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-4" class="c-check" data-stars = "40">
            <label for="checkbox-sidebar-2-4">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">
                    <span class="fa fa-star c-theme-font"></span>
                    <span class="fa fa-star c-theme-font"></span></p>
            </label>
        </div>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-5" class="c-check" data-stars = "20">
            <label for="checkbox-sidebar-2-5">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">
                    <span class="fa fa-star c-theme-font"></span></p>
            </label>
        </div>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-2-6" class="c-check" data-stars = "0">
            <label for="checkbox-sidebar-2-6">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p class="c-review-star">No yet rated</p>
            </label>
        </div>';
      break;
    case 'availability':
      $output = '<label class="control-label c-font-uppercase c-font-bold">' . t($attrs['title']) . '</label>
        <div class="c-checkbox">
            <input type="checkbox" id="checkbox-sidebar-3-1" class="c-check">
            <label for="checkbox-sidebar-3-1">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p>' . t('Not Available') . '</p>
            </label>
        </div>
        <div class="c-checkbox c-checkbox-height">
            <input type="checkbox" id="checkbox-sidebar-3-2" class="c-check">
            <label for="checkbox-sidebar-3-2">
                <span class="inc"></span>
                <span class="check"></span>
                <span class="box"></span>
                <p>' . t('In Stock') . '</p>
            </label>
        </div>';
      break;
    case 'price':
      $attrs['class'] .= ' c-shop-filter-search-1';
      $from = isset($attrs['price_from']) ? $attrs['price_from'] : 0;
      $to = isset($attrs['price_to']) ? $attrs['price_to'] : 500;
      $min = (int) ($from / 20);
      $max = $to * 3;
      $price_type = isset($attrs['price_type']) ? $attrs['price_type'] : 'c-theme-1';
      $price_handle = isset($attrs['price_handle']) && $attrs['price_handle'] == 'square' ? 'data-slider-handle="square"' : '';
      $currency = isset($attrs['price_currency']) ? $attrs['price_currency'] : '$';
      if ($price_type == 'from_to_textfields') {
        $output = '<label class="control-label c-font-uppercase c-font-bold">' . t($attrs['title']) . '</label>
          <div class="c-price-range-box input-group">
              <div class="c-price input-group col-md-6 pull-left">
                  <span class="input-group-addon c-square c-theme">' . $currency . '</span>
                  <input type="text" name = "from_textfield" class="form-control c-square c-theme" placeholder="' . t('from') . '"> </div>
              <div class="c-price input-group col-md-6 pull-left">
                  <span class="input-group-addon c-square c-theme">' . $currency . '</span>
                  <input type="text" name = "to_textfield" class="form-control c-square c-theme" placeholder="' . t('to') . '"> </div>
          </div>';
      }
      else {
        $attrs['class'] .= ' filter-range-wrapper';
        $output = '<label class="control-label c-font-uppercase c-font-bold">' . t($attrs['title']) . '</label>
          <p>' . t('Price Range:') . $currency . '<span class = "range-text">' . $min . ' - ' . $currency . $max . '</span></p>
          <div class="c-price-range-slider ' . $price_type . ' input-group">
              <input type="text" class="nd-price-slider" value="" data-slider-min="' . $min . '" data-slider-max="' . $max . '" data-slider-step="1" data-slider-value="[' . $from . ',' . $to . ']" ' . $price_handle . '> </div>';
      }
      break;
  }

  return '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' role="alert">' . $output . '</div>';
}

function jango_shortcodes_shortcode_products_filter_settings($attrs, $text) {
  $type = array(
    'price' => t('Price'),
    'rating' => t('Rating'),
    'availability' => t('Availability')
  );

  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Type'),
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
  );

  $price_type = array(
    'from_to_textfields' => t('From To Textfields'),
    'c-theme-1' => t('Slider Blue'),
    'c-theme-2' => t('Slider Red'),
  );

  $form['price_type'] = array(
    '#type' => 'select',
    '#title' => t('Type Price'),
    '#options' => $price_type,
    '#default_value' => isset($attrs['price_type']) ? $attrs['price_type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-6">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'price')
      )
    )
  );

  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );

  $form['price_from'] = array(
    '#type' => 'textfield',
    '#title' => t('Default Price from'),
    '#default_value' => isset($attrs['price_from']) ? $attrs['price_from'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#states' => array(
      'invisible' => array(
        'select[name="price_type"]' => array('value' => 'from_to_textfields'),
      )
    )
  );
  $form['price_to'] = array(
    '#type' => 'textfield',
    '#title' => t('To'),
    '#default_value' => isset($attrs['price_to']) ? $attrs['price_to'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array(
        'select[name="price_type"]' => array('value' => 'from_to_textfields'),
      )
    )
  );

  $form['price_handle'] = array(
    '#type' => 'select',
    '#title' => t('Price Handle'),
    '#options' => array(
      'round' => t('Round'),
      'square' => t('Square')
    ),
    '#default_value' => isset($attrs['price_handle']) ? $attrs['price_handle'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#states' => array(
      'invisible' => array(
        'select[name="price_type"]' => array('value' => 'from_to_textfields')
      )
    )
  );

  $form['price_currency'] = array(
    '#type' => 'textfield',
    '#title' => t('Price Currency'),
    '#default_value' => isset($attrs['price_currency']) ? $attrs['price_currency'] : '$',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-2">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'price')
      )
    )
  );
  return $form;
}

function jango_shortcodes_shortcode_product($attrs, $text) {

  $type = isset($attrs['type']) ? $attrs['type'] : '';

  switch ($type) {
    case 'image_hover_button':
      $attrs['class'] = 'c-content c-content-overlay';
      $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_create_url(file_load($attrs['fid'])->uri) : '';
      $height = isset($attrs['height']) ? $attrs['height'] : 550;
      $output = '
      <div class="c-overlay-wrapper c-overlay-padding">
          <div class="c-overlay-content">
              <a href="' . (isset($attrs['button_link']) ? url($attrs['button_link']) : '') . '" class="btn btn-md c-btn-grey-1 c-btn-uppercase c-btn-bold c-btn-border-1x c-btn-square">' . (isset($attrs['button_text']) ? t($attrs['button_text']) : '') . '</a>
          </div>
      </div>
      <div class="c-bg-img-center c-overlay-object" data-height="height" style="height: ' . $height . 'px; background-image: url(' . $filename . ');"></div>
      <div class="c-overlay-border"></div>';
      break;
    case 'title_button':
      $attrs['class'] = 'c-content-product-5 c-content-overlay';
      $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_create_url(file_load($attrs['fid'])->uri) : '';
      $height = isset($attrs['height']) ? $attrs['height'] : 400;

      $output = '
        <div class="c-bg-img-center c-center" style="height:' . $height . 'px;background-image: url(' . $filename . ')">
          <div class="c-wrapper c-center-vertical">
            <h3 class="c-title c-margin-tb-30 c-font-30 c-font-uppercase c-font-bold c-font-white">
                <span class="c-line">
                    ' . (isset($attrs['title']) ? $attrs['title'] : '') . '</span>
            </h3>
            <a href="' . (isset($attrs['button_link']) ? url($attrs['button_link']) : '') . '" class="btn btn-md c-btn-grey-1 c-btn-uppercase c-btn-bold c-btn-border-1x c-btn-square c-margin-t-20">' . (isset($attrs['button_text']) ? t($attrs['button_text']) : '') . '</a>
          </div>
        </div>';
      break;
    case 'image_hover_text':
      $attrs['class'] = 'c-content-product-5 c-content-overlay';
      $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_create_url(file_load($attrs['fid'])->uri) : '';
      $height = isset($attrs['height']) ? $attrs['height'] : 400;

      $output = '
        <div class="c-overlay-wrapper">
          <div class="c-overlay-content">
            <h3 class="c-title c-margin-tb-30 c-font-uppercase c-font-bold c-font-30 c-font-white c-padding-20">
                ' . (isset($attrs['title']) ? $attrs['title'] : '') . '</h3>
            <a href="' . (isset($attrs['button_link']) ? url($attrs['button_link']) : '') . '" class="btn btn-md c-btn-grey-1 c-btn-uppercase c-btn-bold c-btn-border-1x c-btn-square">' . (isset($attrs['button_text']) ? t($attrs['button_text']) : '') . '</a>
          </div>
        </div>
        <div class="c-bg-img-center c-overlay-object" data-height="height" style="height: ' . $height . 'px; background-image: url(' . $filename . ');"></div>';
      break;
    case 'promo':
      $attrs['class'] = 'c-content-product-5';
      $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_create_url(file_load($attrs['fid'])->uri) : '';
      $height = isset($attrs['height']) ? $attrs['height'] : 800;

      $output = '
      <div class="c-bg-img-center" style="height:' . $height . 'px;background-image: url(' . $filename . ')">
        <div class="c-detail c-bg-dark c-bg-opacity-2">
          <a href="' . (isset($attrs['button_link']) ? url($attrs['button_link']) : '') . '" class="btn btn-md c-btn-grey-1 c-btn-uppercase c-btn-bold c-btn-border-1x c-btn-square">' . (isset($attrs['button_text']) ? t($attrs['button_text']) : '') . '</a>
          <h3 class="c-title c-font-uppercase c-font-bold c-font-white c-font-90">' . (isset($attrs['title']) ? $attrs['title'] : '') . '</h3>
          <div class="c-desc c-font-white c-font-17">' . $text . '</div>
        </div>
      </div>';
      break;
    case 'image_text':
    default:

      $attrs['class'] = 'c-content-product-4 ' . (isset($attrs['bg_type']) ? $attrs['bg_type'] : '');
      $height = isset($attrs['height']) ? $attrs['height'] : '';
      if ($height) {
        $attrs['style_height'] = $height;
      }

      $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_create_url(file_load($attrs['fid'])->uri) : '';
      $content_align = isset($attrs['img_position']) && $attrs['img_position'] == 'left' ? 'right' : 'left';

      $img = '
      <div class="col-md-6 col-sm-6">
          <div class="c-wrapper">
              <div class="c-side-image" style="' . ($height ? 'height:' . $height . 'px;background-size: 100%;' : '') . 'background-image: url(' . $filename . ');"></div>
          </div>
      </div>';

      $output = '
      <div class="col-md-6 col-sm-6">
        <div class="c-content c-align-' . $content_align . '" ' . ($height ? 'style = "padding-top:' . ($height - 500) . 'px;"' : '') . '>
            <h3 class="c-title c-font-bold c-font-35 c-font-dark">' . (isset($attrs['title']) ? $attrs['title'] : '') . '</h3>
            <div class="c-description c-font-20 c-font-regular">' . $text . '</div>
            <p class="c-price c-font-60 c-font-thin c-font-dark">' . (isset($attrs['price']) ? $attrs['price'] : '') . '</p>
            <a href="' . (isset($attrs['button_link']) ? url($attrs['button_link']) : '') . '" class="btn btn-lg c-btn-grey-3 c-font-uppercase c-btn-square c-btn-border-1x">' . (isset($attrs['button_text']) ? t($attrs['button_text']) : '') . '</a>
        </div>
      </div>';
      $output = isset($attrs['img_position']) && $attrs['img_position'] == 'left' ? $img . $output : $output . $img;
      break;
  }
  $output = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $output . '</div>';
  return $output;
}

function jango_shortcodes_shortcode_product_settings($attrs, $text) {
  $types = array(
    'image_text' => t('Image and Text'),
    'image_hover_text' => t('Image Hover'),
    'image_hover_button' => t('Image Button Hover'),
    'promo' => t('Promo'),
    'title_button' => t('Title and Button')
  );

  $form['type'] = array(
    '#title' => t('Type'),
    '#type' => 'select',
    '#options' => $types,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
    '#suffix' => '</div></div>'
  );

  $form['title'] = array(
    '#title' => t('Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#states' => array(
      'invisible' => array(
        'select[name="type"]' => array('value' => 'image_hover_button'),
      ),
    ),
  );
  $form['price'] = array(
    '#title' => t('Price'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['price']) ? $attrs['price'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'image_text'),
      ),
    ),
  );
  $bg = array(
    'c-content-bg-1' => t('Grey'),
    'c-content-bg-2' => t('Dark Grey'),
    'bg-dark-fix c-theme-bg' => t('Theme Color'),
    'bg-dark-fix c-bg-dark' => t('Dark'),
    'bg-dark-fix c-bg-red' => t('Red'),
    'bg-dark-fix c-bg-pink' => t('Light Pink'),
    'bg-dark-fix c-bg-blue' => t('Blue'),
    'bg-dark-fix c-bg-light-blue' => t('Light Blue'),
    'bg-dark-fix' => t('None White Color'),
    '' => t('None')
  );
  $form['bg_type'] = array(
    '#title' => t('Background'),
    '#type' => 'select',
    '#options' => $bg,
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'image_text'),
      ),
    ),
  );
  $form['button_text'] = array(
    '#title' => t('Button Text'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['button_text']) ? $attrs['button_text'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['button_link'] = array(
    '#title' => t('Button Link'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['button_link']) ? $attrs['button_link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $img_position = array('left' => t('Left'), 'right' => t('Right'));
  $form['img_position'] = array(
    '#title' => t('Image Position'),
    '#type' => 'select',
    '#options' => $img_position,
    '#default_value' => isset($attrs['img_position']) ? $attrs['img_position'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'image_text'),
      ),
    ),
  );
  $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid'])->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Image'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['height'] = array(
    '#title' => t('Override Height'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['height']) ? $attrs['height'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array(//'select[name="type"]' => array('value' => 'image_text'),
      ),
    ),
  );
  return $form;
}


function jango_shortcodes_shortcode_progress($attrs, $text) {
    
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['class'] .= isset($attrs['animated']) && $attrs['animated'] ? ' active' : '';
  $attrs['class'] .= isset($attrs['striped']) && $attrs['striped'] ? ' progress-striped' : '';
  $attrs['class'] .= isset($attrs['hover']) && $attrs['hover'] ? ' hover' : '';

  $attrs['percent'] = ($attrs['percent']) ? $attrs['percent'] : 0;

  $colors = array(
    'blue' => 'info',
    'green' => 'success',
    'orange' => 'warning',
    'red' => 'danger',
    'black' => ''
  );
  $color = (isset($attrs['color']) && isset($colors[$attrs['color']])) ? $attrs['color'] : 'blue';
  $text = isset($attrs['title']) && $attrs['title'] ? $attrs['title'] : $text;

  $attrs['class'] .= ' progress';
  if (!isset($attrs['stack']) || $attrs['stack'] != TRUE) {
    $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' data-appear-progress-animation="' . $attrs['percent'] . '%">
      <div class="progress-bar progress-bar-' . $colors[$color] . '" style="width:' . $attrs['percent'] . '%;">' . $text . ' <span class = "progress-percent">' . $attrs['percent'] . '%</span></div>
    </div>';
  }
  else {
    $striped = isset($attrs['striped2']) && $attrs['striped'] ? ' progress-bar-striped' : '';
    $striped2 = isset($attrs['striped2']) && $attrs['striped2'] ? ' progress-bar-striped' : '';
    $striped3 = isset($attrs['striped3']) && $attrs['striped3'] ? ' progress-bar-striped' : '';

    $text = '<div class="progress">
               <div class="progress-bar progress-bar-' . $colors[$color] . ' ' . $striped . '" style="width: ' . $attrs['percent'] . '%">     
               </div>
               <div class="progress-bar progress-bar-' . $colors[$attrs['color2']] . ' ' . $striped2 . '" style="width: ' . $attrs['percent2'] . '%">
               </div> 
               <div class="progress-bar progress-bar-' . $colors[$attrs['color3']] . ' ' . $striped3 . '" style="width: ' . $attrs['percent3'] . '%">
               </div>
             </div>';
  }

  return $text;
}


function jango_shortcodes_shortcode_progress_setting($attrs, $text) {
  $attrs['title'] = isset($attrs['title']) && $attrs['title'] ? $attrs['title'] : $text;
  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-7">',
    '#suffix' => '</div>',
  );
  $colors = array(
    'blue' => t('Blue'),
    'green' => t('Green'),
    'orange' => t('Orange'),
    'red' => t('Red'),
    'black' => t('Black')
  );
  $form['color'] = array(
    '#type' => 'radios',
    '#title' => t('Color'),
    '#options' => $colors,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : 'blue',
    '#attributes' => array('class' => array('color-radios')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '.progess-type-select' => array('value' => 'line'),
      ),
    ),
  );
  $form['percent'] = array(
    '#type' => 'textfield',
    '#title' => t('Percent'),
    '#default_value' => isset($attrs['percent']) ? $attrs['percent'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );
  $form['striped'] = array(
    '#type' => 'checkbox',
    '#title' => t('Striped'),
    '#default_value' => isset($attrs['striped']) ? $attrs['striped'] : '',
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '.progess-type-select' => array('value' => 'line'),
      ),
    ),
  );
  $form['animated'] = array(
    '#type' => 'checkbox',
    '#title' => t('Animated'),
    '#default_value' => isset($attrs['animated']) ? $attrs['animated'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '.progess-type-select' => array('value' => 'line'),
      ),
    ),
  );
  $form['stack'] = array(
    '#type' => 'checkbox',
    '#title' => t('Stacked progress bar'),
    '#default_value' => isset($attrs['stack']) ? $attrs['stack'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  $form['color2'] = array(
    '#type' => 'select',
    '#title' => t('Color 2'),
    '#options' => $colors,
    '#default_value' => isset($attrs['color2']) ? $attrs['color2'] : 'blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),
  );
  $form['percent2'] = array(
    '#type' => 'textfield',
    '#title' => t('Percent 2'),
    '#default_value' => isset($attrs['percent2']) ? $attrs['percent2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),
  );
  $form['striped2'] = array(
    '#type' => 'checkbox',
    '#title' => t('Striped'),
    '#default_value' => isset($attrs['striped2']) ? $attrs['striped2'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),

  );
  $form['color3'] = array(
    '#type' => 'select',
    '#title' => t('Color 3'),
    '#options' => $colors,
    '#default_value' => isset($attrs['color3']) ? $attrs['color3'] : 'blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),
  );
  $form['percent3'] = array(
    '#type' => 'textfield',
    '#title' => t('Percent 3'),
    '#default_value' => isset($attrs['percent3']) ? $attrs['percent3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),
  );
  $form['striped3'] = array(
    '#type' => 'checkbox',
    '#title' => t('Striped'),
    '#default_value' => isset($attrs['striped3']) ? $attrs['striped3'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'input[name="stack"]' => array('checked' => TRUE),
      )
    ),
  );
  return $form;
}


function jango_shortcodes_shortcode_modal($attrs, $text) {
  $attrs['class'] = isset($attrs['class']) ? $attrs['class'] : '';
  $attrs['link'] = isset($attrs['link']) ? $attrs['link'] : '#';
 
  $footer_color = 'c-theme-btn';

  switch ($attrs['type']) {
    case 'default':
      $modal_class = str_replace(" ", "", 'my_modal_' . $attrs['label']);
      $modal_d = 'my_modal';
      break;
    case 'large':
      $modal_class = str_replace(" ", "", 'bs-example-modal-lg_' . $attrs['label']);
      $modal_d = 'modal-lg';
      $footer_color = 'c-btn-dark';
      break;
    case 'small':
      $modal_class = str_replace(" ", "", 'bs-example-modal-sm_' . $attrs['label']);
      $modal_d = 'modal-sm';
      break;
    default:
      $modal_class = '';
      $modal_d = '';
      break;
  }

  $color = 'c-btn-' . $attrs['color'] . (isset($attrs['type_button']) ? ' ' . $attrs['type_button'] : '');

  $text = '<button type="button" ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="btn ' . $color . ' c-btn-square c-btn-bold c-btn-uppercase
c-btn-square c-btn-bold c-btn-uppercase" data-toggle="modal" data-target=".' . $modal_class . '">' . $attrs['label'] . '</button>
    <div class="modal fade ' . $modal_class . '" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
      <div class="modal-dialog ' . $modal_d . '">
        <div class="modal-content c-square">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
              <h4 class="modal-title" id="myModalLabel">' . $attrs['label'] . '</h4>
          </div>
            <div class="modal-body">
              <p> ' . $text . '</p>
            </div>
            <div class="modal-footer">
            <a class="btn ' . $footer_color . ' c-btn-square c-btn-bold c-btn-uppercase" href="' . $attrs['link'] . '">' . (isset($attrs['link_label']) ? $attrs['link_label'] : t('Visit Website')) . '</a>
              <button type="button" class="btn ' . $footer_color . ' c-btn-square c-btn-border-2x c-btn-square c-btn-bold c-btn-uppercase" data-dismiss="modal">Close</button>
            </div>
        </div>
      </div>              
    </div>';

  return $text;
}


function jango_shortcodes_shortcode_modal_settings($attrs, $text) {
  $type = array(
    'default' => 'Default',
    'large' => 'Large',
    'small' => 'Small',
  );
  $type_button = array(
    '' => 'Default',
    'c-btn-border-2x' => 'Bordered',
  );
  $form['type_button'] = array(
    '#type' => 'select',
    '#title' => t('Type Button'),
    '#options' => $type_button,
    '#default_value' => isset($attrs['type_button']) ? $attrs['type_button'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Modal size'),
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'default',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#states' => array(
      'visible' => array(
        '#edit-type-modal' => array('value' => 'default'),
      ),
    ),
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link for button'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['link_label'] = array(
    '#type' => 'textfield',
    '#title' => t('Button Label'),
    '#default_value' => isset($attrs['link_label']) ? $attrs['link_label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $colors = array(
    'red' => 'Red',
    'blue' => 'Blue',
    'green' => 'Green',
    'purple' => 'Purple',
  );
  $form['color'] = array(
    '#type' => 'select',
    '#options' => $colors,
    '#title' => t('Color'),
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_badge($attrs, $text) {
  $class = '';

  if (isset($attrs['type']) && $attrs['type'] == 'square') {
    if (isset($attrs['type_label']) && $attrs['type_label'] == 'bootstrap') {
      if ($attrs['uppercase']) {
        $class .= ' c-font-uppercase';
      }
      if ($attrs['bold']) {
        $class .= ' c-font-bold';
      }
      $text = '<span ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="label c-font-slim ' . $class . ' ' . $attrs['color'] . '">' . $attrs['label'] . '</span>';
    }
    else {
      if (isset($attrs['size']) && $attrs['size'] == 'small') {
        $class .= ' c-label-sm c-font-uppercase c-font-bold';
      }
      else {
        $class .= ' c-label-lg c-font-uppercase c-font-bold';
      }
      $text = '<span ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="c-content-label ' . $class . ' ' . $attrs['color'] . '">' . $attrs['label'] . '</span>';
    }
  }
  else {
    $text = '<span ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="badge ' . $class . ' ' . $attrs['color'] . '">' . $attrs['label'] . '</span>';
  }

  return $text;
}


function jango_shortcodes_shortcode_badge_settings($attrs, $text) {
  $attrs['title'] = isset($attrs['title']) && $attrs['title'] ? $attrs['title'] : $text;
  $type = array(
    'square' => 'Square',
    'circle' => 'Circle',
  );

  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'square',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $type_label = array(
    'bootstrap' => 'Bootstrap',
    'oswald' => 'Oswald',
  );
  $form['type_label'] = array(
    '#type' => 'select',
    '#options' => $type_label,
    '#title' => t('Type label'),
    '#default_value' => isset($attrs['type_label']) ? $attrs['type_label'] : 'square',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array('value' => 'square'),
      ),
    ),
  );
  $size = array(
    'small' => 'Small',
    'large' => 'Large',
  );
  $form['size'] = array(
    '#type' => 'select',
    '#options' => $size,
    '#title' => t('Size'),
    '#default_value' => isset($attrs['size']) ? $attrs['size'] : 'small',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type-label' => array('value' => 'oswald'),
      ),
    ),
  );
  $form['uppercase'] = array(
    '#type' => 'checkbox',
    '#title' => t('Uppercase'),
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type-label' => array('value' => 'bootstrap'),
      ),
      'invisible' => array(
        '#edit-type' => array('value' => 'circle'),
      ),
    ),
  );
  $form['bold'] = array(
    '#type' => 'checkbox',
    '#title' => t('Bold'),
    '#default_value' => isset($attrs['bold']) ? $attrs['bold'] : '',
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type-label' => array('value' => 'bootstrap'),
      ),
      'invisible' => array(
        '#edit-type' => array('value' => 'circle'),
      ),
    ),
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $colors = array(
    'c-bg-blue' => t('Blue'),
    'c-bg-red' => t('Red'),
    'c-bg-green' => t('Green'),
    'c-bg-yellow' => t('Yellow'),
    'c-bg-purple' => t('Purple'),
    'c-bg-black' => t('Black'),
  );
  $form['color'] = array(
    '#type' => 'select',
    '#title' => t('Color'),
    '#options' => $colors,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : 'blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '.progess-type-select' => array('value' => 'line'),
      ),
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_counters($attrs, $text) {
  return '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-counter-1 c-opt-1">
            <div class="row">'
  . $text .
  '</div>
          </div>';
}


function jango_shortcodes_shortcode_counters_settings($attrs, $text) {
  return array();
}


function jango_shortcodes_shortcode_counter($attrs, $text) {
  if (isset($attrs['radius_bold']) && $attrs['radius_bold'] == TRUE) {
    $border = 'c-bordered';
  }
  else {
    $border = 'c-theme-border';
  }

  if (isset($attrs['font_bold']) && $attrs['font_bold'] == TRUE) {
    $text_bold = 'c-font-bold';
  }
  else {
    $text_bold = '';
  }

  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="col-md-4">
             <div class="c-counter ' . $text_bold . ' ' . $attrs['background_color'] . ' ' . $attrs['border_color'] . ' ' . $border . ' ' . $attrs['font_color'] . '" data-counter="counterup">' . $attrs['count'] . '</div>
          ' . $text . '
           </div>';

  return $text;
}


function jango_shortcodes_shortcode_counter_settings($attrs, $text) {
  $form['count'] = array(
    '#type' => 'textfield',
    '#title' => t('Count'),
    '#default_value' => isset($attrs['count']) ? $attrs['count'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $font_colors = array(
    'c-font-white' => t('White'),
    'c-font-blue' => t('Blue'),
    'c-font-red' => t('Red'),
    'c-font-green' => t('Green'),
    'c-font-yellow' => t('Yellow'),
    'c-font-purple' => t('Purple'),
    'c-font-black' => t('Black'),
  );
  $form['font_color'] = array(
    '#type' => 'select',
    '#options' => $font_colors,
    '#title' => t('Font color'),
    '#default_value' => isset($attrs['font_color']) ? $attrs['font_color'] : 'c-font-white',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $bg_colors = array(
    ' ' => t('None'),
    'c-bg-white' => t('White'),
    'c-bg-blue' => t('Blue'),
    'c-bg-red' => t('Red'),
    'c-bg-green' => t('Green'),
    'c-bg-yellow' => t('Yellow'),
    'c-bg-purple' => t('Purple'),
    'c-bg-black' => t('Black'),
  );
  $form['background_color'] = array(
    '#type' => 'select',
    '#title' => t('Background Color'),
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['background_color']) ? $attrs['background_color'] : ' ',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $border_colors = array(
    'c-border-blue' => t('Blue'),
    'c-border-red' => t('Red'),
    'c-border-green' => t('Green'),
    'c-border-yellow' => t('Yellow'),
    'c-border-purple' => t('Purple'),
    'c-border-black' => t('Black'),
  );
  $form['border_color'] = array(
    '#type' => 'select',
    '#title' => t('Border Color'),
    '#options' => $border_colors,
    '#default_value' => isset($attrs['border_color']) ? $attrs['border_color'] : 'c-border-blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $form['radius_bold'] = array(
    '#type' => 'checkbox',
    '#title' => t('Radius bold'),
    '#default_value' => isset($attrs['radius_bold']) ? $attrs['radius_bold'] : FALSE,
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );
  $form['font_bold'] = array(
    '#type' => 'checkbox',
    '#title' => t('Font bold'),
    '#default_value' => isset($attrs['font_bold']) ? $attrs['font_bold'] : FALSE,
    '#prefix' => '<div class="row"><div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_accordions($attrs, $text) {
  global $accordion_count;
  $accordion_count++;
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="c-content-accordion-1 ' . $attrs['bg_color'] . '"><div class="panel-group" id = "accordion-' . $accordion_count . '" role = "tablist" >' . $text . '</div></div>';

  return $text;
}


function jango_shortcodes_shortcode_accordions_settings($attrs, $text) {
  $bg_colors = array(
    'c-theme' => t('Theme'),
    'c-accordion-blue' => t('Blue'),
    'c-accordion-red' => t('Red'),
    'c-accordion-green' => t('Green'),
    'c-accordion-yellow' => t('Yellow'),
    'c-accordion-purple' => t('Purple'),
    'c-accordion-brown' => t('Brown'),
  );
  $form['bg_color'] = array(
    '#type' => 'select',
    '#options' => $bg_colors,
    '#title' => t('Background'),
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : 'c-accordion-blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_accordion($attrs, $text) {
  global $accordion_count;
  $attrs['icon'] = isset($attrs['icon']) && $attrs['icon'] ? $attrs['icon'] : '';
  $id = rand(0, 10000000);

  if (isset($attrs['active']) && $attrs['active'] == 1) {
    $link_title = '';
    $link_content = 'in';
    $expanded = 'true';
    $style = '';
  }
  else {
    $link_title = 'collapsed';
    $link_content = '';
    $expanded = 'false';
    $style = 'height: 0px;';
  }

  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="panel">
           <div class="panel-heading" role="tab" id="accordiontab">
             <h4 class="panel-title">
             <a class="c-font-bold c-font-19 ' . $link_title . '" data-toggle="collapse" data-parent="#accordion-' . ($accordion_count + 1) . '" href="#' . $id . '" aria-expanded="' . $expanded . '" aria-controls="' . $id . '"><i class="' . $attrs['icon'] . '"></i>' . $attrs['title'] . '</a>
             </h4>
           </div>
           <div id="' . $id . '" class="panel-collapse collapse ' . $link_content . '" role="tabpanel" aria-labelledby="accordiontab" aria-expanded="' . $expanded . '" style="' . $style . '">
           <div class="panel-body c-font-18">' . $text . '</div>
           </div>
         </div>';

  return $text;
}


function jango_shortcodes_shortcode_accordion_settings($attrs, $text) {
  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['active'] = array(
    '#title' => t('Item active'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['active']) ? $attrs['active'] : TRUE,
  );

  return $form;
}

function jango_shortcodes_shortcode_steps($attrs, $text) {
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . 'class="row">' . $text . '</div>';
  return $text;
}

function jango_shortcodes_shortcode_step($attrs, $text) {
  global $count, $delay;
  $count++;
  $attrs['class'] = 'col-md-4 col-sm-6 wow animate fadeInLeft';
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' data-wow-delay="' . $delay . 's">
               <div class="c-content-step-1 c-opt-1">
                 <div class="c-icon">
                   <span class="c-hr c-theme-border-after c-theme-border-before">
                     <span class="c-content-line-icon ' . $attrs['icon'] . ' c-theme"></span>
                   </span>
                   ' . $text . '
                 </div>
              </div>
            </div>';
  $delay += 0.2;

  return $text;
}


function jango_shortcodes_shortcode_step_settings($attrs, $text) {

  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
  );


  return $form;
}


function jango_shortcodes_shortcode_client($attrs, $text) {

  if(!$attrs['category']) {
    return '';
  }

  $vid = db_select('taxonomy_vocabulary', 'tv')
    ->fields('tv', array('vid'))
    ->condition('tv.machine_name', $attrs['category'])
    ->execute()
    ->fetchAssoc();

  if (empty($vid)) {
    return '';
  }

  $query = db_select('taxonomy_term_data', 'ttd')
    ->fields('ttd', array('tid'))
    ->condition('ttd.vid', $vid['vid'])
    ->execute();

  switch ($attrs['type']) {
    case 'carousel':
      $text = '<div class = "owl-wrapper" data-slider="owl"><div class="owl-carousel owl-theme c-theme owl-bordered1 c-owl-nav-center" data-items="6" data-desktop-items="4" data-desktop-small-items="3" data-tablet-items="3" data-mobile-small-items="2" data-slide-speed="5000" data-auto-play = "true" data-slide-speed="4500">';

      while ($row = $query->fetchAssoc()) {
        $term = taxonomy_term_load($row['tid']);
        $url = _get_node_field($term, 'field_link');
        if (empty($url[0]['url'])) {
          $link = '#';
        }
        else {
          $link = $url[0]['url'];
        }

        $image = _get_node_field($term, 'field_image_client_logo');

        $text .= '<div class="item">
                <a href="' . $link . '">
                  <img src="' . file_create_url($image[0]['uri']) . '" alt="" />
                </a>
              </div>';
      }

      $text .= '</div></div';
      break;

    case 'block':
      $text = ' <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                  <div class="c-content-client-logos-1">
                  <div class="c-logos">
                 <div class="row">';

      $count = 0;
      while ($row = $query->fetchAssoc()) {
        if($count > 5) {
          break;
        }
        $term = taxonomy_term_load($row['tid']);
        $url = _get_node_field($term, 'field_link');
        if (empty($url[0]['url'])) {
          $link = '#';
        }
        else {
          $link = $url[0]['url'];
        }

        $image = $image = _get_node_field($term, 'field_image_client_logo');
        $image = $image[0]['uri'];

        $count++;
        $text .= '<div class="col-md-4 col-xs-6 c-logo c-logo-' . $count . '">
                    <a href="' . $link . '">
                      <img class="c-img-pos" src="' . file_create_url($image) . '" width="180" height="140" alt="" />
                    </a>
                  </div>';
      }
      $text .= '</div></div></div></div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_client_settings($attrs, $text) {
  $type = array(
    'carousel' => 'Carousel clients',
    'block' => 'Block clients (3x2)',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );

  $form['category'] = array(
    '#type' => 'select',
    '#title' => t('Category'),
    '#options' => return_taxonomy_vocabularies(),
    '#default_value' => isset($attrs['category']) ? $attrs['category'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function return_taxonomy_vocabularies() {
  $array = array();
  foreach (taxonomy_get_vocabularies() as $value) {
    $array += array($value->machine_name => $value->name);
  }

  return $array;
}


function jango_shortcodes_shortcode_parallax($attrs, $text) {
  if (isset($attrs['fid'])) {
    $uri = file_load($attrs['fid']);
    $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
  }
  else {
    $url = '';
  }

  switch ($attrs['type']) {
    case 'c-bg-parallax':
      $attrs['style_background_image'] = isset($attrs['fid']) ? $attrs['fid'] : '';
      $attrs['class'] = 'c-content-box c-size-lg c-bg-parallax';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'c-bg-parallax c-feature-bg c-diagonal':
      if (isset($attrs['content_align']) && $attrs['content_align'] == 'c-content-left') {
        $content = 'left';
        $image = 'right';
      }
      else {
        $content = 'right';
        $image = 'left';
      }
      $attrs['class'] = 'c-content-box c-size-md c-no-padding c-bg-' . $attrs['bg_color'];
      $text = ' <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
          <div class="c-content-feature-4">
          <div class="c-bg-parallax c-feature-bg c-content-' . $image . ' c-diagonal c-border-' . $content . '-' . $attrs['bg_color'] . '" style="background-image: url(' . $url . ')"></div>
            <div class="c-content-area c-content-' . $content . '"></div>
            <div class="container">
                <div class="c-feature-content c-' . $content . '">
                    <div class="c-content-v-center">
                        <div class="c-wrapper">
                            <div class="c-body wow animate fadeInDown">    
                              ' . $text . '
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>';
      break;
    case 'c-bg-parallax c-feature-bg c-arrow':
      if (isset($attrs['content_align']) && $attrs['content_align'] == 'c-content-left') {
        $content = 'left';
        $image = 'right';
      }
      else {
        $content = 'right';
        $image = 'left';
      }
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-box c-size-md c-no-padding c-bg-' . $attrs['bg_color'] . '">
                  <div class="c-content-feature-4">
                      <div class="c-bg-parallax c-feature-bg c-content-' . $image . ' c-arrow c-border-' . $content . '-' . $attrs['bg_color'] . '" style="background-image: url(' . $url . ')"></div>
                      <div class="c-content-area c-content-' . $content . '"></div>
                        <div class="container">
                            <div class="c-feature-content c-' . $content . '">
                                <div class="c-content-v-center">
                                    <div class="c-wrapper">
                                         <div class="c-body wow animate fadeInDown">    
                                            ' . $text . '
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>';
      break;
    case 'c-bg-parallax c-feature-bg c-semi-circle':
      if (isset($attrs['content_align']) && $attrs['content_align'] == 'c-content-left') {
        $content = 'left';
        $image = 'right';
      }
      else {
        $content = 'right';
        $image = 'left';
      }
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-box c-size-md c-no-padding c-bg-' . $attrs['bg_color'] . '">
                <div class="c-content-feature-4">
                    <div class="c-bg-parallax c-feature-bg c-content-' . $image . ' c-semi-circle" style="background-image: url(' . $url . ')"></div>
                    <div class="c-content-area c-content-' . $content . '"></div>
                    <div class="container">
                        <div class="c-feature-content c-' . $content . '">
                            <div class="c-content-v-center">
                                <div class="c-wrapper">
                                    <div class="c-body wow animate fadeInDown">    
                                            ' . $text . '
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';
      break;
  }

  return $text;
}

function jango_shortcodes_shortcode_parallax_settings($attrs, $text) {
  $type = array(
    'c-bg-parallax' => 'Default parallax',
    'c-bg-parallax c-feature-bg c-diagonal' => 'Parallax block diagonal line',
    'c-bg-parallax c-feature-bg c-arrow' => 'Parallax block arrow',
    'c-bg-parallax c-feature-bg c-semi-circle' => 'Parallax block semi circle',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $content_align = array(
    'c-content-left' => 'Content align left',
    'c-content-right' => 'Content align right',
  );
  $form['content_align'] = array(
    '#type' => 'select',
    '#options' => $content_align,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['content_align']) ? $attrs['content_align'] : 'c-content-left',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $bg_color = array(
    'white' => 'White',
    'dark-2' => 'Dark',
  );
  $form['bg_color'] = array(
    '#type' => 'select',
    '#options' => $bg_color,
    '#title' => t('Background Color'),
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : 'white',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Background Image'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'invisible' => array('select[name="bg"]' => array('value' => '')),
    )
  );
  return $form;
}


function jango_shortcodes_shortcode_testimonials($attrs, $text) {

  $slide_speed = isset($attrs['slide_autoplay']) ? $attrs['slide_autoplay'] : 5000;
  $auto_play = $slide_speed ? 'true' : 'false';

  switch ($attrs['type']) {
    case 'carousel':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-testimonials-1" data-slider="owl" data-single-item="true"  data-slide-speed="' . $slide_speed . '" data-auto-play = "' . $auto_play . '">
                 <div class="owl-carousel owl-theme">' . $text . '
                 </div>
               </div>';

      break;
    case 'slider':

      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-testimonial-2-slider" data-slider="owl">
        <div class="c-title c-font-uppercase c-font-bold c-theme-bg">' . $attrs['title'] . '</div>
        <div class="owl-carousel owl-theme c-theme owl-single" data-single-item="true" data-auto-play = "' . $auto_play . '" data-slide-speed="' . $slide_speed . '" data-desktop-small-items = "1" data-rtl="false">
          ' . $text . '
        </div>
      </div>';
      break;
    case 'block':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-v-center c-bg-red" style="height: 320px;">
                 ' . $text . '
               </div>';
      break;
    case 'reviews':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-blog-post-card-1-slider" data-slider="owl">
                 <div class="owl-carousel owl-theme c-theme c-owl-nav-center" data-items="3" data-auto-play = "' . $auto_play . '" data-slide-speed="' . $slide_speed . '">'
        . $text .
        '</div>
              </div>';
      break;
    case 'arrow':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-testimonials-4" data-slider="owl">
                 <div class="owl-carousel c-theme c-owl-nav-center" data-single-item="true" data-navigation-label="true" data-auto-play = "' . $auto_play . '" data-slide-speed="' . $slide_speed . '">'
        . $text .
        '</div>
               </div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_testimonials_settings($attrs, $text) {
  $types = array(
    'carousel' => 'Carousel',
    'slider' => 'Slider',
    'block' => 'Block',
    'reviews' => 'Reviews',
    'arrow' => 'Arrow Slider',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $types,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['title'] = array(
    '#type' => 'textfield',
    '#title' => t('Title label'),
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array('value' => 'slider'),
      ),
    ),
  );
  $form['slide_autoplay'] = array(
    '#type' => 'textfield',
    '#title' => t('Autoplay (in milliseconds)'),
    '#default_value' => isset($attrs['slide_autoplay']) ? $attrs['slide_autoplay'] : '',
    '#description' => t('8000 is mean 8seconds'),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );  
  return $form;
}


function jango_shortcodes_shortcode_testimonial($attrs, $text) {

  switch ($attrs['type']) {
    case 'carousel':
      $attrs['class'] = 'item';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-testimonial">
                    ' . $text . '
                 </div>
               </div>';
      break;
    case 'slider':
      $attrs['name'] = isset($attrs['name']) && $attrs['name'] ? $attrs['name'] : '';
      $attrs['position'] = isset($attrs['position']) && $attrs['position'] ? $attrs['position'] : '';
      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      $author = '';
      if($attrs['name'] && $attrs['position'] || $url) {
        $author = '<div class="c-author">
                      <div class="c-portrait" style="background-image: url(' . $url . ')"></div>
                      <div class="c-name c-font-uppercase">' . $attrs['name'] . '</div>
                        <p class="c-position c-theme c-font-uppercase">' . $attrs['position'] . '</p>
                   </div>';
      }

      $attrs['class'] = 'item';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
               <div class="c-content-testimonial-2">
                 <div class="c-testimonial c-font-uppercase c-font-bold">' . $text . '</div>
                   ' . $author . '
                 </div>
               </div>';
      break;
    case 'block':
      $attrs['class'] = 'c-wrapper';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-body c-padding-20 c-center">
                                       ' . $text . '
                 </div>
               </div>';
      break;
    case 'reviews':
      $img = '';
      if (isset($attrs['fid'])) {
        $file = file_load($attrs['fid']);
        if (isset($file->uir)) {
          $alt = isset($file->alt) ? $file->alt : '';
          $title = isset($file->title) ? $file->title : '';
          $img = theme('image_style', array('style_name' => 'project__80x80_', 'title' => $title, 'alt' => $alt, 'path' => $file->uri));
        }
      }
      else {
        $url = '';
      }


      $attrs['bg_type'] = isset($attrs['bg_type']) && $attrs['bg_type'] ? $attrs['bg_type'] : 'c-option-default';
      $attrs['class'] = 'item';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-content-testimonial-3 ' . $attrs['bg_type'] . '">
                  <div class="c-content">
                ' . $text . '
               </div>
                 <div class="c-person">
                   ' . $img . '
                     <div class="c-person-detail c-font-uppercase">
                       <h4 class="c-name">' . $attrs['name'] . '</h4>
                       <p class="c-position c-font-bold c-theme-font">' . $attrs['position'] . '</p>
                 </div>
                 </div>
                </div>
               </div>';
      break;
    case 'arrow':

      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      $attrs['font_color'] = isset($attrs['font_color']) && $attrs['font_color'] ? $attrs['font_color'] : '';
      $attrs['class'] = 'item';
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-content-testimonial-4">
                   <div class="c-content">' . $text . '</div>
                     <div class="c-person">
                       <img src="' . $url . '" class="img-responsive">
                         <div class="c-person-detail c-font-uppercase">
                           <h4 class="c-name ' . $attrs['font_color'] . '">' . $attrs['name'] . '</h4>
                           <p class="c-position c-font-bold c-theme-font">' . $attrs['position'] . '</p>
                         </div>
                     </div>
                   </div>
                 </div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_testimonial_settings($attrs, $text) {
  $types = array(
    'carousel' => 'Carousel',
    'slider' => 'Slider',
    'block' => 'Block',
    'reviews' => 'Reviews',
    'arrow' => 'Arrow Slider',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $types,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['name'] = array(
    '#type' => 'textfield',
    '#title' => t('Name'),
    '#default_value' => isset($attrs['name']) ? $attrs['name'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        array(
          array('#edit-type' => array('value' => 'slider')),
          'or',
          array('#edit-type' => array('value' => 'reviews')),
          'or',
          array('#edit-type' => array('value' => 'arrow')),
        ),
      ),
    ),
  );
  $form['position'] = array(
    '#type' => 'textfield',
    '#title' => t('Position'),
    '#default_value' => isset($attrs['position']) ? $attrs['position'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        array(
          array('#edit-type' => array('value' => 'slider')),
          'or',
          array('#edit-type' => array('value' => 'reviews')),
          'or',
          array('#edit-type' => array('value' => 'arrow')),
        ),
      ),
    ),
  );

  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Portrait'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        array(
          array('#edit-type' => array('value' => 'slider')),
          'or',
          array('#edit-type' => array('value' => 'reviews')),
          'or',
          array('#edit-type' => array('value' => 'arrow')),
        ),
      ),
    ),
  );
  $bg_types = array(
    'c-option-default' => 'Default',
    'c-option-light' => 'Light',
    'c-option-light-transparent' => 'Light transparent',
    'c-option-dark' => 'Dark',
    'c-option-dark-transparent' => 'Dark transparent',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_types,
    '#title' => t('Background color'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'c-option-default',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'reviews')),
    ),
  );
  $font_color = array(
    ' ' => 'Dark',
    'c-font-white' => 'White',
  );
  $form['font_color'] = array(
    '#type' => 'select',
    '#options' => $font_color,
    '#title' => t('Font color'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : ' ',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'arrow')),
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_tabbeds($attrs, $text) {
  global $tabs_content;
  global $tabs_counter;

  $tabs_counter = !$tabs_counter ? 1 : $tabs_counter + 1;

  switch ($attrs['type']) {
    case'type_1':
      $attrs['class'] = 'c-content-tab-2 c-theme c-opt-1';
      $output = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
               <ul class="nav c-tab-icon-stack c-font-sbold c-font-uppercase">
                 ' . $text . '
               </ul>
             </div>';

      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      $output .= '<div class="c-tab-content">
                <div class="c-bg-img-center1" style="background-image: url(' . $url . ')">
                  <div class="container">
                    <div class="tab-content">'
        . $tabs_content . '
                    </div>
                  </div>
                </div>
              </div>';
      $tabs_counter = 0;
      break;
    case'type_2':

      if ($attrs['menu_type'] == 3) {
        $class = 'c-content-tab-3 c-opt-1';
        $class_ul = 'nav c-theme-nav';
      }
      else {
        $class = 'c-content-tab-4 c-opt-5';
        $class_ul = 'nav nav-justified';
      }

      $output = '<div class="' . $class . '">
               <ul class="' . $class_ul . '">
                 ' . $text . '
               </ul>';

      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      $output .= '<div class="c-tab-content">
                  <div class="container">
                    <div class="tab-content">'
        . $tabs_content . '
                    </div>
                  </div>
              </div> </div>
              ';
      $tabs_counter = 0;
      break;
    case'type_3':
      $output = ' <div class="c-content-tab-4 c-opt-' . $attrs['bg_type'] . '" role="tabpanel">
                <ul class="nav nav-justified" role="tablist">
                 ' . $text . '
               </ul>
             </div>';
      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      if ($attrs['bg_type'] == 3) {
        $style = 'style="background-color: #f6f9fb;"';
      }
      else {
        $style = 'style="background-color: #3e495e;"';
      }

      $output .= '<div class="tab-content" ' . $style . '">'
        . $tabs_content . ' 
                  </div>';
      $tabs_counter = 0;
      break;
  }
  $tabs_content = '';

  return $output;
}


function jango_shortcodes_shortcode_tabbeds_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Tabbed has icon',
    'type_2' => 'Tabbed default',
    'type_3' => 'Tabbed colored',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );

  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Background'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $bg_type = array(
    '3' => 'Default',
    '4' => 'Dark',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_type,
    '#title' => t('Background type'),
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '3',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_3')),
    ),
  );
  $menu_type = array(
    '3' => 'Gray',
    '4' => 'Blue',
  );
  $form['menu_type'] = array(
    '#type' => 'select',
    '#options' => $menu_type,
    '#title' => t('Menu type'),
    '#default_value' => isset($attrs['menu_type']) ? $attrs['menu_type'] : '3',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_tabbed($attrs, $text) {
  global $tabs_content;
  global $tabs_counter;
  $tabs_counter++;

  switch ($attrs['type']) {
    case 'type_1':
      if ($tabs_counter == 1) {
        $class = 'class="active"';
      }
      else {
        $class = '';
      }
      $id = rand(0, 100000);
      $output = '<li ' . $class . '>
             <a href="#c-tab2-opt1-' . $id . '" data-toggle="tab">
               <span class="c-content-line-icon ' . $attrs['icon'] . '"></span>
               <span class="c-title">' . $attrs['label'] . '</span>
             </a>
             <div class="c-arrow"></div>
            </li>';

      if (!empty($text)) {

        if ($tabs_counter == 1) {
          $class = 'in active';
        }
        else {
          $class = '';
        }

        $tabs_content .= '<div class="tab-pane fade ' . $class . '" id="c-tab2-opt1-' . $id . '">
                        <div class="c-tab-pane">'
          . $text . '
                        </div>
                      </div>';
      }
      break;
    case 'type_2':
      $attrs['class'] = $tabs_counter == 1 ? 'active' : '';
      $attrs['class'] .= $attrs['menu_type'] == 3 ? ' c-theme-font c-font-bold' : '';

      $id = rand(0, 100000);
      $class = $tabs_counter == 1 ? 'active' : '';
      $output = '<li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
      <div class="c-separator"></div>
             <a class="c-font-16 ' . $class . '" href="#c-tab3-' . $id . '" data-toggle="tab">
             ' . $attrs['label'] . '
             </a>
             <div class="c-arrow"></div>
            </li>';

      if (!empty($text)) {

        $class = $tabs_counter == 1 ? 'in active' : '';

        $tabs_content .= '<div class="tab-pane fade ' . $class . '" id="c-tab3-' . $id . '">
                        <div class="c-tab-pane">'
          . $text . '
                        </div>
                      </div>';
      }
      break;
    case'type_3':
      if ($tabs_counter == 1) {
        $class = 'class="active"';
      }
      else {
        $class = '';
      }
      $id = rand(0, 100000);
      $output = '<li role="presentation" ' . $class . '>
                <a href="#tab-' . $id . '" role="tab" data-toggle="tab"> ' . $attrs['label'] . '</a>
            </li>';

      if (!empty($text)) {

        if ($tabs_counter == 1) {
          $class = 'in active';
        }
        else {
          $class = '';
        }

        $tabs_content .= ' <div role="tabpanel" class="tab-pane fade ' . $class . '" id="tab-' . $id . '">
                                 ' . $text . '
                                 </div>';
      }
      break;

  }

  return $output;
}


function jango_shortcodes_shortcode_tabbed_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Tabbed has icon',
    'type_2' => 'Tabbed default',
    'type_3' => 'Tabbed colored',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'carousel',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $menu_type = array(
    '3' => 'Gray',
    '4' => 'Blue',
  );
  $form['menu_type'] = array(
    '#type' => 'select',
    '#options' => $menu_type,
    '#title' => t('Menu type'),
    '#default_value' => isset($attrs['menu_type']) ? $attrs['menu_type'] : '3',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  return $form;
}


function jango_shortcodes_shortcode_image($attrs, $text) {
  $attrs['class'] = isset($attrs['align']) ? 'align-' . $attrs['align'] : '';
  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $uri = isset($file->uri) ? $file->uri : '';
  if(!$uri) {
    return '';
  }
  $alt = isset($file->alt) ? $file->alt : '';
  $title = isset($file->title) ? $file->title : '';
  $attributes = array('style' => '');
  if(isset($attrs['width']) && $attrs['width']) {
    $attributes['style'] .= 'width:' . $attrs['width'] . 'px;';
  }
  if(isset($attrs['height']) && $attrs['height']) {
    $attributes['style'] .= 'height:' . $attrs['height'] . 'px;';
  }
  if(isset($attrs['image_style']) && $attrs['image_style']) {
    $img = theme('image_style', array('style_name' => $attrs['image_style'], 'title' => $title, 'alt' => $alt, 'path' => $uri, 'attributes' => $attributes));
  }
  else {
    $img = theme('image', array('title' => $title, 'alt' => $alt, 'path' => $uri, 'attributes' => $attributes));
  }
  $attrs['href'] = isset($attrs['link']) && $attrs['link'] ? $attrs['link'] : '';
  $text = $attrs['href'] ? '<a ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $img . '</a>' : '<span ' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $img . '</span>';
  return $text;
}


function jango_shortcodes_shortcode_image_settings($attrs, $text) {
  $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid'])->uri :'';
  $image = $filename ? theme('image_style', array('style_name' => 'media_thumbnail', 'path' => $filename)) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Image'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
  );
  $styles = array('' => t(' - Original - '));
  foreach(image_styles() as $name => $style) {
    $styles[$name] = $style['label'];
  }
  $form['image_style'] = array(
    '#type' => 'select',
    '#title' => t('Image Style'),
    '#options' => $styles,
    '#default_value' => isset($attrs['image_style']) ? $attrs['image_style'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );
  $aligns = array('' => t(' - None - '), 'center' => t('Center'), 'left' => t('Left'), 'right' => t('Right'));
  $form['align'] = array(
    '#type' => 'select',
    '#title' => t('Align'),
    '#options' => $aligns,
    '#default_value' => isset($attrs['align']) ? $attrs['align'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-6">',
  );
  $form['width'] = array(
    '#type' => 'textfield',
    '#title' => t('Width'),
    '#default_value' => isset($attrs['width']) ? $attrs['width'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );
  $form['height'] = array(
    '#type' => 'textfield',
    '#title' => t('Height'),
    '#default_value' => isset($attrs['height']) ? $attrs['height'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_services($attrs, $text) {

  switch ($attrs['type']) {
    case 'type_1':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="col-md-4 col-sm-6">
                                <div class="' . $attrs['icon_type'] . '">
                                    <div class="c-icon-wrapper c-theme-bg-on-parent-hover">
                                        <div class="c-content-line-icon c-theme ' . $attrs['icon'] . '"></div>
                                    </div>
                                    <h3 class="c-font-uppercase c-title">' . $attrs['label'] . '</h3>
                                    <p>' . $attrs['description'] . '</p>
                                </div>
                            </div>';
      break;
    case 'type_2':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-feature-11">
                 <div class="c-grid" data-auto-height="true" data-related="#c-video-card-3">
                                <ul class="c-grid-row">
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label'] . '</h3>
                                            <p>' . $attrs['description'] . '</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_2'] . '</h3>
                                            <p>' . $attrs['description_2'] . '</p>
                                        </div>
                                    </li>
                                </ul>
                                <ul class="c-grid-row">
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_3'] . '</h3>
                                            <p>' . $attrs['description_3'] . '</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_4'] . '</h3>
                                            <p>' . $attrs['description_4'] . '</p>
                                        </div>
                                    </li>
                                </ul>
                 </div>
               </div>';
      break;
    case 'type_2':
      $text = '<div class="c-content-feature-11">
                 <div class="c-grid" data-auto-height="true" data-related="#c-video-card-3">
                                <ul class="c-grid-row">
                                    <li>
                                        <div class="c-bg-opacity-' . $attrs['bg_type'] . ' c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label'] . '</h3>
                                            <p>' . $attrs['description'] . '</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_2'] . '</h3>
                                            <p>' . $attrs['description_2'] . '</p>
                                        </div>
                                    </li>
                                </ul>
                                <ul class="c-grid-row">
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_3'] . '</h3>
                                            <p>' . $attrs['description_3'] . '</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="c-bg-opacity-1 c-card" data-height="height">
                                            <h3 class="c-font-uppercase c-font-bold">' . $attrs['label_4'] . '</h3>
                                            <p>' . $attrs['description_4'] . '</p>
                                        </div>
                                    </li>
                                </ul>
                 </div>
               </div>';
      break;
    case 'type_3':
      $text = '<div id="c-video-card-3" class="embed-responsive embed-responsive-16by9" style="height: 336px;">
                ' . $text . '
              </div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_services_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Services has icon',
    'type_2' => 'Services without icons',
    'type_3' => 'Services without video',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $bg_type = array(
    '1' => 'Light',
    '2' => 'Dark',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_type,
    '#title' => t('Background'),
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $icon_type = array(
    'c-content-feature-2 c-option-2 c-theme-bg-parent-hover' => 'Effect hover on icon ',
    'c-content-feature-2' => 'No effect',
  );
  $form['icon_type'] = array(
    '#type' => 'select',
    '#options' => $icon_type,
    '#title' => t('Icon effect'),
    '#default_value' => isset($attrs['icon_type']) ? $attrs['icon_type'] : 'c-content-feature-2 c-option-2 c-theme-bg-parent-hove',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<br /><br /><br /><br /><div class = "col-sm-6">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_1'),
          array('value' => 'type_2'),
        ),
      ),
    ),
  );
  $form['icon'] = array(
    '#title' => t('Icon'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/feature_icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_1')
        ),
      ),
    ),
  );
  $form['description'] = array(
    '#type' => 'textarea',
    '#title' => t('Description'),
    '#default_value' => isset($attrs['description']) ? $attrs['description'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_1'),
          array('value' => 'type_2'),
        ),
      ),
    ),
  );
  $form['label_2'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 2'),
    '#default_value' => isset($attrs['label_2']) ? $attrs['label_2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['description_2'] = array(
    '#type' => 'textarea',
    '#title' => t('Description 2'),
    '#default_value' => isset($attrs['description_2']) ? $attrs['description_2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    )
  );
  $form['label_3'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 3'),
    '#default_value' => isset($attrs['label_3']) ? $attrs['label_3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['description_3'] = array(
    '#type' => 'textarea',
    '#title' => t('Description 3'),
    '#default_value' => isset($attrs['description_3']) ? $attrs['description_3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    )
  );
  $form['label_4'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 4'),
    '#default_value' => isset($attrs['label_4']) ? $attrs['label_4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-6">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['description_4'] = array(
    '#type' => 'textarea',
    '#title' => t('Description 4'),
    '#default_value' => isset($attrs['description_4']) ? $attrs['description_4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    )
  );

  return $form;
}

function jango_shortcodes_shortcode_breadcrumb($attrs, $text) {
  $attrs['class'] = isset($attrs['type']) ? $attrs['type'] : '';
  $attrs['class'] .= ' c-layout-breadcrumbs-1 c-fonts-uppercase c-fonts-bold';
  $attrs['class'] .= isset($attrs['subtitle']) ? '  c-subtitle' : '';
  $attrs['class'] .= isset($attrs['font_color']) ? ' ' . $attrs['font_color'] : '';
  $attrs['class'] .= isset($attrs['height']) ? ' ' . $attrs['height'] : '';
  if (isset($attrs['fid']) && $attrs['fid']) {
    $attrs['style_background_image'] = $attrs['fid'];
    $attrs['class'] .= ' c-bg-img-center';
  }
  else {
    $attrs['class'] .= ' c-bordered c-bordered-both';
  }

  $tag = isset($attrs['tag']) ? $attrs['tag'] : 'h3';
  $output = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
    <div class = "c-breadcrumbs-wrapper">
      <div class="container">
        <div class="c-page-title c-pull-left">
            <' . $tag . ' class="c-font-uppercase c-font-sbold">' . drupal_get_title() . '</' . $tag . '>
            ' . (isset($attrs['subtitle']) ? '<h4>' . $attrs['subtitle'] . '</h4>' : '') . '
        </div>
        ' . theme('breadcrumb', array('breadcrumb' => drupal_get_breadcrumb())) . '
      </div>
    </div>
  </div>';
  return $output;
}

function jango_shortcodes_shortcode_breadcrumb_settings($attrs, $text) {
  $form['subtitle'] = array(
    '#type' => 'textfield',
    '#title' => t('Subtitle'),
    '#default_value' => isset($attrs['subtitle']) ? $attrs['subtitle'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-9">',
  );
  $type = array('' => t('2 Columns'), 'c-centered' => t('1 Column, centered'));
  $form['type'] = array(
    '#type' => 'select',
    '#title' => t('Text position'),
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );
  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Image'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#states' => array(
      'invisible' => array('select[name="bg"]' => array('value' => '')),
    )
  );
  $font_color = array(
    '' => t('Grey'),
    'c-font-black' => t('Black'),
    'c-font-white' => t('White')
  );
  $form['font_color'] = array(
    '#type' => 'select',
    '#title' => t('Font Color'),
    '#options' => $font_color,
    '#default_value' => isset($attrs['font_color']) ? $attrs['font_color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
  );
  $height = array(
    '' => t('Small'),
    'c-bgimage' => t('Medium'),
    'c-bgimage-full no-overlay' => t('Big'),
    'c-bgimage-full' => t('Big With Overlay')
  );
  $form['height'] = array(
    '#type' => 'select',
    '#title' => t('Height'),
    '#options' => $height,
    '#default_value' => isset($attrs['height']) ? $attrs['height'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );
  $size = array('h1' => t('H1'), 'h2' => t('H2'), 'h3' => t('H3'), 'h4' => t('H4'), 'h5' => t('H5'), 'h6' => t('H6'));
  $form['tag'] = array(
    '#title' => t('Tag'),
    '#type' => 'select',
    '#options' => $size,
    '#default_value' => isset($attrs['tag']) ? $attrs['tag'] : 'h3',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_pricing_table($attrs, $text) {

  $currency = isset($attrs['currency']) ? $attrs['currency'] : '$';
  switch ($attrs['type']) {
    case 'type_1':
      global $counter;
      $counter++;
      if ($counter == 2) {
        $class = 'odd';
      }
      else {
        $class = 'even';
      }

      $str = '';
      if (empty($attrs['icon2'])) {
        $str .= '<div class="c-row c-font-17" > ' . $attrs['label2'] . '
                   </div >';
      }
      else {
        $str .= ' <div class="c-row" >
            <i class="fa ' . $attrs['icon2'] . ' c-font-20" ></i >
            ' . (isset($attrs['mobile2']) ? '<span class="c-sub-title">' . $attrs['mobile2'] . '</span>' : '') . '
           </div >';
      }
      if (empty($attrs['icon3'])) {
        $str .= '<div class="c-row c-font-17" > ' . $attrs['label3'] . '
                   </div >';
      }
      else {
        $str .= ' <div class="c-row" >
            <i class="fa ' . $attrs['icon3'] . ' c-font-20" ></i >
            ' . (isset($attrs['mobile3']) ? '<span class="c-sub-title">' . $attrs['mobile3'] . '</span>' : '') . '
           </div >';
      }
      if (empty($attrs['icon4'])) {
        $str .= '<div class="c-row c-font-17" > ' . $attrs['label4'] . '
                   </div >';
      }
      else {
        $str .= ' <div class="c-row" >
            <i class="fa ' . $attrs['icon4'] . ' c-font-20" ></i >
            ' . (isset($attrs['mobile4']) ? '<span class="c-sub-title">' . $attrs['mobile4'] . '</span>' : '') . '
           </div >';
      }
      if (empty($attrs['icon5'])) {
        $str .= '<div class="c-row c-font-17" > ' . $attrs['label5'] . '
                   </div >';
      }
      else {
        $str .= ' <div class="c-row" >
            <i class="fa ' . $attrs['icon5'] . ' c-font-20" ></i >
            ' . (isset($attrs['mobile5']) ? '<span class="c-sub-title">' . $attrs['mobile5'] . '</span>' : '') . '
           </div >';
      }

      $output = '<div class="col-md-3 col-sm-4" >
                                <div class="c-content c-column-' . $class . ' c-padding-adjustment" >
                                    <div class="c-row c-type c-font-20" >' . $attrs['label'] . '</div >
                                      ' . $str . '
                                      <div class="c-row c-price" >
                                        <span class="c-dollar c-font-20" > ' . $currency . '</span >
                                        <span class="c-font-30 c-font-bold" >' . $attrs['price'] . '</span >
                                    </div >
                                    <div class="c-row c-purchase" >
                                       ' . $text . '
                                    </div >
                                </div >
                            </div >';
      break;
    case 'type_2':
      global $counter_price;
      $counter_price++;
      $class = 'c-tile-small';
      if (isset($attrs['animation']) && !empty($attrs['animation'])) {
        $animation = 'wow animate ' . $attrs['animation'];
      }
      else {
        $animation = '';
      }

      if ($counter_price == 2) {
        $class = '';
        $output = '<div class="c-tile ' . $class . ' c-bordered c-shadow c-bg-' . $attrs['background'] . ' c-border-' . $attrs['background'] . ' ' . $animation . '">';
      }
      else {
        $output = '<div class="c-tile ' . $class . ' c-bordered c-shadow c-border-' . $attrs['background'] . ' ' . $animation . '">';
      }
      $output .= ' <div class="c-label c-bg-' . $attrs['lb_back'] . ' c-font-' . $attrs['color_text'] . '">' . $attrs['name'] . '</div>
                                <p class="c-price">' . $attrs['price'] . '
                                    <sup>' . $currency . '</sup>
                                </p>
                              <div class = "pricing-text">' . $text . '</div>
                            </div>';
      break;
  }

  return $output;
}


function jango_shortcodes_shortcode_pricing_table_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Table',
    'type_2' => 'Package',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'type_1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label table row'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label2'] = array(
    '#type' => 'textfield',
    '#title' => t('Label following row'),
    '#default_value' => isset($attrs['label2']) ? $attrs['label2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['mobile2'] = array(
    '#type' => 'textfield',
    '#title' => t('Label mobile'),
    '#default_value' => isset($attrs['mobile2']) ? $attrs['mobile2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['icon2'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon2']) ? $attrs['icon2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label3'] = array(
    '#type' => 'textfield',
    '#title' => t('Label following row'),
    '#default_value' => isset($attrs['label3']) ? $attrs['label3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['mobile3'] = array(
    '#type' => 'textfield',
    '#title' => t('Label mobile'),
    '#default_value' => isset($attrs['mobile3']) ? $attrs['mobile3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['icon3'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon3']) ? $attrs['icon3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label4'] = array(
    '#type' => 'textfield',
    '#title' => t('Label following row'),
    '#default_value' => isset($attrs['label4']) ? $attrs['label4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['mobile4'] = array(
    '#type' => 'textfield',
    '#title' => t('Label mobile'),
    '#default_value' => isset($attrs['mobile4']) ? $attrs['mobile4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['icon4'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon4']) ? $attrs['icon4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label5'] = array(
    '#type' => 'textfield',
    '#title' => t('Label following row'),
    '#default_value' => isset($attrs['label5']) ? $attrs['label5'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['mobile5'] = array(
    '#type' => 'textfield',
    '#title' => t('Label mobile'),
    '#default_value' => isset($attrs['mobile5']) ? $attrs['mobile5'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['icon5'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon5']) ? $attrs['icon5'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['price'] = array(
    '#title' => t('Price'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['price']) ? $attrs['price'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['name'] = array(
    '#title' => t('Name package'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['name']) ? $attrs['name'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $bg_color = array(
    'white' => 'White',
    'green' => 'Green',
    'blue' => 'Blue',
    'red' => 'Red',
    'purple' => 'Purple',
    'dark' => 'Dark',
    'theme c-theme-bg' => 'Theme'
  );
  $form['background'] = array(
    '#type' => 'select',
    '#options' => $bg_color,
    '#title' => t('Background color'),
    '#default_value' => isset($attrs['background']) ? $attrs['background'] : 'white',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['color_text'] = array(
    '#type' => 'select',
    '#options' => $bg_color,
    '#title' => t('Label color'),
    '#default_value' => isset($attrs['color_text']) ? $attrs['color_text'] : 'white',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['lb_back'] = array(
    '#type' => 'select',
    '#options' => $bg_color,
    '#title' => t('Label background color'),
    '#default_value' => isset($attrs['lb_back']) ? $attrs['lb_back'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_2')),
    ),
  );
  $form['currency'] = array(
    '#type' => 'textfield',
    '#title' => t('Currency'),
    '#default_value' => isset($attrs['currency']) ? $attrs['currency'] : '$',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}

function jango_shortcodes_shortcode_pricing_tables($attrs, $text) {

  switch ($attrs['type']) {
    case 'type_1':
      if ($attrs['active'] == FALSE) {
        $class = 'c-opt-1';
      }
      else {
        $class = 'c-opt-2';
      }

      $rows = '';
      $i = 2;
      while(isset($attrs['label' . $i])) {
        $rows .= '<div class="c-row c-title c-font-17">' . $attrs['label' . $i] . '</div>';
        $i++;
      }

      $text = ' <div class="c-content-pricing-1 ' . $class . '">
              <div class="col-md-3 c-sm-hidden">
                <div class="c-content c-column-odd c-padding-adjustment">
                  <div class="c-row c-type c-font-20 c-align-left">' . $attrs['label'] . '</div>
                  ' . $rows . '
                </div>
              </div>' . $text .
        '</div>';

      global $counter;
      $counter = 0;
      break;
    case 'type_2':
      $text = '<div class="c-content-pricing-1 c-option-2">
                 <div class="c-tile-container">' . $text .
        '</div>
               </div>';

      global $counter_price;
      $counter_price = 0;
      break;
  }


  return $text;
}


function jango_shortcodes_shortcode_pricing_tables_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Table',
    'type_2' => 'Package',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'type_1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $form['active'] = array(
    '#title' => t('Light/Dark'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['active']) ? $attrs['active'] : FALSE,
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label2'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 2'),
    '#default_value' => isset($attrs['label2']) ? $attrs['label2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label3'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 3'),
    '#default_value' => isset($attrs['label3']) ? $attrs['label3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label4'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 4'),
    '#default_value' => isset($attrs['label4']) ? $attrs['label4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );
  $form['label5'] = array(
    '#type' => 'textfield',
    '#title' => t('Label 5'),
    '#default_value' => isset($attrs['label5']) ? $attrs['label5'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_1')),
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_content_bar($attrs, $text) {

  $text = '<div class="c-content-bar-4"><h3>' . $text . '</h3></div>';

  return $text;
}


function jango_shortcodes_shortcode_content_bar_settings($attrs, $text) {


}


function jango_shortcodes_shortcode_feature_blocks($attrs, $text) {

  switch ($attrs['type']) {
    case 'type_1':
      $attrs['class'] = 'c-feature-13-container';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_2':
      $text = '<div class="c-content-feature-6"><ul class="c-list">' . $text . '</ul></div>';
      $text = '<div class="c-content-feature-6"><ul class="c-list">' . $text . '</ul></div>';
      break;
    case 'type_3':
      $attrs['class'] = 'c-content-feature-5';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_4':
      $attrs['class'] = 'c-feature-13-container';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_5':
      $attrs['class'] = 'c-content-feature-10';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_6':
      $attrs['class'] = 'c-content-feature-10';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_7':
      $attrs['class'] = 'c-content-feature-10';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_8':
      $attrs['class'] = 'c-content-feature-9';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
    case 'type_9':
      $attrs['class'] = 'c-content-feature-8';
      $text = '<div' . _jango_shortcodes_shortcode_attributes($attrs) . '>' . $text . '</div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_feature_blocks_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Feature block Grid',
    'type_2' => 'Feature block List',
    'type_3' => 'Feature block with a button',
    'type_4' => 'Feature block List vertical',
    'type_5' => 'Feature block with a border',
    'type_6' => 'Feature block with a border (dark)',
    'type_7' => 'Feature block with fill background',
    'type_8' => 'Feature group list',
    'type_9' => 'Feature big opacity block',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'type_1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_feature_block($attrs, $text) {
  $attrs['icon'] = isset($attrs['icon']) ? $attrs['icon'] : ''; 
  $attrs['link'] = isset($attrs['link']) ? $attrs['link'] : '#';
  switch ($attrs['type']) {
    case 'type_1':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="col-sm-6 c-feature-13-tile">
                 <i class="' . $attrs['icon'] . ' c-theme-font c-font-24" style="float: left;"></i>
                 <div class="c-feature-13-content" style="padding-left: 45px; padding-right: 10px;">
                   <h4 class="c-font-uppercase c-theme-font c-font-bold">' . $attrs['label'] . '</h4>
                   <p class="c-font-white">' . $text . '</p>
                 </div>
               </div>';
      break;
    case 'type_2':
      $text = '<li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-card c-bg-opacity-' . $attrs['bg_type'] . '">' . $text . '</div>
        </li>';
      break;
    case 'type_3':
      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }
      $button_label = isset($attrs['link_label']) ? $attrs['link_label'] : 'Purchase';
      $text = ' <div class="c-content-feature-5">
                                    <div class="c-content-title-1" style="width: 175px;">
                                        <h3 class="c-left c-font-dark c-font-uppercase c-font-bold">' . $attrs['label'] . '</h3>
                                        <div class="c-line-left c-theme-bg"></div>
                                    </div>
                                    <div class="c-text c-font-16 c-font-sbold c-font-uppercase"> ' . $text . ' </div>
                                    <a href="' . $attrs['link'] . '" class="btn c-btn-uppercase btn-md c-btn-sbold c-btn-square c-theme-btn">' . t($button_label) .'</a>
                                    <img class="c-photo img-responsive" style="width: 60%" src="' . $url . '" alt="" /> </div>';
      break;
    case 'type_4':
      $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-feature-13-tile">
                  <i class="' . $attrs['icon'] . ' c-theme-font c-font-24" style="float: left;"></i>
                  <div class="c-feature-13-content" style="padding-left: 45px;">
                      ' . $text . '
                  </div>
               </div>';
      break;
    case 'type_5':
      global $count;
      $count++;

      if ($count % 2 != 0) {
        $text = '<ul class="c-list">
                            <li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                                <div class="c-card c-font-right">
                                    <i class="' . $attrs['icon'] . ' c-font-27 c-theme-font c-float-right c-border c-border-opacity"></i>
                                    <div class="c-content c-content-right">
                                        ' . $text . '
                                    </div>
                                </div>';
        if ($attrs['border'] == 1) {
          $text .= '<div class="c-border-bottom c-bg-opacity-2"></div>';
        }
        $text .= '</li>
                            <div class="c-border-middle c-bg-opacity-2"></div>';
      }
      else {
        $text = '<li ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                   <div class="c-card">
                     <i class="' . $attrs['icon'] . ' c-font-27 c-theme-font c-float-left c-border c-border-opacity"></i>
                       <div class="c-content c-content-left">
                                      ' . $text . '
                   </div>
                 </div>';

        if ($attrs['border'] == 1) {
          $text .= '<div class="c-border-bottom c-bg-opacity-2"></div>';
        }

        $text .= ' </li>
                        </ul>';
      }
      break;
    case 'type_6':
      global $count;
      $count++;

      if ($count % 2 != 0) {
        $text = '<ul class="c-list">
                            <li>
                                <div class="c-card c-font-right">
                                    <i class="' . $attrs['icon'] . ' c-theme-font c-font-27 c-float-right"></i>
                                    <div class="c-content c-content-right">
                                        ' . $text . '
                                    </div>
                                </div>';
        if ($attrs['border'] == 1) {
          $text .= '<div class="c-border-bottom c-bg-opacity-1"></div>';
        }
        $text .= '</li>
                            <div class="c-border-middle c-bg-opacity-1"></div>';
      }
      else {
        $text = '<li>
                   <div class="c-card">
                     <i class="' . $attrs['icon'] . ' c-theme-font c-font-27 c-float-left"></i>
                       <div class="c-content c-content-left">
                                      ' . $text . '
                   </div>
                 </div>';

        if ($attrs['border'] == 1) {
          $text .= '<div class="c-border-bottom c-bg-opacity-1"></div>';
        }

        $text .= ' </li>
                        </ul>';
      }
      break;
    case 'type_7':
      global $count;
      $count++;

      if ($count % 2 != 0) {
        $text = '<ul class="c-list">
                            <li>
                                <div class="c-card c-bg-' . $attrs['bg_color'] . ' c-font-right">
                                    <i class="' . $attrs['icon'] . ' c-font-white c-font-27 c-theme-bg c-float-right"></i>
                                    <div class="c-content c-content-right">
                                        ' . $text . '
                                    </div>
                                </div>
                            </li>';
      }
      else {
        $text = '<li>
                   <div class="c-card c-bg-' . $attrs['bg_color'] . '">
                     <i class="' . $attrs['icon'] . ' c-font-white c-font-27 c-theme-bg c-float-left"></i>
                       <div class="c-content c-content-left">
                                      ' . $text . '
                   </div>
                        </div>
                 </li>
               </ul>';
      }
      break;
    case 'type_8':
      global $count_2;
      $count_2++;

      if ($attrs['bg_type'] == '1') {
        $class = 'c-font-white c-font-27 c-bg-blue-7 c-float-left';
      }
      else {
        $class = 'c-font-blue-1-5 c-font-27 c-bg-white c-float-left';
      }

      if ($count_2 == 1) {
        $text = ' <ul class="c-list">
                            <li>
                                <div class="c-card">
                                    <i class="' . $attrs['icon'] . ' ' . $class . '"></i>
                                    <div class="c-content c-content-left">
                                       ' . $text . '
                                    </div>
                                </div>
                            </li>';
      }
      if ($count_2 == 2) {
        $text = '<li>
                   <div class="c-card">
                     <i class="' . $attrs['icon'] . ' ' . $class . '"></i>
                     <div class="c-content c-content-left">
                       ' . $text . '
                     </div>
                   </div>
                 </li>';
      }
      if ($count_2 == 3) {
        $text = '<li>
                   <div class="c-card">
                     <i class="' . $attrs['icon'] . ' ' . $class . '"></i>
                     <div class="c-content c-content-left">
                      ' . $text . '
                     </div>
                   </div>
                 </li>
                 </ul>';
        $count_2 = 0;
      }
      break;
    case 'type_9':
      global $count_3;
      $count_3++;

      if ($attrs['bg_type'] == 1) {
        $bg_type = 2;
      }
      else {
        $bg_type = 1;
      }

      if ($count_3 % 2 != 0) {
        $attrs['class'] = 'c-card c-font-right c-bg-opacity-' . $bg_type;
        $text = '<ul class="c-grid">
                   <li>
                     <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                                    ' . $text . '
                     </div>
                   </li>';
        if ($attrs['check_image'] == 1) {
          $attrs['class'] = 'c-card c-img c-bg-img-center';
          $text = '<ul class="c-grid"><li>
               <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
             
               </div>
              </li>';
        }
      }
      else {
        $attrs['class'] = 'c-card c-bg-opacity-' . $bg_type;
        $text = '<li>
                   <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                                    ' . $text . '
                   </div>
                 </li>
               </ul>';
        $count_3 = 0;
        if ($attrs['check_image'] == 1) {
          $attrs['class'] = 'c-card c-img c-bg-img-center';
          $text = '<li>
               <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 
               </div>
              </li></ul>';
        }
      }
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_feature_block_settings($attrs, $text) {
  $type = array(
    'type_1' => 'Feature block Grid',
    'type_2' => 'Feature block List',
    'type_3' => 'Feature block with a button',
    'type_4' => 'Feature block List vertical',
    'type_5' => 'Feature block with a border',
    'type_6' => 'Feature block with a border (dark)',
    'type_7' => 'Feature block with fill background',
    'type_8' => 'Feature group list',
    'type_9' => 'Feature big opacity block',
  );
  $form['type'] = array(
    '#type' => 'select',
    '#options' => $type,
    '#title' => t('Type'),
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'type_1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['icon'] = array(
    '#title' => t('Icon'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_1'),
          array('value' => 'type_4'),
          array('value' => 'type_5'),
          array('value' => 'type_6'),
          array('value' => 'type_8'),
        ),
      ),
    ),
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_1'),
          array('value' => 'type_3'),
        ),
      ),
    ),
  );
  $bg_type = array(
    '1' => 'Light',
    '2' => 'Dark (more opacity)',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_type,
    '#title' => t('Background type'),
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_2'),
          array('value' => 'type_8'),
          array('value' => 'type_9'),
        ),
      ),
    ),
  );

  $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid'])->uri :'';
  $image = $filename ? theme('image_style', array('style_name' => 'media_thumbnail', 'path' => $filename)) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Image'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_3'),
        ),
      ),
    ),
  );
  $form['link'] = array(
    '#type' => 'textfield',
    '#title' => t('Link for button'),
    '#default_value' => isset($attrs['link']) ? $attrs['link'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_3'),
        ),
      ),
    ),
  );
  $form['border'] = array(
    '#type' => 'checkbox',
    '#title' => t('Border'),
    '#default_value' => isset($attrs['border']) ? $attrs['border'] : TRUE,
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_5'),
          array('value' => 'type_6'),
        ),
      ),
    ),
  );
  $bg_color = array(
    'white' => 'White',
    'dark' => 'Dark',
    'green' => 'Green',
    'blue' => 'Blue',
    'yellow' => 'Yellow',
    'red' => 'Red',
  );
  $form['bg_color'] = array(
    '#type' => 'select',
    '#options' => $bg_color,
    '#title' => t('Background color'),
    '#default_value' => isset($attrs['bg_color']) ? $attrs['bg_color'] : 'bg_color',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array('#edit-type' => array('value' => 'type_7')),
    ),
  );
  $form['check_image'] = array(
    '#type' => 'checkbox',
    '#title' => t('This block background image'),
    '#default_value' => isset($attrs['check_image']) ? $attrs['check_image'] : FALSE,
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_9'),
        ),
      ),
    ),
  );
  $form['link_label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label for button'),
    '#default_value' => isset($attrs['link_label']) ? $attrs['link_label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        '#edit-type' => array(
          array('value' => 'type_3'),
        ),
      ),
    ),
  );
  return $form;
}


function jango_shortcodes_shortcode_animated_progress_bar($attrs, $text) {

  $font_color = 'c-font-' . $attrs['bg_type'];
  if (isset($attrs['icon'])) {
    $icon = '<div class="c-progress-bar-icon c-border-' . $attrs['bg_type'] . '">
                <i class="' . $attrs['icon'] . '"></i>
             </div>';
    $data = 'false';
  }
  else {
    $icon = '';
    $data = 'true';
  }
  if ($attrs['type_bar'] != 'line') {
    $text = '<div class="c-progress-bar">  <div class="col-md-3">
              <div class="c-progress-bar-container">
                <div class="c-progress-bar-line c-border-' . $attrs['bg_type'] . ' ' . $font_color . '" data-progress-bar="' . $attrs['type_bar'] . '" data-stroke-width="' . $attrs['stroke_width'] . '" data-duration="1000" data-trail-width="' . $attrs['stroke_width'] . '" data-progress="' . ($attrs['percent'] / 100) . '" data-display-value="' . $data . '" data-animation="' . $attrs['animation_stroke'] . '">
  ' . $icon . ' </div >
             </div >
             <div class="c-progress-bar-desc-container" >
               <p class="c-progress-bar-desc c-center" > ' . $attrs['description'] . ' </p >
             </div >
           </div >
           </div > ';
  }
  else {
    $label = '';
    $description_line = '';
    if (isset($attrs['icon'])) {
      $label = '<div class="c-progress-bar-icon-line ' . $font_color . '">
                 <i class="' . $attrs['icon'] . '"></i>
               </div>';
    }
    else {
      $description_line = '<label class="c-progress-bar-label">' . $attrs['description'] . '</label>';
    }
    $text = '<div class="c-progress-bar">
               <div class="c-progress-bar-container">' . $label . '
               <div class="c-progress-bar-line c-progress-bar-line-with-icon c-border-' . $attrs['bg_type'] . '" data-progress-bar="line" data-stroke-width="' . $attrs['line_width'] . '" data-duration="1000" data-trail-width="' . $attrs['line_width'] . '" data-progress="' . ($attrs['percent'] / 100) . '" data-display-value="' . $data . '" data-animation="' . $attrs['animation_stroke'] . '">
               ' . $description_line . '
               </div>
               </div>
             </div>';
  }

  return $text;
}


function jango_shortcodes_shortcode_animated_progress_bar_settings($attrs, $text) {
  $type_bar = array(
    'circle' => 'Circle',
    'semicircle' => 'Semi - Circle',
    'line' => 'Line',
  );
  $bg_type = array(
    'green' => 'Green',
    'red' => 'Red',
    'blue' => 'Blue',
    'purple' => 'Purple',
    'grey-2' => 'Grey',
    'yellow' => 'Yellow',
  );
  $stroke_width = array(
    '3' => '3',
    '4' => '4',
    '5' => '5',
    '6' => '6',
    '7' => '7',
    '8' => '8',
  );
  $line_width = array(
    '1' => '1',
    '2' => '2',
  );
  $animation = array(
    'easeInOut' => 'easeInOut',
    'bounce' => 'bounce',
  );
  $form['percent'] = array(
    '#type' => 'textfield',
    '#title' => t('Percent'),
    '#default_value' => isset($attrs['percent']) ? $attrs['percent'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $form['type_bar'] = array(
    '#type' => 'select',
    '#options' => $type_bar,
    '#title' => t('Background'),
    '#default_value' => isset($attrs['type_bar']) ? $attrs['type_bar'] : 'circle',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_type,
    '#title' => t('Background'),
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['description'] = array(
    '#type' => 'textarea',
    '#title' => t('Description'),
    '#default_value' => isset($attrs['description']) ? $attrs['description'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $form['icon'] = array(
    '#title' => t('Icon'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['stroke_width'] = array(
    '#type' => 'select',
    '#options' => $stroke_width,
    '#title' => t('Stroke width'),
    '#default_value' => isset($attrs['stroke_width']) ? $attrs['stroke_width'] : '2',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
    '#states' => array(
      'invisible' => array(
        'select[name="type_bar"]' => array('value' => 'line'),
      )
    ),
  );
  $form['line_width'] = array(
    '#type' => 'select',
    '#options' => $line_width,
    '#title' => t('Line width'),
    '#default_value' => isset($attrs['line_width']) ? $attrs['line_width'] : '1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_bar"]' => array('value' => 'line'),
      )
    ),
  );
  $form['animation_stroke'] = array(
    '#type' => 'select',
    '#options' => $animation,
    '#title' => t('Animation type'),
    '#default_value' => isset($attrs['animation_stroke']) ? $attrs['animation_stroke'] : 'easeInOut',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_twitter($attrs, $text) {
  $attrs['class'] = 'c-twitter';
  $url = isset($attrs['url']) ? $attrs['url'] : '';
  $limit = isset($attrs['limit']) ? $attrs['limit'] : 2;
  $bg = isset($attrs['bg']) ? 'data-theme="' . $attrs['bg'] . '"' : '';
  $output = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
  ' . $text . '
    <a class="twitter-timeline" href="' . $url . '" ' . $bg . ' data-tweet-limit="' . $limit . '" data-chrome="noheader nofooter noscrollbar noborders transparent">' . t('Loading tweets...') . '</a>
  </div>';
  return $output;
}

function jango_shortcodes_shortcode_twitter_settings($attrs, $text) {
  $form['url'] = array(
    '#type' => 'textfield',
    '#title' => t('Twitter Url'),
    '#default_value' => isset($attrs['url']) ? $attrs['url'] : '//twitter.com/YOUR_ACCOUNT_ID',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
  );
  $form['limit'] = array(
    '#type' => 'textfield',
    '#title' => t('Limit'),
    '#default_value' => isset($attrs['limit']) ? $attrs['limit'] : 2,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $form['bg'] = array(
    '#type' => 'select',
    '#title' => t('Background'),
    '#options' => array('' => t('Default'), 'dark' => t('Dark')),
    '#default_value' => isset($attrs['bg']) ? $attrs['bg'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );
  return $form;
}


function jango_shortcodes_shortcode_app_showcase($attrs, $text) {
  global $base_url;

  if (isset($attrs['fid'])) {
    $uri = file_load($attrs['fid']);
    $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
  }
  else {
    $url = '';
  }

  if ($attrs['bg_type'] == 1) {
    $text = '<div class="c-content-app-1">
             <div class="c-diagram">
                            <div class="c-lines-1" style="background-image: url(' . $base_url . '/' . path_to_theme() . '/img/app-line1.png)"></div>
                            <div class="c-wireframe" style="background-image: url(' . $base_url . '/' . path_to_theme() . '/img/app-phone1.png)"></div>
                            <div class="c-phone-img" style="background-image: url(' . $url . ')"></div>
                            <div class="c-point-1 c-box c-app-left wow animate fadeInLeft">
                                <h3 class="c-font-uppercase c-font-white">' . $attrs['label'] . '</h3>
                                <p class="c-font-grey-1">' . $attrs['description'] . '</p>
                            </div>
                            <div class="c-point-2 c-box c-app-right wow animate fadeInRight">
                                <h3 class="c-font-uppercase c-font-white">' . $attrs['label2'] . '</h3>
                                <p class="c-font-grey-1">' . $attrs['description2'] . '</p>
                            </div>
                            <div class="c-point-3 c-box c-app-left wow animate fadeInLeft">
                                <h3 class="c-font-uppercase c-font-white">' . $attrs['label3'] . '</h3>
                                <p class="c-font-grey-1">' . $attrs['description3'] . '</p>
                            </div>
                            <div class="c-point-4 c-box c-app-right wow animate fadeInRight">
                                <h3 class="c-font-uppercase c-font-white">' . $attrs['label4'] . '</h3>
                                <p class="c-font-grey-1">' . $attrs['description4'] . '</p>
                            </div>
                        </div>
                      </div>';
  }
  else {
    $text = '<div class="c-content-app-1">
             <div class="c-diagram">
                            <div class="c-lines-2" style="background-image: url(' . $base_url . '/' . path_to_theme() . '/img/app-line2.png)"></div>
                            <div class="c-wireframe" style="background-image: url(' . $base_url . '/' . path_to_theme() . '/img/app-phone2.png)"></div>
                            <div class="c-phone-img" style="background-image: url(' . $url . ')"></div>
                            <div class="c-point-1 c-box c-app-left wow animate fadeInLeft">
                                <h3 class="c-font-uppercase">' . $attrs['label'] . '</h3>
                                <p>' . $attrs['description'] . '</p>
                            </div>
                            <div class="c-point-2 c-box c-app-right wow animate fadeInRight">
                                <h3 class="c-font-uppercase">' . $attrs['label2'] . '</h3>
                                <p>' . $attrs['description2'] . '</p>
                            </div>
                            <div class="c-point-3 c-box c-app-left wow animate fadeInLeft">
                                <h3 class="c-font-uppercase">' . $attrs['label3'] . '</h3>
                                <p>' . $attrs['description3'] . '</p>
                            </div>
                            <div class="c-point-4 c-box c-app-right wow animate fadeInRight">
                                <h3 class="c-font-uppercase">' . $attrs['label4'] . '</h3>
                                <p>' . $attrs['description4'] . '</p>
                            </div>
                        </div>
                      </div>';
  }

  return $text;
}


function jango_shortcodes_shortcode_app_showcase_settings($attrs, $text) {
  $bg_type = array(
    '1' => 'Dark',
    '2' => 'Light',
  );
  $form['bg_type'] = array(
    '#type' => 'select',
    '#options' => $bg_type,
    '#title' => t('Background'),
    '#default_value' => isset($attrs['bg_type']) ? $attrs['bg_type'] : '1',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );

  $filename = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid'])->uri :'';
  $image = $filename ? theme('image_style', array('style_name' => 'media_thumbnail', 'path' => $filename)) : '';
  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Background in mobile'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label (left-top)'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['description'] = array(
    '#type' => 'textarea',
    '#title' => t('Description (left-top)'),
    '#default_value' => isset($attrs['description']) ? $attrs['description'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  $form['label2'] = array(
    '#type' => 'textfield',
    '#title' => t('Label (right-top)'),
    '#default_value' => isset($attrs['label2']) ? $attrs['label2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['description2'] = array(
    '#type' => 'textarea',
    '#title' => t('Description (right-top)'),
    '#default_value' => isset($attrs['description2']) ? $attrs['description2'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  $form['label3'] = array(
    '#type' => 'textfield',
    '#title' => t('Label (left-bottom)'),
    '#default_value' => isset($attrs['label3']) ? $attrs['label3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['description3'] = array(
    '#type' => 'textarea',
    '#title' => t('Description (left-bottom)'),
    '#default_value' => isset($attrs['description3']) ? $attrs['description3'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );
  $form['label4'] = array(
    '#type' => 'textfield',
    '#title' => t('Label (right-bottom)'),
    '#default_value' => isset($attrs['label4']) ? $attrs['label4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['description4'] = array(
    '#type' => 'textarea',
    '#title' => t('Description (right-bottom)'),
    '#default_value' => isset($attrs['description4']) ? $attrs['description4'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-6">',
    '#suffix' => '</div></div>',
  );

  return $form;
}


function jango_shortcodes_shortcode_heading($attrs, $text) {

  $icon = '';
  if (isset($attrs['icon'])) {
    $icon = '<i class="' . $attrs['icon'] . ' ' . $attrs['color_icon'] . '"></i>';
  }

  $class = '';
  if (isset($attrs['uppercase']) && $attrs['uppercase'] == 1) {
    $class .= 'c-font-uppercase ';
  }

  if (isset($attrs['bold']) && $attrs['bold'] == 1) {
    $class .= 'c-font-bold';
  }

  $line = '';
  if (isset($attrs['underline']) && $attrs['underline'] == 'c-line-center c-theme-bg') {
    $line = '<div class="c-line-' . $attrs['label_align'] . ' c-bg-' . $attrs['line_color'] . '"></div>';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-line c-dot c-dot-') {
    $line = '<div class="c-line c-dot c-dot-' . $attrs['label_align'] . ' c-bg-' . $attrs['line_color'] . ' c-bg-after-' . $attrs['line_color'] . '"></div>';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-line c-dot c-dot-square') {
    $line = '<div class="c-line c-dot c-dot-square c-dot-' . $attrs['label_align'] . ' c-bg-' . $attrs['line_color'] . '  c-bg-after-' . $attrs['line_color'] . '"></div>';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-line') {
    $line = '<div class="c-line c-bg-' . $attrs['line_color'] . '  c-bg-after-' . $attrs['line_color'] . '"></div>';
  }

  $title = '';
  if (isset($attrs['underline']) && ($attrs['underline'] == 'c-line c-dot c-dot-' || $attrs['underline'] == 'c-line c-dot c-dot-square' || $attrs['underline'] == 'c-line')) {
    $title = '2';
  }
  elseif (isset($attrs['underline']) && $attrs['underline'] == 'c-content-title-3') {
    $title = '3 c-border-' . $attrs['line_color'] . ' c-' . $attrs['label_align'];
  }
  else {
    $title = '1';
  }

  $description = '';
  if (isset($attrs['description'])) {
    $description = '<p class="c-' . $attrs['label_align'] . ' c-font-uppercase">' . $attrs['description'] . '</p>';
  }

  $tag = isset($attrs['tag']) && $attrs['tag'] ? $attrs['tag'] : 'h3';
  $text = '<div ' . _jango_shortcodes_shortcode_attributes($attrs) . ' class="c-content-title-' . $title . ' ' . $attrs['text_size'] . '">
      <' . $tag . ' class="c-' . $attrs['label_align'] . ' ' . $attrs['color'] . ' ' . $class . '">' . $icon . ' ' . $attrs['title'] . '</' . $tag . '>
      ' . $line . '
      ' . $description . '
  </div>';
  return $text;
}


function jango_shortcodes_shortcode_heading_settings($attrs, $text) {
  $form['title'] = array(
    '#title' => t('Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['title']) ? $attrs['title'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $color = array(
    'c-font' => t('Default'),
    'c-font-black' => t('Black'),
    'c-font-blue' => t('Blue'),
    'c-font-red' => t('Red'),
    'c-font-green' => t('Green'),
    'c-font-yellow' => t('Yellow'),
    'c-font-purple' => t('Purple'),
    'c-font-black' => t('Black'),
    'c-font-white' => t('White'),
  );
  $form['color'] = array(
    '#title' => t('Font Color'),
    '#type' => 'select',
    '#options' => $color,
    '#default_value' => isset($attrs['color']) ? $attrs['color'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $line = array(
    'default' => t(' - None - '),
    'c-line' => 'Line long',
    'c-line-center c-theme-bg' => 'Line short',
    'c-line c-dot c-dot-' => 'Line with point',
    'c-line c-dot c-dot-square' => 'Line with square',
    'c-content-title-3' => 'Vertical line ',
    'c-content-title-3 c-theme-border c-right' => 'Vertical line right',
    'c-content-title-4' => t('Middle Line'),
  );
  $form['underline'] = array(
    '#title' => t('Line Type'),
    '#type' => 'select',
    '#options' => $line,
    '#default_value' => isset($attrs['underline']) ? $attrs['underline'] : 'default',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );
  $form['description'] = array(
    '#title' => t('Description'),
    '#type' => 'textarea',
    '#default_value' => isset($attrs['description']) ? $attrs['description'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $bg_colors = array(
    'green' => t('Green'),
    'blue' => t('Blue'),
    'red' => t('Red'),
    'yellow' => t('Yellow'),
    'purple' => t('Purple'),
    'gray' => t('Gray'),
    'white' => t('White'),
    'dark' => t('Dark'),
  );
  $form['icon_color'] = array(
    '#title' => t('Icon Color'),
    '#type' => 'select',
    '#options' => $color,
    '#default_value' => isset($attrs['icon_color']) ? $attrs['icon_color'] : 'blue',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $text_align = array(
    'left' => t('Left'),
    'right' => t('Right'),
    'center' => t('Center'),
  );
  $text_size = array(
    'c-title' => t('Default'),
    'c-title-md' => t('Medium'),
    'c-title-sm' => t('Small'),
  );
  $form['label_align'] = array(
    '#title' => t('Text Align'),
    '#type' => 'select',
    '#options' => $text_align,
    '#default_value' => isset($attrs['label_align']) ? $attrs['label_align'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['uppercase'] = array(
    '#title' => t('Uppercase'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['uppercase']) ? $attrs['uppercase'] : FALSE,
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['bold'] = array(
    '#title' => t('Bold'),
    '#type' => 'checkbox',
    '#default_value' => isset($attrs['bold']) ? $attrs['bold'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>'
  );
  $form['line_color'] = array(
    '#title' => t('Line color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['line_color']) ? $attrs['line_color'] : 'green',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['text_size'] = array(
    '#title' => t('Text size'),
    '#type' => 'select',
    '#options' => $text_size,
    '#default_value' => isset($attrs['text_size']) ? $attrs['text_size'] : 'c-title',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['color_icon'] = array(
    '#title' => t('Icon color'),
    '#type' => 'select',
    '#options' => $color,
    '#default_value' => isset($attrs['color_icon']) ? $attrs['color_icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div>',
  );
  $size = array('h1' => t('H1'), 'h2' => t('H2'), 'h3' => t('H3'), 'h4' => t('H4'), 'h5' => t('H5'), 'h6' => t('H6'));
  $form['tag'] = array(
    '#title' => t('Tag'),
    '#type' => 'select',
    '#options' => $size,
    '#default_value' => isset($attrs['tag']) ? $attrs['tag'] : 'h3',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  return $form;
}


function jango_shortcodes_shortcode_dividers($attrs, $text) {

  $title_icon = '';
  $icon = '';
  if (isset($attrs['icon'])) {
    $icon = $attrs['icon'] . ' c-font-' . $attrs['font_color'];
    $title_icon = 'c-icon-bg';
  }

  $text = '<div class="c-content-divider ' . $title_icon . ' ' . $attrs['label_align'] . ' c-bg-' . $attrs['line_color'] . ' ' . $attrs['divider_size'] . '">
             <i class="' . $icon . ' ' . $attrs['divider_type'] . ' c-bg-' . $attrs['color_icon'] . '"></i>
           </div>';

  return $text;
}


function jango_shortcodes_shortcode_dividers_settings($attrs, $text) {
  $form['icon'] = array(
    '#title' => t('Icons'),
    '#type' => 'textfield',
    '#autocomplete_path' => 'admin/ajax/jango_shortcodes/icons_autocomplete',
    '#default_value' => isset($attrs['icon']) ? $attrs['icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $dividers_type = array(
    'icon-dot' => 'Type dot',
    'icon-dot c-square' => 'Type square',
  );
  $form['divider_type'] = array(
    '#title' => t('Divider type'),
    '#type' => 'select',
    '#options' => $dividers_type,
    '#default_value' => isset($attrs['divider_type']) ? $attrs['divider_type'] : 'icon-dot',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $bg_colors = array(
    'white' => t('White'),
    'green' => t('Green'),
    'blue' => t('Blue'),
    'red' => t('Red'),
    'yellow' => t('Yellow'),
    'purple' => t('Purple'),
    'gray' => t('Gray'),
    'dark' => t('Dark'),
  );
  $text_align = array(
    'c-left' => t('Left'),
    'c-right' => t('Right'),
    'center' => t('Center'),
  );
  $text_size = array(
    'c-divider' => t('Default'),
    'c-divider-sm' => t('Small'),
  );
  $form['divider_size'] = array(
    '#title' => t('Dividers size'),
    '#type' => 'select',
    '#options' => $text_size,
    '#default_value' => isset($attrs['divider_size']) ? $attrs['divider_size'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['label_align'] = array(
    '#title' => t('Text Align'),
    '#type' => 'select',
    '#options' => $text_align,
    '#default_value' => isset($attrs['label_align']) ? $attrs['label_align'] : 'c-left',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['font_color'] = array(
    '#title' => t('Icon color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['font_color']) ? $attrs['font_color'] : 'white',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['line_color'] = array(
    '#title' => t('Line color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['line_color']) ? $attrs['line_color'] : 'green',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div>',
  );
  $form['color_icon'] = array(
    '#title' => t('Background color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['color_icon']) ? $attrs['color_icon'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-2">',
    '#suffix' => '</div></div>',
  );

  return $form;
}

function jango_shortcodes_shortcode_slider($attrs, $text) {

  $auto_play = isset($attrs['slide_autoplay']) && $attrs['slide_autoplay'] ? 'true' : 'false';
  $slide_speed = isset($attrs['slide_autoplay']) ? $attrs['slide_autoplay'] : '0';

  switch ($attrs['type_slider']) {
    case 'image':
      $label = isset($attrs['label']) ? '<div class="c-content-label c-font-uppercase c-font-bold">' . $attrs['label'] . '</div>' : '';
      $text = '<div class="c-content-media-2-slider" data-slider="owl">
              ' . $label . '
               <div class="owl-carousel owl-theme c-theme owl-single" data-single-item="true" data-auto-play="' . $auto_play . '" data-slide-speed = "' . $slide_speed . '" desktop-small-items = "1">
                       ' . $text . '
               </div> 
             </div>';
      break;
    case 'block':
      $text = '<div class="c-content-media-1-slider c-pagination-bottom" data-slider="owl">
                <div class="owl-carousel owl-theme owl-theme-white owl-single" data-single-item="true" data-auto-play="' . $auto_play . '" data-slide-speed = "' . $slide_speed . '" data-rtl="false">
                    ' . $text . '
                </div>
            </div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_slider_settings($attrs, $text) {
  $slider_type = array(
    'image' => 'Image',
    'block' => 'Block',
  );
  $form['type_slider'] = array(
    '#title' => t('Slider Type'),
    '#type' => 'select',
    '#options' => $slider_type,
    '#default_value' => isset($attrs['type_slider']) ? $attrs['type_slider'] : 'image',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['label'] = array(
    '#type' => 'textfield',
    '#title' => t('Label'),
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_slider"]' => array('value' => 'image'),
      )
    ),
  );
  $form['slide_autoplay'] = array(
    '#type' => 'textfield',
    '#title' => t('Autoplay (in milliseconds)'),
    '#default_value' => isset($attrs['slide_autoplay']) ? $attrs['slide_autoplay'] : '',
    '#description' => t('8000 is mean 8seconds'),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
  );  
  return $form;
}


function jango_shortcodes_shortcode_slider_item($attrs, $text) {

  switch ($attrs['type_slider']) {
    case 'image':
      if (isset($attrs['fid'])) {
        $uri = file_load($attrs['fid']);
        $url = isset($uri->uri) ? file_create_url($uri->uri) : '';
      }
      else {
        $url = '';
      }

      $height = isset($attrs['height']) ? $attrs['height'] : '380px';
      $atts['class'] = 'item';
      $text = '
        <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
          <div class="c-content-media-2 c-bg-img-center" style="background-image: url(' . $url . '); min-height: ' . $height . ';">
          ' . (isset($attrs['heart']) && $attrs['heart'] ? '
            <div class="c-panel">
              <div class="c-fav">
                <i class="icon-heart c-font-thin"></i>
                <p class="c-font-thin">' . $attrs['heart'] . '</p>
              </div>
            </div>' : '') . '
          </div>
        </div>';
      break;
    case 'block':
      $atts['class'] = 'item';
      $text = '
        <div ' . _jango_shortcodes_shortcode_attributes($attrs) . '>
                 <div class="c-content-v-center ' . $attrs['block_color'] . '" data-height="height">
                   <div class="c-wrapper">
                     <div class="c-body c-center c-padding-10">
                       <h3 class="c-font-30 c-line-height-35 c-font-white c-font-bold c-font-uppercase">' . $text . '</h3>
                     </div>
                   </div>
                 </div>
               </div>';
      break;
  }

  return $text;
}


function jango_shortcodes_shortcode_slider_item_settings($attrs, $text) {
  $slider_type = array(
    'image' => 'Image',
    'block' => 'Block',
  );
  $form['type_slider'] = array(
    '#title' => t('Slider Type'),
    '#type' => 'select',
    '#options' => $slider_type,
    '#default_value' => isset($attrs['type_slider']) ? $attrs['type_slider'] : 'image',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $file = isset($attrs['fid']) && !empty($attrs['fid']) ? file_load($attrs['fid']) : '';
  $filename = isset($file->uri) ? $file->uri : '';
  $image = $filename ? theme('image_style', array(
    'style_name' => 'media_thumbnail',
    'path' => $filename
  )) : '';

  $form['fid'] = array(
    '#type' => 'textfield',
    '#title' => t('Background'),
    '#default_value' => isset($attrs['fid']) ? $attrs['fid'] : '',
    '#attributes' => array('class' => array('image-media-upload hidden')),
    '#field_suffix' => '<div class = "preview-image">' . $image . '</div><a href = "#" class = "media-upload button">' . t('Upload Image') . '</a><a href = "#" class = "media-remove button">' . t('Remove Image') . '</a>',
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_slider"]' => array('value' => 'image'),
      )
    ),
  );

  $form['height'] = array(
    '#type' => 'textfield',
    '#title' => t('Height'),
    '#default_value' => isset($attrs['height']) ? $attrs['height'] : '380px',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_slider"]' => array('value' => 'image'),
      )
    ),
  );

  $bg_colors = array(
    'c-theme-bg' => t('Theme Color'),
    'c-bg-green' => t('Green'),
    'c-bg-blue' => t('Blue'),
    'c-bg-red' => t('Red'),
    'c-bg-red-2' => t('Red Dark'),
    'c-bg-yellow' => t('Yellow'),
    'c-bg-purple' => t('Purple'),
    'c-bg-gray' => t('Gray'),
    'c-bg-white' => t('White'),
    'c-bg-dark' => t('Dark'),
  );
  $form['block_color'] = array(
    '#title' => t('Block color'),
    '#type' => 'select',
    '#options' => $bg_colors,
    '#default_value' => isset($attrs['block_color']) ? $attrs['block_color'] : 'green',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_slider"]' => array('value' => 'block'),
      )
    ),
  );
  $form['heart'] = array(
    '#title' => t('Heart Number'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['heart']) ? $attrs['heart'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-3">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type_slider"]' => array('value' => 'image'),
      )
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_nd_gmap($attrs, $text) {
  $output = '<div class="container">
                    <div class="c-content-contact-1 c-opt-1">
                        <div class="row" data-auto-height=".c-height">
                            <div class="col-sm-8 c-desktop"></div>
                            <div class="col-sm-4" style="height: 612px;">'
    . $text . '    
                            </div>
                            </div>
                        </div>
                    </div>
                </div><div id="gmapbg" class="c-content-contact-1-gmap" style="height: 615px;"
                 data-lat="' . (isset($attrs['lat']) ? $attrs['lat'] : 40.7786855) . '"
                 data-lng="' . (isset($attrs['lng']) ? $attrs['lng'] : -73.9625954) . '"
                 data-type="' . $attrs['type'] . '"
                 data-scrollwheel="' . $attrs['scrollwheel'] . '"
                 data-address="' . (isset($attrs['address']) ? $attrs['address'] : '') . '"></div>';

  return $output;
}


function jango_shortcodes_shortcode_nd_gmap_settings($attrs, $text) {
  $type = array(
    'roadmap' => t('Roadmap'),
    'panorama' => t('Panorama'),
  );
  $form['type'] = array(
    '#title' => t('Map type'),
    '#type' => 'select',
    '#options' => $type,
    '#default_value' => isset($attrs['type']) ? $attrs['type'] : 'roadmap',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>',
  );
  $form['scrollwheel'] = array(
    '#type' => 'checkbox',
    '#title' => t('Scroll wheel'),
    '#default_value' => isset($attrs['scrollwheel']) ? $attrs['scrollwheel'] : FALSE,
    '#prefix' => '<div class = "col-sm-3">',
    '#suffix' => '</div></div>',
  );
  $form['lat'] = array(
    '#title' => t('Latitude'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['lat']) ? $attrs['lat'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['lng'] = array(
    '#title' => t('Longitude'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['lng']) ? $attrs['lng'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['address'] = array(
    '#title' => t('Address'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['address']) ? $attrs['address'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>',
    '#states' => array(
      'visible' => array(
        'select[name="type"]' => array('value' => 'roadmap'),
      )
    ),
  );

  return $form;
}


function jango_shortcodes_shortcode_nd_gmap_info($attrs, $text) {

  $social_links = '';
  if (isset($attrs['l_twitter'])) {
    $social_links .= '<li>
                       <a href="' . $attrs['l_twitter'] . '">
                         <i class="fa fa-twitter"></i>
                       </a>
                      </li>';
  }
  if (isset($attrs['l_facebook'])) {
    $social_links .= '<li>
                       <a href="' . $attrs['l_facebook'] . '">
                         <i class="fa fa-facebook"></i>
                       </a>
                      </li>';
  }
  if (isset($attrs['l_youtube'])) {
    $social_links .= '<li>
                       <a href="' . $attrs['l_youtube'] . '">
                         <i class="fa fa-youtube-play"></i>
                       </a>
                     </li>';
  }
  if (isset($attrs['l_linkedin'])) {
    $social_links .= '<li>
                        <a href="' . $attrs['l_linkedin'] . '">
                          <i class="fa fa-linkedin"></i>
                        </a>
                      </li>';
  }
  $attrs['address_title'] = isset($attrs['address_title']) ? $attrs['address_title'] : t('Address');
  $attrs['social_title'] = isset($attrs['social_title']) ? $attrs['social_title'] : t('Social');
  $attrs['contacts_title'] = isset($attrs['contacts_title']) ? $attrs['contacts_title'] : t('Contacts');
  $text = '
  <div class="c-body">
      <div class="c-section">
          <h3>' . $attrs['label'] . '</h3>
      </div>
      <div class="c-section">
          <div class="c-content-label c-font-uppercase c-font-bold c-theme-bg">'. $attrs['address_title'] . '</div>
          <p>' . $attrs['address'] . '</p>
      </div>
      <div class="c-section">
          <div class="c-content-label c-font-uppercase c-font-bold c-theme-bg">'. $attrs['contacts_title'] . '</div>
          <p>
             ' . $attrs['contacts'] . '
             </p>
      </div>
      <div class="c-section">
          <div class="c-content-label c-font-uppercase c-font-bold c-theme-bg">'. $attrs['social_title'] . '</div>
          <br/>
          <ul class="c-content-iconlist-1 c-theme">
             ' . $social_links . '
          </ul>
      </div>';

  return $text;
}


function jango_shortcodes_shortcode_nd_gmap_info_settings($attrs, $text) {
  $form['social_title'] = array(
    '#title' => t('Social Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['social_title']) ? $attrs['social_title'] : t('Social'),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
  );
  $form['address_title'] = array(
    '#title' => t('Address Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['address_title']) ? $attrs['address_title'] : t('Address'),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
  );
  $form['contacts_title'] = array(
    '#title' => t('Contacts Title'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['contacts_title']) ? $attrs['contacts_title'] : t('Contacts'),
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '</div><div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );

  $form['label'] = array(
    '#title' => t('Label'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['label']) ? $attrs['label'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['address'] = array(
    '#title' => t('Address'),
    '#type' => 'textarea',
    '#default_value' => isset($attrs['address']) ? $attrs['address'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['contacts'] = array(
    '#title' => t('Contacts'),
    '#type' => 'textarea',
    '#default_value' => isset($attrs['contacts']) ? $attrs['contacts'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );

  $form['l_twitter'] = array(
    '#title' => t('Link twitter'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['l_twitter']) ? $attrs['l_twitter'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['l_facebook'] = array(
    '#title' => t('Link facebook'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['l_facebook']) ? $attrs['l_facebook'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );
  $form['l_youtube'] = array(
    '#title' => t('Link youtube'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['l_youtube']) ? $attrs['l_youtube'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class="row"><div class = "col-sm-4">',
    '#suffix' => '</div>'
  );
  $form['l_linkedin'] = array(
    '#title' => t('Link linkedin'),
    '#type' => 'textfield',
    '#default_value' => isset($attrs['l_linkedin']) ? $attrs['l_linkedin'] : '',
    '#attributes' => array('class' => array('form-control')),
    '#prefix' => '<div class = "col-sm-4">',
    '#suffix' => '</div></div>'
  );

  return $form;
}
